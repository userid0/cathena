//===== eAthena Script ======================================= 
//= Airship Related Quests
//===== By: ================================================== 
// Samuray22
//===== Current Version: ===================================== 
//= 1.0
//===== Compatible With: ===================================== 
//= eAthena SVN
//===== Description: ========================================= 
//= Quest from the airplane to einbroch and einbech.
//= Reward: -Free Ticket for Flyship.
//=	    -Free System to Repair.
//= Quest about how work the airship
//= Reward: -Base Experience 200.000
//=	    -Job Experience 10.000
//===== Additional Comments: ================================= 
//= 1.0 First Beta.
//============================================================ 

//=======================================================================================================//
//					Airship Ticket Quest
//=======================================================================================================//

//====================Kain Himere=============================

airplane,47,61,1	script	Crewman	833,{
	if(kain_ticket==4) {
		mes "[Kain Himere]";
		mes "Ah...";
		mes "Here it is!";
		next;
		mes "[Kain Himere]";
		mes "A few days ago, a customer from Einbroch left this on the Airship. He contacted us later to let us know that he can't come back to the Airship to get it.";
		next;
		mes "[Kain Himere]";
		mes "His name is Defru Ark. Currently, he's staying at the Einbroch Hotel. Would you be willing to deliver this for me?";
		next;
		mes "[Kain Himere]";
		mes "It's a strange favor to ask, but I'll pay you back as soon as you return.";
		next;
		set kain_ticket, 5;
		mes "^3355FFKain Himere has given you a small box.^000000";
		close;
	}
	mes "[Kain Himere]";
	mes "Welcome to the Airship. If you have any questions or need any assistnace, please don't hesisitate to let me or one of the other crewman know.";
	next;
	if(kain_ticket==0) {
		switch( select( "About the Airship...", "Leave a Comment" )) {
		case 1:
			set kain_ticket, 1;
			mes "[Kain Himere]";
			mes "Is this your first time flying? Hahaha, I understand how nervous you might be since I used to feel the same way.";
			next;
			mes "[Kain Himere]";
			mes "Our country has made rapid progress in the field of science. Scientific advances have obviously affected our way of life, sort of like how magic improved life in Rune-Migarts.";
			next;
			mes "[Kain Himere]";
			mes "In the Schwaltzwald Republic, we have many scholars who've invented a ship that can fly between towns.";
			next;
			mes "[Kain Himere]";
			mes "It's powered through just a little piece from the Heart of Ymir. This flying ship is a source of pride and joy for our nation.";
			next;
			mes "["+strcharinfo(0)+"]";
			mes "Is there any other transportation?";
			next;
			mes "[Kain Himere]";
			mes "Weeeell, there's a train that runs between Einbech and Einbroch. But other than that, I guess you'd have to walk. Hahahaha~";
			close;
		case 2:
			mes "[Kain Himere]";
			mes "You wish to leave";
			mes "a comment about our";
			mes "service? Tell me your";
			mes "message and I'll report";
			mes "it to the higher ups.";
			mes "To cancel, press '0'.";
			next;
			input @comment$;
			if (@comment$ == "0") {
				mes "[Kain Himere]";
				mes "Ah, well, if you";
				mes "have any helpful criticism about our service, feel free to leave me with your comments at any time.";
				close;
			} else {
				mes "["+strcharinfo(0)+"]";
				mes ""+@comment$+".";
				next;
				mes "[Kain Himere]";
				mes "Hmmmm...";
				mes "I see. Well, I'll";
				mes "send your message";
				mes "to my superiors as";
				mes "soon as possible.";
				mes "Thank you very much.";
				close;
			}
		}
	} else if(kain_ticket==1) {
		switch( select( "About the Airship...", "Make a remark" )) {
		case 1:
			set kain_ticket, 2;
			mes "[Kain Himere]";
			mes "You want to hear more";
			mes "about the Airship? Hmm, I don't know too many stories that I could tell you.";
			next;
			mes "[Kain Himere]";
			mes "Well, it's rumored that this really huge corporation runs this Airship. Supposedly, they've got their hands in all sorts of enterprises.";
			next;
			mes "[Kain Himere]";
			mes "Since the Airships are our form of national transportation, I guess that corporation makes a lot of money. Good news for them, huh?";
			close;
		case 2:
			mes "[Kain Himere]";
			mes "You wish to leave";
			mes "a comment about our";
			mes "service? Tell me your";
			mes "message and I'll report";
			mes "it to the higher ups.";
			mes "To cancel, press '0'.";
			next;
			input @comment$;
			if (@comment$=="0") {
				mes "[Kain Himere]";
				mes "Ah, well, if you";
				mes "have any helpful criticism about our service, feel free to leave me with your comments at any time.";
				close;
			} else {
				mes "["+strcharinfo(0)+"]";
				mes ""+@comment$+".";
				next;
				mes "[Kain Himere]";
				mes "Hmmmm...";
				mes "I see. Well, I'll";
				mes "send your message";
				mes "to my superiors as";
				mes "soon as possible.";
				mes "Thank you very much.";
				close;
			}
		}
	} else if(kain_ticket==2) {
		mes "["+strcharinfo(0)+"]";
		mes "About the Airship...";
		next;
		mes "[Kain Himere]";
		mes "You must really want to know all about the Airship, don't you? I'm sorry, but I don't know much more than what I've already told you.";
		next;
		mes "[Kain Himere]";
		mes "I guess if you'd want to know more, you should study to become a Sage in Juno and do your own Airship research...";
		next;
		mes "[Kain Himere]";
		mes "^666666*Sob...*^000000";
		mes "E-excuse me...";
		mes "^666666*Sniff*^000000";
		next;
		switch( select( "What the hell...?", "What's wrong?" )) {
		case 1:
			mes "[Kain Himere]";
			mes "Oh, no there's no";
			mes "need to apologize. I've kept you long enough as it is. I hope you travel safely, adventurer.";
			close;
		case 2:
			mes "[Kain Himere]";
			mes "You...";
			mes "I'm sorry, it's";
			mes "a long story.";
			mes "But... if you understand me, thanks a lot to listen my story.";
			next;
			mes "[Kain Himere]";
			mes "Oh alright.";
			mes "I might as well";
			mes "get this off my chest.";
			mes "I guess my story begins";
			mes "when I was a very young man...";
			next;
			mes "[Kain Himere]";
			mes "I...";
			mes "I used to be a miner in Einbech, a small mining town beside of Einbroch. I was hot-blooded and short-tempered.";
			next;
			mes "[Kain Himere]";
			mes "But working with my friends and staking our lives on our mining picks brought me peace of mind. It was good, hard work.";
			next;
			mes "[Kain Himere]";
			mes "The lode of Einvech is so huge, it even connects to Mount Mjolnir in Rune-Midgard. It's full of ores and that lode used to be everything to our little town...";
			next;
			mes "[Kain Himere]";
			mes "Then the factories started popping up. All the ores were mined were moved to those factories, and the smokestacks never stopped churning.";
			next;
			mes "[Kain Himere]";
			mes "More miners moved to the factories and the work got a little lonelier. But I kept at it-- I loved working on the land that much.";
			next;
			mes "[Kain Himere]";
			mes "But then, the accident happened and I couldn't use my right arm the way I used to. So I had to quit my job as a miner...";
			next;
			mes "["+strcharinfo(0)+"]";
			mes "I'm sorry to hear that.";
			next;
			mes "[Kain Himere]";
			mes "Yeah...";
			mes "I felt horrible when it happened. That was the worst time in my life...";
			next;
			mes "[Kain Himere]";
			mes "Right after I quit mining, I was deeply depressed. I couldn't think of life without mining and suffered from depression.";
			next;
			mes "[Kain Himere]";
			mes "I pretty much lost my enthusiasm for life. I started turning to drink and away from my family. It was such a stupid thing to do.";
			next;
			mes "[Kain Himere]";
			mes "My wife was so supportive. Even though I spent my days drinking, so took on a job and tried her best to sooth my sorrow.";
			next;
			mes "[Kain Himere]";
			mes "^666666*Sob*^000000";
			mes "I only realized how much I made her suffer after she died.";
			next;
			mes "[Kain Himere]";
			mes "Then it was me and just my daughter. I had to leave her behind with a neighbor while I tried to find work and inner peace.";
			next;
			mes "[Kain Himere]";
			mes "I wandered from town to town and lived a pretty wild life before I could pick myself back up again.";
			next;
			mes "[Kain Himere]";
			mes "Finally, I became a crewman on this Airship. It's been twenty years... I can't even remember my daughter's name.";
			next;
			mes "["+strcharinfo(0)+"]";
			mes "Where is she by now?";
			next;
			mes "[Kain Himere]";
			mes "I went to the house where my neighbor lived, but they're not there anymore. But it's not like I deserve to see her again...";
			next;
			mes "[Kain Himere]";
			mes "^666666*Sob*^000000 I've lived such a terrible life! But thank you for listening to me.";
			next;
			mes "[Kain Himere]";
			mes "I'm sorry that you had to hear all of that. Now tell me, where are you headed?";
			next;
			mes "[Kain Himere]";
			mes "By the way, where are you heading to?";
			next;
			switch( select( "Einbroch", "Juno" )) {
			case 1:
				set kain_ticket, 4;
				mes "["+strcharinfo(0)+"]";
				mes "I'm heading";
				mes "to Einbroch.";
				next;
				mes "[Kain Himere]";
				mes "Perfect...!";
				mes "Now, let me find";
				mes "that thing. Hold on...";
				close;
			case 2:
				set kain_ticket, 3;
				mes "["+strcharinfo(0)+"]";
				mes "I'm heading";
				mes "to Juno.";
				next;
				mes "[Kain Himere]";
				mes "Ah, I see...";
				mes "There was something";
				mes "I needed sent to Einbroch. Anyway, I hope you have a good trip. Oh, and thanks for listening.";
				close;
			}
		}			
	} else if(@kain_ticket==3) {
		mes "[Kain Himere]";
		mes "Oh, how are you?";
		mes "Right, there's a favor I have to ask of you. Where are you heading?";
		next;
		switch( select( "Einbroch", "Juno" )) {
		case 1:
			set kain_ticket, 4;
			mes "["+strcharinfo(0)+"]";
			mes "I'm heading";
			mes "to Einbroch.";
			next;
			mes "[Kain Himere]";
			mes "Perfect...!";
			mes "Now, let me find";
			mes "that thing. Hold on...";
			close;

		case 2:
			mes "["+strcharinfo(0)+"]";
			mes "I am heading to Juno.";
			next;
			mes "[Kain Himere]";
			mes "Ah, I see...";
			mes "There was something";
			mes "I needed sent to Einbroch. If you're not going there, then don't worry about it.";
			close;
		}
	} else if(kain_ticket > 4 && kain_ticket < 10) {
		mes "[Kain Himere]";
		mes "Oh hello!";
		mes "Things are a little busy right now, but did you delive-- Oh! Wait, mister!";
		next;
		mes "^3355FFKain seems too busy to speak to you right now...^000000";
		close;
	} else if(kain_ticket== 10) {
		mes "[Kain Himere]";
		mes "Welcome back to the Airship. So did you deliver that little box safely?";
		next;
		mes "["+strcharinfo(0)+"]";
		mes "No, unfortunately. He was away when I got there. Let me give this box back to you.";
		next;
		mes "[Kain Himere]";
		mes "Oh...";
		mes "What should I do now? Oh well, sorry for putting you through so much trouble.";
		next;
		switch( select( "Do you know 'Miner's Song?'", "Do you remember 'Tarsha?'" )) {
		case 1:
			mes "[Kain Himere]";
			mes "'Miner's Song...'";
			mes "I miss that singing that at the mines. It was my very favorite when I was young.";
			next;
			mes "[Kain Himere]";
			mes "I think that when I used to sing it, my daughter would run to me and sing along. Yeah...";
			close;
		case 2:
			mes "[Kain Himere]";
			mes "T-Tarsha?";
			mes "Why is that name";
			mes "so familiar...?";
			next;
			mes "["+strcharinfo(0)+"]";
			mes "I met a little girl in Einbroch who was singing 'Miner's Song.' Apparently, her mother, Tarsha, taught it to her.";
			next;
			mes "[Kain Himere]";
			mes "Interesting.";
			mes "But usually only";
			mes "miners know that";
			mes "song. What does this";
			mes "have to do with me?";
			next;
			mes "["+strcharinfo(0)+"]";
			mes "Well, Tarsha remembers her father singing her song, so it's possible that ^000066he^000000 was a miner. And since her father disappeared years ago...";
			next;
			mes "[Kain Himere]";
			mes "Poor girl...!";
			mes "Her father";
			mes "just left her?";
			mes "Why, she's just like...";
			next;
			mes "[Kain Himere]";
			mes "Wait...";
			mes "Sweet Christ...";
			mes "The miner who taught Tarsha that song might have been ^0000FFme^000000.";
			next;
			mes "["+strcharinfo(0)+"]";
			mes "I guess we can't be too sure for now. Do you have anything that might prove you're Tarsha's father?";
			next;
			mes "[Kain Himere]";
			mes "Ehhmmm...";
			mes "Before I left town, I buried some of my stuff ^3131FFunderneath a tree in Einbech^000000. I can't remember where, but I did bury my wife's journal with my things.";
			next;
			mes "[Kain Himere]";
			mes "Since she kept track of everything, I think there'd be something about our daughter in there. I'm sorry, but I can't leave the Airship.";
			next;
			mes "[Kain Himere]";
			mes "Would be so kind as to help me by finding that journal and seeing if Tarsha is my daughter?";
			set kain_ticket, 11;
			close;
		}
	} else if(kain_ticket == 11 || kain_ticket == 12) {
		mes "[Kain Himere]";
		mes "My wife's journal is buried ^3131FFunderneath a tree in Einbech^000000. Please find it and see if Tarsha is my daughter.";
		close;
	} else if(kain_ticket == 13) {
		mes "^3355FFYou better fulfill Kain's request to find his wife's journal in Einbech before you speak to him again.^000000";
		close;
	} else if(kain_ticket == 14) {
		if (countitem(7276)==1) {
			mes "^3355FFYou gave Kain his wife's journal and told him that Tarsha really is is daughter, and currently has a job in Einbech.^000000";
			next;
			mes "^3355FFKain's eyes welled with tears as he trembled with joy.^000000";
			next;
			mes "[Kain Himere]";
			mes "She must have";
			mes "had a hard time...";
			mes "But she doesn't";
			mes "hate me at all.";
			next;
			mes "[Kain Himere]";
			mes "Rashelle?";
			mes "Can you see me?";
			mes "Can I be this happy?";
			mes "I'm so sorry, my love...";
			mes "^666666*Sob...*^000000";
			next;
			mes "[Kain Himere]";
			mes "Thank you for all of your help, youngster. And please take this as a token of my gratitude.";
			next;
			mes "[Kain Himere]";
			mes "I know this isn't much, but please understand that it's all I can give you. God bless you for your all your help!";
			delitem 7276, 1;
			set kain_ticket, 15;
			getitem 7311, 4;
			close;
		} else {
			mes "^3355FFHmmm...";
			mes "It would be better if you approached Kain and bring the Doodled Letter that you received.^000000";
			close;
		}
	} else if(kain_ticket >= 15) {
		mes "[Kain Himere]";
		mes "Oh, how are you";
		mes "lately, my friend?";
		mes "I've been doing great,";
		mes "especially since you've";
		mes "helped me find my daughter.";
		mes "Enjoy your travels~";
		close;
	}
}

//====================Empty Room 201==========================

ein_in01,227,279,5	script	door_ein	-1,5,5,{
OnTouch:
	if (kain_ticket == 5) {
		set kain_ticket, 6;
		mes "["+strcharinfo(0)+"]";
		mes "Excuse me...?";
		next;
		mes "^3355FFNo one's here!^000000";
		next;
		mes "["+strcharinfo(0)+"]";
		mes "This must be the room...";
		mes "But where the hell is he?";
		mes "I can't just leave this stuff here if he won't come back.";
		next;
		mes "["+strcharinfo(0)+"]";
		mes "Oh well...";
		mes "I guess I can";
		mes "just give this";
		mes "back to Kain.";
		close;
	}
}

//====================Elle Cherno=============================

ein_in01,261,241,5	script	Elle Cherno	703,3,3,{
OnTouch:
	mes "[Elle Cherno]";
	mes "Let's get to work";
	mes "fear-less comraaades~!";
	mes "Do our best! Nothing";
	mes "can stop us, lads~!";
	if(kain_ticket == 6) {
		next;
		switch( select( "Hello!", "What are you singing?")) {
		case 1:
			mes "[Elle Cherno]";
			mes "Let's get to work";
			mes "fear-less comraaades~!";
			mes "Do our best! Nothing";
			mes "can stop us, lads~!";
			next;
			mes "[Elle Cherno]";
			mes "I like this song lots!";
			mes "Especially when I yell";
			mes "out 'comrades!'";
			close;
		case 2:
			set kain_ticket, 7;
			mes "[Elle Cherno]";
			mes "This...?";
			mes "It's the Miner's Song!";
			next;
			mes "[Elle Cherno]";
			mes "Daddy doesn't like it too much, but mommy likes it a lot and she sings it too!";
			next;
			mes "[Elle Cherno]";
			mes "I think my mommy remembers something about this song. I think it's something sad.";
			next;
			mes "[Elle Cherno]";
			mes "Jus' today she heard it and she looked like she was going to cry. ^333333*Gasp!*^000000 Do you think she's sick?!";
			next;
			mes "[Elle Cherno]";
			mes "Oh no! Hey, you're a grownup! Can see if my mommy is sick for me? Please?";
			next;
			mes "[Elle Cherno]";
			mes "Our house is behind the Hotel. So can see my mommy and tell me if she's not feeling good?";
			close;
		}
	} else if(kain_ticket == 7) {
		next;
		mes "[Elle Cherno]";
		mes "Our house is";
		mes "right behind";
		mes "the Hotel. Will";
		mes "you go and see";
		mes "my mommy for me?";
		close;
	} else if(kain_ticket == 13) {
		next;
		//Check if you can carry the Picture Letter.
		 if (checkweight(7276,1)) {
			mes "[Elle Cherno]";
			mes "You saw my grandpa?";
			mes "You're his friend,";
			mes "right? A-are you";
			mes "gonna see him later?";
			next;
			mes "[Elle Cherno]";
			mes "I made something for him. I don't know how to write, but I made this letter as best I can. Will you promise to give this to him for me? Please?";
			next;
			mes "^3355FFElle put a big";
			mes "doodled message";
			mes "in your hand.^000000";
			set kain_ticket, 14;
			getitem 7276, 1; //Picture Letter,
			close;
		} else {
			mes "[Elle Cherno]";
			mes "Hey! I have something to give you, but you have too much stuff already. Will you come back later?";
			close;
		}
	}
	close;
}

//====================Theo Cherno=============================

ein_in01,123,94,1	script	Theo Cherno	851,{
	if(kain_ticket == 7) {
		callfunc "cherno";
		set kain_ticket, 8;
		close;
	} else if(kain_ticket > 7 && kain_ticket < 10) {
		mes "[Theo Cherno]";
		mes "You are very kind.";
		close;
	} else if(kain_ticket > 9 && kain_ticket < 13) {
		mes "[Theo Cherno]";
		mes "Are you sure";
		mes "that you can find";
		mes "her father? Oh...!";
		mes "You're a godsend!";
		close;
	} else if(kain_ticket > 12) {
		Emotion 18, "Theo Cherno";
		mes "[Theo Cherno]";
		mes "I'm so happy";
		mes "for my wife.";
		mes "I... I don't know";
		mes "how to thank you.";
		close;
	} else {
		mes "[Theo Cherno]";
		mes "Hmm...";
		mes "Shall we talk";
		mes "later? I'm pretty";
		mes "busy trying to fix";
		mes "this thing at the moment.";
		close;
	}
}

//====================Tarsha Cherno===========================

ein_in01,125,99,3	script	Tarsha Cherno	850,{
	if(kain_ticket == 7) {
		callfunc "cherno";
		set kain_ticket, 8;
		close;
	} else if(kain_ticket == 8) {
		mes "[Tarsha Cherno]";
		mes "Although these contraptions aren't worth showing off, we've put a lot of work into inventing these machines.";
		close;
	} else if(kain_ticket == 9) {
		mes "["+strcharinfo(0)+"]";
		mes "Ma'am, you have a scar on your shoulder. Is that from an accident?";
		next;
		mes "[Tarsha Cherno]";
		mes "Oh this...?";
		mes "It's from years ago.";
		mes "I guess I was quite";
		mes "the trouble maker to";
		mes "the people who raised me.";
		next;
		mes "[Tarsha Cherno]";
		mes "You see, I lose my parents when I was very young. It was only later that I realized that I was raised by foster parents.";
		next;
		mes "[Tarsha Cherno]";
		mes "My foster-mother told me that my real mother died long ago, but no one's sure if my real father is still alive.";
		next;
		mes "[Tarsha Cherno]";
		mes "I tried my best to make my foster-mother happy, but sadly, I was too hot headed and rebellious.";
		next;
		mes "[Tarsha Cherno]";
		mes "In the end, I left home and studied mechanics. That's how I met my husband. Meeting him is the greating thing that's ever happened to me!";
		next;
		mes "["+strcharinfo(0)+"]";
		mes "By the way,";
		mes "I heard your";
		mes "daughter singing";
		mes "some sort of Miner's Song.";
		next;
		mes "[Theo Cherno]";
		mes "I don't understand";
		mes "why that she likes";
		mes "such a robust song";
		mes "for men! Haha, this";
		mes "is all your fault, Tarsha.";
		Emotion 29, "Theo Cherno";
		next;
		mes "[Tarsha Cherno]";
		mes "Hoho.";
		mes "I was too young to remember it clearly, but I'm sure my real father loved that song.";
		next;
		mes "[Tarsha Cherno]";
		mes "I barely recall that he used to sing it while cleaning our old house. Yes, I don't remember what he looked like, but he must have been a miner.";
		next;
		mes "["+strcharinfo(0)+"]";
		mes "A miner...?";
		mes "(Wait, that crewman, Kain Himere! He's a miner who lost his daughter!)";
		next;
		mes "["+strcharinfo(0)+"]";
		mes " !!!!!!";
		next;
		mes "["+strcharinfo(0)+"]";
		mes "Tarsha...";
		mes "Your father";
		mes "may still be";
		mes "alive!";
		next;
		mes "[Tarsha Cherno]";
		mes "...What?";
		next;
		mes "["+strcharinfo(0)+"]";
		mes "I've got to go check something now, but hopefully I'll be back soon with good news!";
		set kain_ticket, 10;
		close;
	} else if(kain_ticket == 10 || kain_ticket == 11) {
		mes "["+strcharinfo(0)+"]";
		mes "I know someone who might be your father! Just wait for me, hopefully I'll bering good news soon!";
		close;
	} else if(kain_ticket == 12) {
		mes "[Tarsha Cherno]";
		mes "Oh, welcome back.";
		mes "So did you bring";
		mes "good news...?";
		next;
		mes "["+strcharinfo(0)+"]";
		mes "Yes, speaking of which, allow me to... Check something.";
		next;
		switch( select( "Check her neck.", "Check her hands.", "Check her legs.", "Check her forehead.")) {
		case 1:
			mes "^3355FFUh oh...";
			mes "Nothing's there!^000000";
			next;
			mes "[Theo Cherno]";
			mes "H-how rude!";
			mes "Touching another";
			mes "man's wife...?!";
			next;
			specialeffect2 147;
			percentheal -30,0;
			close;
		case 2:
			mes "^3355FFYou found";
			mes "a burn mark on";
			mes "her hand.^000000";
			next;
			mes "["+strcharinfo(0)+"]";
			mes "That's it! Tarsha, your father's name is Kain. He's working for the Airship as a crewman.";
			next;
			mes "["+strcharinfo(0)+"]";
			mes "He misses you";
			mes "a lot and hopes";
			mes "that you can forgive";
			mes "him... Someday.";
			next;
			mes "[Tarsha Cherno]";
			mes "Are...";
			mes "Are you serious?";
			mes "My father's alive!";
			mes "Oh thank god! Thank";
			mes "you so much!";
			next;
			mes "[Tarsha Cherno]";
			mes "...........";
			mes "That means, my";
			mes "real name would be";
			mes "^3131FFTarsha Himere^000000.";
			next;
			mes "[Tarsha Cherno]";
			mes "Oh, you're a godsend! I'll never forgot what you've done for me! I must repay you, but all I know is mechanical engineering!";
			next;
			mes "[Tarsha Cherno]";
			mes "Oh, if you have ^3131FFany broken equipment^000000, I can fix it with this ^FF0000<Expert Repairman>^000000. It's one of our best inventions!";
			next;
			mes "[Tarsha Cherno]";
			mes "Oh, I must go see my real father soon! I've missed him for years! Thank you for all your help!";
			next;
			mes "[Tarsha Cherno]";
			mes "Ah, right.";
			mes "Elle wants to see you again. Would you be so kind as to see her before you go?";
			set kain_ticket, 13;
			close;
		case 3:
			mes "^3355FFUh oh...";
			mes "Nothing's there!^000000";
			next;
			mes "[Theo Cherno]";
			mes "H-how rude!";
			mes "Touching another";
			mes "man's wife...?!";
			next;
			specialeffect2 147;
			percentheal -20,0;
			close;
		case 4:
			mes "^3355FFUh oh...";
			mes "Nothing's there!^000000";
			next;
			mes "[Theo Cherno]";
			mes "H-how rude!";
			mes "Touching another";
			mes "man's wife...?!";
			next;
			specialeffect2 147;
			percentheal -10,0;
			close;
		}
	} else if(kain_ticket > 12) {
		mes "[Tarsha Cherno]";
		mes "I've been feeling";
		mes "great after all you've";
		mes "done for us. Once again,";
		mes "I'd like to thank you,";
		mes "kind adventurer.";
		close;
	} else {
		mes "[Tarsha Cherno]";
		mes "I'm sorry, but";
		mes "we're pretty busy.";
		mes "Please excuse us~";
		close;
	}
}

function	script	cherno	{
	misceffect 2;
	mes "^33355F*Bang*^000000";
	next;
	misceffect 3;
	mes "^33355F*Bang*^000000";
	next;
	misceffect 4;
	mes "^33355F*Bang*^000000";
	next;
	misceffect 20;
	mes "^33355F*Crash!*^000000";
	mes "....."; 
	emotion 4, "Theo Cherno";
	Emotion 4, "Tarsha Cherno";
	next;
	mes "[Theo Cherno]";
	mes "Honey...";
	mes "I think there's";
	mes "a critical structural";
	mes "problem with the joint.";
	next;
	mes "[Tarsha Cherno]";
	mes "I think they're";
	mes "not connected right...";
	next;
	mes "[Theo Cherno]";
	mes "Well, let's call";
	mes "it a day and finish";
	mes "this tomorrow.";
	next;
	Emotion 1, "Tarsha Cherno";
	mes "[Tarsha Cherno]";
	mes "Elle is playing outside.";
	mes "Oh, I didn't know we had";
	mes "a guest? Hello, how are you?";
	next;
	switch( select( "Nothing.", "Your daughter asked me to visit you.")) {
	case 1:
		mes "[Theo Cherno]";
		mes "As you see, my wife and I are pretty";
		mes "busy to study a research.";
		mes "If you do not have any urgent business,";
		mes "will you please leave us alone?";
		close;
	case 2:
		Emotion 4, "Tarsha Cherno";
		Emotion 4, "Theo Cherno";
		mes "[Tarsha Cherno]";
		mes "Excuse me?";
		mes "What did she say?";
		next;
		mes "["+strcharinfo(0)+"]";
		mes "Well, uh...";
		mes "She wanted to me";
		mes "to check if her mom";
		mes "was sick or sad";
		mes "...Or something?";
		next;
		Emotion 23, "Tarsha Cherno";
		mes "[Tarsha Cherno]";
		mes "Oh my god...!";
		mes "What is she";
		mes "thinking...?";
		next;
		mes "[Theo Cherno]";
		mes "wait, darling.";
		mes "I agree that sometimes you look sad and lonely, gazing out that window with those wistful eyes.";
		next;
		mes "[Tarsha Cherno]";
		mes "Oh, I must be making my family very anxious. But don't you worry, love. I'm very happy with you and Elle.";
		next;
		mes "[Tarsha Cherno]";
		mes "And...";
		mes "Kind adventurer,";
		mes "May I ask your name?";
		next;
		mes "["+strcharinfo(0)+"]";
		mes "I am called,";
		mes ""+strcharinfo(0)+".";
		next;
		mes "[Tarsha Cherno]";
		mes ""+strcharinfo(0)+",";
		mes "I appreciate your concerns~ Would you please stay for a cup of tea?";
		next;
		mes "[Tarsha Cherno]";
		mes "My husband and I have been studying mechanical engineering. You see, there are many Einbech miners risking their lives everyday.";
		next;
		mes "[Tarsha Cherno]";
		mes "If we could create a machine that could reduce the risk of mining ores, we could really help them. But we're pretty far from reaching that goal.";
		next;
		mes "["+strcharinfo(0)+"]";
		mes "Ah...";
		mes "So that's why";
		mes "there's so many";
		mes "interesting things";
		mes "in your house...";
		next;
		mes "^3355FFYou begin to";
		mes "take a look around";
		mes "the Cherno household.^000000";
		return;
	}
}

//========Unidentified Machine #1 and #2=======================

ein_in01,127,94,5	script	 Unidentified Machine#machine1	111,{
	callfunc "Machine";
}
ein_in01,122,103,5	script	Unidentified Machine	111,{
	callfunc "Machine";
}
function	script	Machine	{
	mes "^3355FFIt's...";
	mes "It's a really";
	mes "strange looking";
	mes "machine. Does it";
	mes "even do anything?^000000";
	close;
}

//====================Mirror=============================

ein_in01,121,99,5	script	Mirror	111,{
	if(kain_ticket==8) {
		mes "^3355FFIt's a mirror.";
		mes "So, of course the";
		mes "first thing you'll";
		mes "see is yourself.";
		next;
		mes "["+strcharinfo(0)+"]";
		mes "Man...";
		mes "I didn't know";
		mes "I was so good looking!";
		next;
		mes "^3355FFAfter enjoying that little epiphany, you see a reflection of Tarsha's neck as you set the mirror back down.^000000";
		next;
		mes "^3355FFAs you take a closer look, you find that there's a strange mark around her neck...^000000";
		set kain_ticket, 9;
		close;
	}
}

//====================Tree from Einbech=============================

einbech,45,113,5	script	Tree#t1-1::Tree	111,{
	if(kain_ticket==11) {
		mes "^3355FFYou crouch down";
		mes "under the tree and";
		mes "begin digging into";
		mes "the ground.^000000";
		next;
		mes "...";
		mes "......";
		next;
		mes "...";
		mes "......";
		mes ".........";
		next;
		set @find_diary,rand(1,100);
		if(@find_diary > 10) {
			mes "^3355ffUnfortunately,";
			mes "you weren't able";
			mes "to find anything.^000000";
			close;
		} else {
			callfunc "diary";
			set kain_ticket, 12;
			close;
		}
	} else if(kain_ticket == 12) {
		callfunc "diary";
		close;
	}
}

function	script	diary	{
	mes "^3355ffYou have found a ^3131FFJournal^3355ff among some other articles buried for safekeeping.^000000";
	next;
	mes "^3355FFYou open";
	mes "the journal";
	mes "and begin to read...^000000";
	next;
	mes "...";
	mes "......";
	next;
	mes "<Date : OX OX>";
	mes "^333333I'm sooo happy";
	mes "to be with Kain.";
	mes "He's such an honest,";
	mes "sincere man, even if";
	mes "he is quiet sometimes.";
	next;
	mes "^333333Although he's a good husband, I'm not so good at being a housewife. But I'll do my best.^000000";
	next;
	mes "<Date : OX OX>";
	mes "^333333I fell asleep while fixing dinner and burned all food. Awww, why am I so careless? But Kain ate every bite, even if he had to pretend that he liked it.^000000";
	next;
	mes "<Date : OX OX>";
	mes "^333333Kain and I will be having a child soon! I'm so happy, but I'm also a little worried sometimes. Kain is all smiles though and he gives me relief.^000000";
	next;
	mes "<Date : OX OX>";
	mes "^333333More people have been leaving the mines to work for the new factory. It seems Kain's pride has been really wounded lately. How can I help him...?^000000";
	next;
	mes "<Date : OX OX>";
	mes "^333333Kain and I are now the proud parents of a beautiful baby girl. We named her ^3131FFTarsha^000000 and she has her father's eyes. I'm going to be the best mother I can for her.^000000";
	next;
	mes "<Date : OX OX>";
	mes "^333333Tarsha called me 'mom' for the first time! It's a miracle! I want nothing else in the world but for her to be happy and healthy.^000000";
	next;
	mes "<Date : OX OX>";
	mes "^333333Kain got into an accident. While the miners were digging ores, toxic gas was released. It wasn't lethal, but Kain's arm has been partly paralyzed and the doctor says it might affect his memories later.^000000";
	next;
	mes "^333333He's so depressed. I tried to make him feel better by making his favorite soup. He smiled and thanked me, but I could tell he was feeling more desperate.^000000";
	next;
	mes "^333333I hope he feels better soon. His despair is as great as his passion for his job.^000000";
	next;
	mes "...";
	mes "......";
	next;
	mes "<Date : OX OX>";
	mes "^333333Lately, Kain has been drunk too often and he always screams and yells when he comes home. There's too much anger in him!^000000";
	next;
	mes "^333333He's not the same anymore. What ever happened to the kind man that I married?^000000";
	next;
	mes "...";
	mes "......";
	next;
	mes "<Date : OX OX>";
	mes "^333333Tarsha got her hand scalded from boiling water while playing in the kitchen. Although she was treated, there'll always be a ^3131FFburn mark^333333 on her hand.^000000";
	next;
	mes "^333333After we got home, Tarsha laughed and played with her doll as if nothing happened. But I couldn't stop crying for some reason.^000000";
	next;
	mes "...";
	mes "......";
	next;
	mes "<Date : OX OX>";
	mes "^333333Kain comes home less nowadays. I've had to start working in the store after we spent all of Kain's savings.^000000";
	next;
	mes "^333333It's tough working and taking care of the family at the same time, but Tarsha's beautiful smile makes everything worth it. Still, I can't help but worry about Kain...^000000";
	next;
	mes "...";
	mes "......";
	next;
	mes "<Date : OX OX>";
	mes "^333333Everyday, I get weaker and weaker. I wanted to finally tell Kain today, but he was definitely not in the mood to talk.^000000";
	next;
	mes "^333333Lately Tarsha cries a lot. My poor baby loves her father so much, but he's always so cold. Sometimes I see him smile at Tarsha.^000000";
	next;
	mes "^333333But those moments grow fewer the more he drinks. When will he finally overcome his pain?^000000";
	next;
	mes "...";
	mes "......";
	next;
	mes "^3355FFThat was the last page of the journal. You picked it up so that you can bring it over to ^3131FFTarsha.^000000";
	return;
}

//====================Expert Repairman=============================

ein_in01,117,80,5	script	Unidentified Machine	111,{
	if(kain_ticket > 12) {
		mes "["+strcharinfo(0)+"]";
		mes "This is the";
		mes "^FF0000Expert Repairman^000000?!";
		mes "It looks like it";
		mes "needs repairs itself...";
		next;
		if(getbrokenid(1)==NULL) {
			mes "[Expert Repairman]";
			mes "*Beep-*";
			mes "Please check";
			mes "your items again.";
			close;
		} else {
			set @choice,select(getitemname(getbrokenid(1)),getitemname(getbrokenid(2)),
			getitemname(getbrokenid(3)),getitemname(getbrokenid(4)),getitemname(getbrokenid(5)),
			getitemname(getbrokenid(6)),getitemname(getbrokenid(7)),getitemname(getbrokenid(8)),
			getitemname(getbrokenid(9)),getitemname(getbrokenid(10)));
			mes "[Expert Repairman]";
			mes "You're gonna repair " + getitemname(getbrokenid(@choice)) + ".";
			mes "Continue?";
			next;
			switch( select("Yes","No")) {
			case 1:
				repair(@choice);
				next;
				mes "[Expert Repairman]";
				mes "*Beep-*";
				mes "Task is";
				mes "complete.";
				close;
			case 2:
				mes "[Expert Repairman]";
				mes "You decided to quit it.";
				close;
			}
		}
	} else {
		mes "^3355FFIt's some sort of strange machine. What ever could it do?^000000";
		close;
	}
}
//===================Trees From Einbech==========================
//Tree of the Diary			
einbech,36,100,5	duplicate(Tree)	Tree#t1-2	111
einbech,44,90,5	duplicate(Tree)		Tree#t1-3	111
einbech,53,94,5	duplicate(Tree)	Tree#t1-4	111

//=======================================================================================================//
//				"How Does The Airship Work" Quest
//=======================================================================================================//


//=============Monsters Attack======================
airplane_01,1,1,0	script	Quest_Izl	-1,{
OnInit:
	disablenpc "Airship Captain#02";
OnInvasion:
while($@mobinv == 9 && $@mobrand == 3)
{
	Initnpctimer;
	end;
OnTimer1764000:
	mapannounce "airplane_01","Captain: Attention, all passengers.",1,0x00FF00;
	end;
OnTimer10000:
	mapannounce "airplane_01","Captain: We are being approached by a group of unidentified creatures.",1,0x00ff00;
	end;
OnTimer12000:
	mapannounce "airplane_01", "Captain: All passengers on deck, please find shelter inside the ship!",1,0x00ff00;
	disablenpc "Airship Staff#info";
	end;
OnTimer16000:
	monster "airplane_01",245,57,"Gremlin",1632,1;
	monster "airplane_01",247,59,"Gremlin",1632,1;
	monster "airplane_01",249,52,"Gremlin",1632,1;
	monster "airplane_01",243,62,"Gremlin",1632,1;
	monster "airplane_01",239,52,"Beholder",1633,1;
	monster "airplane_01",234,56,"Beholder",1633,1;
	monster "airplane_01",227,49,"Beholder",1633,1;
	monster "airplane_01",233,41,"Beholder",1633,1;
	set $@monster, rand(1,5);
	if($@monster == 1) {
		monster "airplane_01",251,47,"Drainliar",1434,1;
		monster "airplane_01",245,53,"Drainliar",1434,1;
		monster "airplane_01",234,46,"Drainliar",1434,1;
		monster "airplane_01",233,58,"Drainliar",1434,1;
		monster "airplane_01",243,60,"Drainliar",1434,1;
		monster "airplane_01",228,54,"Drainliar",1434,1;
		monster "airplane_01",232,41,"Drainliar",1434,1;
	} else if($@monster == 2) {
		monster "airplane_01",251,47,"Rotar Zairo",1557,1;
		monster "airplane_01",245,53,"Rotar Zairo",1557,1;
		monster "airplane_01",234,46,"Rotar Zairo",1557,1;
		monster "airplane_01",233,58,"Rotar Zairo",1557,1;
		monster "airplane_01",243,60,"Rotar Zairo",1557,1;
		monster "airplane_01",228,54,"Rotar Zairo",1557,1;
		monster "airplane_01",232,41,"Rotar Zairo",1557,1;
	} else if($@monster == 3) {
		monster "airplane_01",251,47,"Farmiliar",1419,1;
		monster "airplane_01",245,53,"Farmiliar",1419,1;
		monster "airplane_01",234,46,"Farmiliar",1419,1;
		monster "airplane_01",233,58,"Farmiliar",1419,1;
		monster "airplane_01",243,60,"Farmiliar",1419,1;
		monster "airplane_01",228,54,"Farmiliar",1419,1;
		monster "airplane_01",232,41,"Farmiliar",1419,1;
	} else if($@monster == 4) {
		monster "airplane_01",251,47,"Picky",1050,1;
		monster "airplane_01",245,53,"Picky",1050,1;
		monster "airplane_01",234,46,"Picky",1050,1;
		monster "airplane_01",233,58,"Picky",1050,1;
		monster "airplane_01",243,60,"Picky",1050,1;
		monster "airplane_01",228,54,"Picky",1050,1;
		monster "airplane_01",232,41,"Picky",1050,1;
	} else if($@monster == 5) {
		monster "airplane_01",251,47,"Steel Chonchon",1042,1;
		monster "airplane_01",245,53,"Steel Chonchon",1042,1;
		monster "airplane_01",234,46,"Steel Chonchon",1042,1;
		monster "airplane_01",233,58,"Steel Chonchon",1042,1;
		monster "airplane_01",243,60,"Steel Chonchon",1042,1;
		monster "airplane_01",228,54,"Steel Chonchon",1042,1;
		monster "airplane_01",232,41,"Steel Chonchon",1042,1;	
	}
	end;
OnTimer16010:
	monster "airplane_01",238,56,"Gremlin",1632,1;
	monster "airplane_01",239,56,"Gremlin",1632,1;
	monster "airplane_01",240,50,"Gremlin",1632,1;
	monster "airplane_01",241,56,"Gremlin",1632,1;
	monster "airplane_01",247,51,"Gremlin",1632,1;
	monster "airplane_01",237,44,"Beholder",1633,1;
	monster "airplane_01",233,54,"Beholder",1633,1;
	monster "airplane_01",237,62,"Beholder",1633,1;
	end;
OnTimer21000:
	mapannounce "airplane_01", "Attendant: Captain Tarlock, we're in trouble! The monsters are heading to the propellers!",1,0x00FF00;
	end;
OnTimer26000:
	mapannounce "airplane_01", "Captain Tarlock: What?! I've got to stop them!",1,0x70DBDB;
	end;
OnTimer31000:
	disablenpc "Airship Captain#01";
	enablenpc "Airship Captain#02";
	end;
OnTimer36000:
	emotion 6, "Airship Captain#02";
	mapannounce "airplane_01", "Captain Tarlock: You ugly, godforsaken creatures... Get off my ship!",1,0x70DBDB;
	end;
OnTimer36500:
	mapannounce "airplane_01", "*Kzzz...Drrrr...Boom! CRASH!*",1,0x00FF00;
	donpcevent "boom#air-6::OnAttack"; //6
	end;
OnTimer37000:
	donpcevent "boom#air-7::OnAttack"; //7
	end;
OnTimer37500:
	donpcevent "boom#air-8::OnAttack"; //8
	end;
OnTimer38000:
	donpcevent "boom#air-9::OnAttack"; //9
	end;
OnTimer38500:
	donpcevent "boom#air-10::OnAttack"; //10
	end;
OnTimer39000:
	donpcevent "boom#air-6::OnAttack"; //6
	end;
OnTimer39500:
	donpcevent "boom#air-7::OnAttack"; //7
	end;
OnTimer40000:
	donpcevent "boom#air-8::OnAttack"; //8
	end;
OnTimer40500:
	donpcevent "boom#air-9::OnAttack"; //9
	end;
OnTimer41000:
	donpcevent "boom#air-10::OnAttack"; //10
	end;
OnTimer41500:
	donpcevent "boom#air-6::OnAttack"; //6
	mapannounce "airplane_01", "Engineer: Oh no! We've got a problem with the Number One Rear Engine!",1,0x00FF00;
	end;
OnTimer42500:
	donpcevent "boom#air-7::OnAttack"; //7
	end;
OnTimer43500:
	donpcevent "boom#air-8::OnAttack"; //8
	end;
OnTimer44500:
	donpcevent "boom#air-9::OnAttack"; //9
	end;
OnTimer45500:
	donpcevent "boom#air-10::OnAttack"; //10
	end;
OnTimer46500:
	mapannounce "airplane_01", "Pilot: Hurry! Get the women, old people and children somewhere safe first! Hurry!",1,0x00FF00;
	end;
OnTimer47500:
	donpcevent "boom#air-6::OnAttack"; //6
	end;
OnTimer48500:
	donpcevent "boom#air-7::OnAttack"; //7
	end;
OnTimer49500:
	donpcevent "boom#air-8::OnAttack"; //8
	end;
OnTimer50500:
	donpcevent "boom#air-7::OnAttack"; //7
	end;
OnTimer51500:
	Emotion 6, "Airship Captain#02";
	mapannounce "airplane_01", "Captain Tarlock: You dirty monsters are dealing with this ship's captain...",1,0x70DBDB;
	end;
OnTimer56500:
	Emotion 6, "Airship Captain#02";
	mapannounce "airplane_01", "Captain Tarlock: I'll protect this ship and my crew with my life!",1,0x70DBDB;
	end;
OnTimer61500:
	Emotion 29, "Airship Captain#02";
	mapannounce "airplane_01", "Captain Tarlock: Here goes! Special Exodus Joker XIII Doom Rifle!",1,0x70DBDB;
	end;
OnTimer66500:
	mapannounce "airplane_01", "*Bang! Bang Bang! Bang Bang! Bang Bang Bang!*",1,0x00FF00;
	donpcevent "Airship Captain#02::OnAttack";
	end;
OnTimer67000:
	donpcevent "boom#air-1::OnAttack"; //1
	donpcevent "Airship Captain#02::OnAttack";
	end;
OnTimer67500:
	donpcevent "boom#air-2::OnAttack"; //2
	//ShowEffect "Airship Captain#02" EF_HIT5
	end;
OnTimer68000:
	donpcevent "boom#air-3::OnAttack"; //3
	donpcevent "Airship Captain#02::OnAttack";
	end;
OnTimer68500:
	donpcevent "boom#air-4::OnAttack"; //4
	donpcevent "Airship Captain#02::OnAttack";
	end;
OnTimer69000:
	donpcevent "boom#air-5::OnAttack"; //5
	donpcevent "Airship Captain#02::OnAttack";
	end;
OnTimer69500:
	donpcevent "boom#air-0::OnAttack"; //0
	donpcevent "Airship Captain#02::OnAttack";
	end;
OnTimer70000:
	donpcevent "boom#air-1::OnAttack"; //1
	donpcevent "Airship Captain#02::OnAttack";
	end;
OnTimer70500:
	donpcevent "boom#air-2::OnAttack"; //2
	donpcevent "Airship Captain#02::OnAttack";
	end;
OnTimer71000:
	donpcevent "boom#air-4::OnAttack"; //4
	donpcevent "Airship Captain#02::OnAttack";
	end;
OnTimer71500:
	donpcevent "boom#air-5::OnAttack"; //5
	end;
OnTimer72000:
	Emotion 6, "Airship Captain#02";
	mapannounce "airplane_01","Captain Tarlock: Filthy animals! Stop ruining my ship!",1,0x70DBDB;
	end;
OnTimer72500:
	mapannounce "airplane_01", "*Bang! Bang Bang! Bang Bang! Bang Bang Bang!*",1,0x00FF00;
	donpcevent "Airship Captain#02::OnAttack";
	end;
OnTimer73000:
	donpcevent "boom#air-6::OnAttack"; //6
	donpcevent "Airship Captain#02::OnAttack";
	end;
OnTimer73500:
	donpcevent "boom#air-7::OnAttack"; //7
	donpcevent "Airship Captain#02::OnAttack";
	end;
OnTimer74000:
	donpcevent "boom#air-8::OnAttack"; //8
	donpcevent "Airship Captain#02::OnAttack";
	end;
OnTimer74500:
	donpcevent "boom#air-9::OnAttack"; //9
	donpcevent "Airship Captain#02::OnAttack";
	end;
OnTimer75000:
	donpcevent "boom#air-10::OnAttack"; //10
	donpcevent "Airship Captain#02::OnAttack";
	end;
OnTimer75500:
	donpcevent "boom#air-6::OnAttack"; //6
	donpcevent "Airship Captain#02::OnAttack";
	end;
OnTimer76000:
	donpcevent "boom#air-7::OnAttack"; //7
	donpcevent "Airship Captain#02::OnAttack";
	end;
OnTimer76500:
	donpcevent "boom#air-8::OnAttack"; //8
	donpcevent "Airship Captain#02::OnAttack";
	end;
OnTimer77000:
	donpcevent "boom#air-9::OnAttack"; //9
	donpcevent "Airship Captain#02::OnAttack";
	end;
OnTimer77500:
	donpcevent "boom#air-8::OnAttack"; //8
	mapannounce "airplane_01", "*Boom! Boom Boom! Boom Boom! Boom!*",1,0x00FF00;
	end;
OnTimer78000:
	donpcevent "boom#air-9::OnAttack"; //9
	end;
OnTimer78500:
	donpcevent "boom#air-10::OnAttack"; //10
	end;
OnTimer79000:
	donpcevent "boom#air-6::OnAttack"; //6
	end;
OnTimer79500:
	donpcevent "boom#air-7::OnAttack"; //7
	end;
OnTimer80000:
	Emotion 26,"Airship Captain#02";
	mapannounce "airplane_01", "Captain Tarlock: There's... To many to handle!",1,0x70DBDB;
	end;
OnTimer85000:
	mapannounce "airplane_01", "Pilot: Captain, sir, the situation is getting critical!",1,0x00FF00;
	end;
OnTimer100000:
	Emotion 4,"Airship Captain#02";
	mapannounce "airplane_01", "Captain Tarlock: We'll need all the help we can get!",1,0x70DBDB;
	end;
OnTimer125000:
	Emotion 26,"Airship Captain#02";
	mapannounce "airplane_01", "Captain Tarlock: All hands and any passenger who can fight! We've got to drive away these monsters!",1,0x70DBDB;
	end;
OnTimer130000:
	disablenpc "Airship Captain#02";
	enablenpc "Airship Captain#01";
	enablenpc "Airship Staff#info";
	donpcevent "YunoIzl_Airship::OnReturn";
	end;
}
}

//========Captain Tarlock (Outside the Captain Cabin)=======================

airplane_01,246,54,5	script	Airship Captain#02	873,{
	mes "[Tarlock]";
	mes "I am Tarlock,";
	mes "captain of this";
	mes "Airship. Go and";
	mes "fight with the";
	mes "Gremlins!";
	close;
OnAttack:
	misceffect 4;
	end;
}

//========Captain Tarlock (Inside the Captain Cabin)=======================

airplane_01,238,154,5	script	Airship Captain#01	873,{
	mes "[Tarlock]";
	mes "I am Tarlock,";
	mes "captain of this";
	mes "Airship. Did you";
	mes "have a question?";
	next;
	if (lght_air >= 0 && lght_air <= 2 || lght_air == 7) {
		set question$, "How does this Airship fly?";
	} else if(lght_air == 4) {
		set question$, "I handed the letter to Captain Ferlock.";
	} else if(lght_air == 5) {
		set question$, "You finished reading the letter?";
	} else if(lght_air == 6) {
		set question$, "Already finished reading?";
	}
	switch( select( "Y-you're a reindeer?!", ""+question$+"", "No, not really." )){
	case 1:
		mes "[Tarlock]";
		mes "Hm? Oh, that";
		mes "We reindeer are a proud";
		mes "race who like to travel the";
		mes "world. But that should be";
		mes "obvious if you think of the";
		mes "reindeer working for Claus.";
		next;
		mes "[Tarlock]";
		mes "Well, reindeer or";
		mes "not, I've earned the";
		mes "captaincy of this ship";
		mes "and the loyalty of my crew.";
		mes "We'll do everything we can to";
		mes "make sure your flight is safe.";
		close;
	case 2:
		if(lght_air == 1) {
			if (BaseLevel <= 59) {
				mes "[Tarlock]";
				mes "Mm...?";
				mes "Didn't you ask me that";
				mes "before? Well, in any case";
				mes "I apologize, but I'm still not";
				mes "allowed to tell you that secret.";
				close;
			} else {
				mes "[Tarlock]";
				mes "Mm...?";
				mes "Didn't you ask me that";
				mes "before? Are you just curious";
				mes "or did you really want to know?";
				next;
				switch( select( "No, not really...", "Yes, I really want to know!")) {
				case 1:
					mes "[Tarlock]";
					mes "Hahahaha~";
					mes "Maybe someday you'll";
					mes "figure out how this Airship";
					mes "is able to stay aloft and";
					mes "fly through the skies.";
					close;
				case 2:
					mes "[Tarlock]";
					mes "In all honestly, the";
					mes "secret to this Airship's";
					mes "flight is something that";
					mes "only captains are authorized";
					mes "to know. So I shouldn't really";
					mes "tell you anything about it.";
					next;
					mes "[Tarlock]";
					mes "But I've never been able";
					mes "to trust upper management";
					mes "so I don't have any loyalty to";
					mes "them. I wouldn't mind telling";
					mes "you that classified info if you";
					mes "do a little favor for me first.";
					next;
					switch( select( "Let me think about it.", "Sure.")) {
					case 1:
						mes "[Tarlock]";
						mes "Alright. But don't";
						mes "worry, I'm not going";
						mes "to ask you to do anything";
						mes "that you can't handle. Come";
						mes "back after you decide, alright?";
						close;
					case 2:
						set lght_air, 2;
						mes "[Tarlock]";
						mes "Ha-hah! I like you";
						mes "already! Alright, here's";
						mes "the deal. I have a younger";
						mes "brother who I rarely see since";
						mes "he's also an Airship Captain";
						mes "that's always traveling.";
						next;
						mes "[Tarlock]";
						mes "Would you bring this";
						mes "letter to my brother,";
						mes "Ferlock? Also, please";
						mes "make sure that you come";
						mes "back with his reply, alright?";
						mes "Thank you, adventurer.";
						next;
						mes "[Tarlock]";
						mes "Oh, and once you meet";
						mes "my brother, please help";
						mes "him out. He'll explain it";
						mes "once you see him.";
						next;
						mes "^3131FFYou have received";
						mes "Captain Tarlock's letter";
						mes "to deliver to his younger";
						mes "brother, Captain Ferlock.";
						close;
					}
				}
			}
		} else if(lght_air == 4) {
			set lght_air, 5;
			mes "[Tarlock]";
			mes "Oh!";
			mes "And he answer you? Really?!";
			mes "In fact, I wasn't";
			mes "expecting that too much...";
			mes "Please wait a little,";
			mes "I'll read his letter.";
			close;
		} else if(lght_air == 5) {
			set lght_air, 6;
			mes "[Tarlock]";
			mes "Um... Ha ha ha~!";
			mes "This guy, he is a real lover!";
			mes "But his true inner man";
			mes "is limited by his duty.";
			mes "What do you think?";
			mes "Hoh hoh hoh.";
			next;
			mes "^3131ffHe continue reading";
			mes "the letter.^000000";
			close;
		} else if(lght_air== 6) {
			mes "[Tarlock]";
			mes "Yes, I finished.";
			mes "Even if I understand him";
			mes "I've a totally different";
			mes "point of view. But both";
			mes "of us are fearless.";
			next;
			mes "[Tarlock]";
			mes "Oh, I almost forgot,";
			mes "I'll teach you what you";
			mes "wanted to know.";
			next;
			mes "[Tarlock]";
			mes "The Airship's secret to float is...";
			mes "The large boiler is setted on fire,";
			mes "That moves the pistons, gears";
			mes "and turbines with the steam";
			mes "that is generated when the water";
			mes "passes within the boiler.";
			next;
			mes "[Tarlock]";
			mes "That turns the propeller.";
			mes "That's all. Did you understand?";
			next;
			switch( select( "Um? Only that? There's no more?")) {
			case 1:
				mes "[Tarlock]";
				mes "Ha ha ha!";
				mes "I explained it roughtly to";
				mes "make it easier to understand";
				mes "by you. Still, you aren't";
				mes "pleased? I said it in plain";
				mes "english that everyone could";
				mes "understand.";
				next;
				mes "[Tarlock]";
				mes "Obviously, only with a steam";
				mes "is impossible to make this fly.";
				mes "Therefore, it uses an amplifier";
				mes "called ^ff0000Rune Mechanism^000000.";
				next;
				switch( select( "Uh? What's a Rune Mechanism?")) {
				case 1:					
					mes "[Tarlock]";
					mes "It's a device that uses a";
					mes "magic stone as power source.";
					mes "However, I don't know how";
					mes "this work...";
					mes "I forgot the details probably";
					mes "because I didn't paid much attention.";
					next;
					mes "[Tarlock]";
					mes "The only I remember is";
					mes "that the energy is amplified";
					mes "while it passes through the";
					mes "Rune that is attached to a";
					mes "steam engine.";
					next;
					mes "[Tarlock]";
					mes "In fact, all this airship";
					mes "floats thanks to the power";
					mes "given by the stone, no";
					mes "exaggeration.";
					mes "It has really a strong power.";
					next;
					specialeffect2 231;
					mes "[Tarlock]";
					mes "Did you understand?";
					mes "I'll rest a little.";
					mes "I'm tired for reading";
					mes "and writing those long";
					mes "letters.";
					set lght_air, 7;
					getexp 200000, 10000;
					close;
				}
			}
		} else if(lght_air == 7) {
			mes "[Tarlock]";
			mes "Didn't I teach you before?";
			mes "I won't explain such a long";
			mes "tale again!";
			close;
		} else if(lght_air == 2) {
			mes "[Tarlock]";
			mes "Hahahah! Don't worry, I'll";
			mes "tell you know this Airship";
			mes "flies once you deliver that";
			mes "letter to my brother, Ferlock,";
			mes "and bring back his reply.";
			close;
		}
		mes "[Tarlock]";
		mes "Hahaha! How this";
		mes "Airship flies? Yes, it's";
		mes "quite wonderful, isn't it?";
		mes "Although that's a secret,";
		mes "let me assure you that it's";
		mes "nothing weird or dangerous.";
		set lght_air, 1;
		close;
	case 3:
		mes "[Tarlock]";
		mes "Alright, then.";
		mes "Thanks for flying";
		mes "with us, and I hope";
		mes "you enjoy your travels.";
		close;
	}
}


//===========Captain Ferlock=======================

airplane,236,163,5	script	Airship Captain#03	873,{
	mes "[Ferlock]";
	mes "Hey there, welcome";
	mes "aboard the Airship. I'm";
	mes "Ferlock, your captain";
	mes "on this flight. How can";
	mes "I be of service to you?";
	next;
	if(lght_air == 2) {
		set question2$, "Give him Tarlock's Letter.";
		set question3$, "Cancel.";
	} else if(lght_air == 3) {
		set question2$, "Here are the items I've found.";
		set question3$, "Cancel.";
	} else {
		set question2$, "Cancel.";
		set question3$, "";
	}
	switch( select( "How does this Airship fly?", ""+question2$+"", ""+question3$+"")) {
	case 1:
		mes "[Ferlock]";
		mes "I'm sorry, but I can't";
		mes "give you that kind of";
		mes "classified information.";
		mes "It's too important to the";
		mes "security and safety of";
		mes "this Airship, you see.";
		close;
	case 2:
		if (lght_air == 2) {
		set lght_air, 3;
		mes "^3131FFYou give Captain Ferlock";
		mes "the letter that his brother";
		mes "Tarlock has written for him.^000000";
		next;
		mes "[Ferlock]";
		mes "Oh, this is from my";
		mes "brother? Hey, thanks so";
		mes "much for bringing this to";
		mes "me for him. Ah, give me";
		mes "a minute to read all of";
		mes "this, would you now?";
		next;
		mes "[Ferlock]";
		mes "...";
		mes "So that's what he's been";
		mes "up to. Huh. Hahaha! Oh, that's";
		mes "funny. Ah, it's always good to";
		mes "hear from Tarlock. Anyway,";
		mes "I'm sorry to make you next;.";
		next;
		mes "[Ferlock]";
		mes "Anyway, my brother wrote";
		mes "about the usual stuff, but";
		mes "he mentioned that he was";
		mes "hoping to finally return a few";
		mes "things he borrowed from me.";
		mes "However, he lost them...";
		next;
		mes "[Ferlock]";
		mes "It turns that those nasty";
		mes "gremlins that sometimes";
		mes "attack his ship stole my";
		mes "things, so was he actually";
		mes "hoping that you would";
		mes "help me get them back.";
		next;
		mes "[Ferlock]";
		mes "Yeah, yeah. He specifically";
		mes "mentioned that I shouldn't";
		mes "give you my reply until you";
		mes "hunt those monsters and get";
		mes "my stuff back. I'm sorry, but";
		mes "I guess you owe big bro, huh?";
		next;
		mes "[Ferlock]";
		mes "Well, if you're willing to";
		mes "help me, would you get my";
		mes "^ff00002 Will of the Darkness^000000 and";
		mes "^ff00002 Prickly Fruit^000000 back for me?";
		next;
		mes "[Ferlock]";
		mes "The monsters that attack";
		mes "Tarlock's Airship should";
		mes "have them. I'd appreciate";
		mes "it if you'd help me out on";
		mes "this, adventurer. Thanks";
		mes "in advance and good luck~";
		close;
		} else if(lght_air == 3) {
			if (countitem(7340) >= 2 && countitem(576) >= 2) {
				delitem 7340, 2;
				delitem 576, 2;
				set lght_air, 4;
				mes "[Ferlock]";
				mes "You brought the items!";
				mes "Thank you very much.";
				mes "Here, take this letter";
				mes "to my brother and give it";
				mes "to him.";
				next;
				mes "^3131ffYou received a letter from the Captain.^000000";
				next;
				mes "[Ferlock]";
				mes "Please give the best regards";
				mes "to my big brother.";
				mes "Well then, good bye.";
				close;
			}
				mes "[Ferlock]";
				mes "Oh, I'm sorry, but it looks";
				mes "like you're missing something.";
				mes "Would you please go and find";
				mes "^ff00002 Will of the Darkness^000000 and";
				mes "^ff00002 Prickly Fruit^000000? Thanks,";
				mes "brave adventurer~";
				close;
		}
		mes "[Ferlock]";
		mes "Well, I hope that";
		mes "you enjoy your time";
		mes "here on the Airship";
		mes "and that you have a";
		mes "very pleasant journey.";
		close;		
	case 3:
		mes "[Ferlock]";
		mes "Well, I hope that";
		mes "you enjoy your time";
		mes "here on the Airship";
		mes "and that you have a";
		mes "very pleasant journey.";
		close;
	}
}

//========Explosions=======================

airplane_01,239,62,0	script	boom#air-1::boom	139,{
OnAttack:
	misceffect 183;
	end;
}
//==========Duplicates=============
airplane_01,244,55,0	duplicate(boom)	boom#air-2	139
airplane_01,239,50,0	duplicate(boom)	boom#air-3	139
airplane_01,245,59,0	duplicate(boom)	boom#air-4	139
airplane_01,245,48,0	duplicate(boom)	boom#air-5	139
airplane_01,235,39,0	duplicate(boom)	boom#air-6	139
airplane_01,252,41,0	duplicate(boom)	boom#air-7	139
airplane_01,252,63,0	duplicate(boom)	boom#air-8	139
airplane_01,234,65,0	duplicate(boom)	boom#air-9::boom	139
airplane_01,227,67,0	duplicate(boom)	boom#air-10::boom	139
airplane_01,249,50,0	duplicate(boom)	boom#air-0::boom	139