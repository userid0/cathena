Resnametable reading problem, testcases and description
by Akaru
------------------------------------------------------------------
EDITED Resnametable, add at the end:
aaa.gnd#valkyrie.gnd#
aaa.gat#valkyrie.gat#
aaa.rsw#valkyrie.rsw#
유저인터페이스\map\aaa.bmp#유저인터페이스\map\valkyrie.bmp#

At map_athena.conf, add:
map: aaa.gat

Case 1:
In data.grf there's the base resnametable without reference of aaa.gat
In sdata.grf there's no resnametable
In data folder there's an edited resnametable with aaa.gat reference
Results: Athena gives aaa.gat not found error
What this proves: Athena doesn't even use the values in the datafolder resnametable

Case 2:
In data.grf there's the base resnametable without reference of aaa.gat
In sdata.grf there's the edited resnametable aaa.gat reference
In data folder there's an edited resnametable with aaa.gat reference
Results: Athena loads aaa.gat
What this proves: Athena only checks for the existance of the datafolder resnametable, but uses value from sdata.grf resnametable

Case 3:
In data.grf there's the base resnametable without reference of aaa.gat
In sdata.grf there's the edited resnametable aaa.gat reference
In data folder there's no resnametable
BEFORE MY CHANGE: Athena exits, "data/resnametable.txt not found"
AFTER MY CHANGE: Athena loads aaa.gat
What this proves: Athena do not need the datafolder resnametable at all and it still runs from the resnametable in the GRFs

Case 4:
In data.grf there's no resnametable
In sdata.grf there's no resnametable
In data folder there's no resnametable
BEFORE MY CHANGE: Athena exits, "data/resnametable.txt not found"
AFTER MY CHANGE: Athena exits, "data/resnametable.txt not found"

How it is now:
- It searches for the datafolder resnametable:
  - If it exist, it continues but only use the resnametable from the GRF
  - If it does not exist,
    - If resnametable isn't found in data.grf/sdata.grf/adata.grf, it errors "resnametable not found" and exits
    - If resnametable is found in data.grf/sdata.grf/adata.grf, it errors "resnametable not found" and exits

What is should do:
- Check if data_folder in grf-files is enabled:
  - If it is, search for the datafolder resnametable:
    - If it exist:
      - If resnametable isn't found in data.grf/sdata.grf/adata.grf, it continues and uses this resnametable
      - If resnametable is found in data.grf/sdata.grf/adata.grf, it continues and overwrites the GRF resnametable with this one from the datafolder
    - If it does not exist:
      - If resnametable isn't found in data.grf/sdata.grf/adata.grf, it errors "resnametable not found" and exits
      - If resnametable is found in data.grf/sdata.grf/adata.grf, it continues and use the GRF resnametable
   - If it isn't, then:
      - If resnametable isn't found in data.grf/sdata.grf/adata.grf, it errors "resnametable not found" and exits
      - If resnametable is found in data.grf/sdata.grf/adata.grf, it continues and use the GRF resnametable  

------------------------------------------------------------------
Fixes, comments, discussions, etc goes below here:
------------------------------------------------------------------