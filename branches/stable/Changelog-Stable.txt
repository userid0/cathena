Date	Added

AS OF SVN REV. 5091, WE ARE NOW USING TRUNK.  ALL UNTESTED BUGFIXES/FEATURES
GO INTO TRUNK. IF YOU HAVE A WORKING AND TESTED BUGFIX PUT IT INTO STABLE AS
WELL AS TRUNK.  EVERYTHING ELSE GOES INTO TRUNK

2006/08/02
	* Merged @heal, no wonder it wasn't working right when it wasn't merged..
	  [Skotlex]
	* Fixed failing to create Deadly Poison Bottles damaging 50% of your max
	  life instead of 25% [Skotlex]
	* Added the missing status-change flags to SC_FREEZE to signal it should
	  modify def and magic def [Skotlex]
	* Merged Sacrifice's damage cap fix. [Skotlex]
	* Merged flag&16 on battle_calc_base_damage so that Venom Knives and the
	  like won't get the dex damage bonus of ranged weapons. [Skotlex]
	* Fixed Defender Raising Walk speed instead of diminishing it. [Skotlex]
	* Swaped val3/val4 of defender so that all walking penalty skills store
	  said penalty in val3. [Skotlex]
	* Added a check on status-change load to prevent loading speed-affecting
	  status when their speed adjustment is 0 (prevents division by zero)
	  [Skotlex]
	* Corrected GS_ADJUSTMENT giving +30 hit instead of taking them away.
	  [Skotlex]
	* Merged the cleanup routine which removes players from memory when you are
	  shutting down the map-server (said players were sent to save but are not
	  removed from memory due to the save-ack never returning from the
	  char-server) [Skotlex]
	* Moved functions and pieces of code around script.c to make it easier to
	  merge with trunk later on. [Skotlex]
	* Merged some missing features on script.c: [Skotlex]
	- Being able to set/unset via scripts the bexp/jexp mapflags
	- Some mob killing functions using unit_remove_map instead of status_kill
	  (mobs would not respawn).
	- Merged setting the guardian's HP to 0 will kill them if they are alive.
	- Fixed recovery not healing.
	- Merged code for movenpc, the script command should work now. Usage is
	  "movenpc <npc name>, <x>, <y>
	- Merged the declaration of waitingroomkickall (code has always been there,
	  but it was never parsed/usable)
2006/08/01
	* Should have fixed the cooking sets not displaying all cooking available
	  items. [Skotlex]
	* Figured out and fixed the issue with Volcano/Deluge/Violent Gale not
	  really working. Thanks to Mpeg for noting it out. [Skotlex]
	* Fixed Don't Forget Me increase speed instead of decreasing it. [Skotlex]
	* Merged most of the skill-db related files from trunk. [Skotlex]
2006/07/31
	* Fixed the subnet 0 mask being reset to 0 when someone goes up on the fame
	  rankings. [Skotlex]
	* Merged bNoMiscDamage bonus. [Skotlex]
	* Added the missing 20% ranged damage reduction to adjustment. [Skotlex]
	* Merged being able to change equipment while frozen/stunned/sleep/etc
	  [Skotlex]
	* Bladestop will no longer stop when you push either of the characters
	  around. [Skotlex]
	* Enchant Deadly Poison won't stack with Spirit of Assassin (only the
	  former takes place) [Skotlex]
	* Shield Chain won't get the Icepick bonus. [Skotlex]
	* Fixed vanish sprate not working unless you also had sp/hp leech.
	  [Skotlex\
2006/07/30
	* Fixed mob-caused damage experience not being given to their master
	  (summoned mobs) [Skotlex]
	* Corrected a status_get_race call which should be status_get_race2 in misc
	  attacks. [Skotlex]
	* Added missing mob_db2.sql [Toms]
2006/07/28
	* Merged the status_data update. status.c got pretty much a complete
	  rewrite, and several other hp/sp related codes were updated. The following
	  is a brief list of changes. NOTE that this is a pretty massive merge from
	  trunk, and even though most of the merged code has been in trunk for
	  weeks->months, it is highly probably previously unknown bugs will pop up,
	  so YOU ARE WARNED: [Skotlex]
	- Following skills were synced (rewrote, modified, updated, etc): Energy
	  Coat, Fog Wall, Venom splasher, Cart Termination, Poison React,
	  Volcano/Deluge/V.Gale, Soul Change,
	  Freedom of Casting, Magic Power, Ankle Snare, Land Protector, Cloaking,
	  Marionette Control
	- Merged Gunslinger skills, the class should be usable on stable now.
	- Merged rewrite of battle_calc_misc_attack
	- Merged check to prevent you from firing with wrong ammo type (no grenades
	  usable with guns)
	- Battle config settings: Removed enemy_str/enemy_perfect_flee, added
	  enable_baseatk, enable_perfect_flee (battle.conf)
	- Memory leak fix when redefining user functions.
	- Merged bexp and jexp mapflags to have map-specific rates.
	- Merged rewrites of the natural healing and saving functions.
	- Merged use of pc_check_weapontype to enable dagger-type skills to work on
	  dual-wielders.
	- Various cleanups and improvements on the mob logic and code.
	- Merged improved clone code which takes into account base status (so that
	  being buffed before spawning a clone will not make them stronger)
2006/07/28
	* Merged config setting party_hp_mode so you can specify how party-hp bars
	  are updated. Defaults to Aegis style (instant update) [Skotlex]
	* Merged config setting party_update_interval which determine rate at which
	  mini-dots are updated. (defaults to 1sec)
	* Merged config setting update to party_share_type so you can use it to
	  specify that party share loot should only trigger on mob drops. [Skotlex]
2006/07/27
	* Merged the @partyoption command. [Skotlex]
	* Removed a redeclared variable i in the parsing of the fame list (char-sql
 	  server) which seems to be the cause of the random memory corruptions.
	  [Skotlex]
2006/07/26
	* Merged log.c and log_athena.conf, this removes the last traces of the
	  "old" logs structure which wasn't even working anymore anyway. [Skotlex]
	* Merged itemdb_group skipping common item givers like Blue/Violent boxes,
	  so that item-healing bonuses will work correctly now. [Skotlex]
	* Merged support for "sc_end -1" which will clear all status changes. Added
	  the constant SC_ALL so you can use in scripts "sc_end SC_ALL;" instead.
	  Note that it's untested, but current scripts will not break, so it's
	  relatively safe for merging (it should be working since it's a 2-line
	  modification where one can hardly mess it up) [Skotlex]
	* Merged @pettalk/@me being unusable while muted. [Skotlex]
	* Merged battle config settings agi_penalty_target/vit_penalty_target
	  (battle.conf) [Skotlex]
	* Merged use_weapon_skill_range change to type 4 setting. Default is
	  non-players. [Skotlex]
2006/07/23
	* Fixed buildin_isequip not working correctly with non-cards. [Skotlex]
2006/07/22
	* Updated mob_db.sql to latest. [Skotlex]
	* Fixed the whole accessory position equipping bug. [Skotlex]
2006/07/21
	* Merged the check that will make weapons/accesories go on the left when
	  the right slot is occupied and the left is available even if the client
	  specifies the item should go on the right. [Skotlex]
	* Merged cooking success chances. [Skotlex]
	* Corrected the loadmap event description to specify that the mapflag
	  required is actually "loadevent", NOT "loadmap"! [Skotlex]
	* Merged the trim chars update on the char-server to trim line-terminator
	  characters from character names. [Skotlex]
	* Merged SC_COMBO storing the combo-time in val4. This should fix TK
	  infinite combos from not working. [Skotlex]
	* Merges from trunk: [Skotlex]
	- Rewrite/cleanups of the item giving atcommands and script commands, as
	  well as the equip-counting related script commands. The item givers should
	  correctly give pet-eggs now.
	- new itemdb_isrestricted function which also checks for
	  compounded cards to prevent their trading/vending/storing/etc.
	- usage of macro itemdb_isspecial to identify pet eggs or
	  created/crafted items.
	- cleanup of pc_checkbaselevelup & pc_checkjoblevelup. Now when
	  you gain multiple levels on one go, level up related events (scripts,
	  status changes, etc) are executed once at the end.
	- cleanup pc_equipitem which enables you to choose equip position of
	  accessories (rather than sending the item always to the left slot when you
	  had both equipped), even though I still dunno if the client really lets you
	  choose where it goes. It also updates your skill information when you equip
	  a weapon with a different range and skill range by weapon is enabled.
	- Enabled negative autosave_intervals to specify fixed save
	  time-slots (see map_athena for more info)
	- Added missing case 0x229 (changeoption) for the dummy intravision code
	- Made party hp be scaled to 100 rather than 10000 (fixes overflow
	  when you have lots of hp)
	* Merged the fix that enables warp portal to warp people instantly if they
	  were standing on the spot where it activates. [Skotlex]
	* Also merged the correction which prevents the on-place skill-unit event
	  from triggering when the groups tick has been increased (should fix
	  Sanctuary, Gospel and others from taking effect inmediately after being
	  placed down) [Skotlex]
	* Fixed the "cap adelay to amotion when the first is greater than the
	  longer" being applied to clones instead of txt mob_db reading. [Skotlex]
2006/07/20
	* Fixed the intif party creation packet having the incorrect size sent,
	  hence causing the leader's level to be read as garbage (which caused the
	  "impossible to even share" bug). [Skotlex]
	* Merged the fix to @refine [Skotlex]
	* Merged the mob_db correction that updates the adelay to amotion when the
	  first is shorter than the later. [Skotlex]
	* Merged fix that uses clear-char/spawn packets on warps (since option
	  changes do not work on them client-side) [Skotlex]
2006/07/19
	* Merged grfio.c... which should had been done months ago! Fixes a few
	  oddities with local files not being found and the data_dir being
	  confusing to use. Thanks to The Ultra Mage for noting me about it.
	  [Skotlex] 
	* Some minor mapflag changes. [MasterOfMuppets]
2006/07/18
	* Merged some missing lines from int_party.c... should fix sql compilation.
	  [Skotlex]
	* Merges from trunk of some stuff that has been on trunk for a long time
	  now: [Skotlex]
	- Merged the party_data structure which contains more information about the
	  party for better handling. TXT-party save structure changed, so you'll have
	  to wipe the party file...
	- Merged party item sharing skipping idle/dead characters.
	- Merged the remaining missing checks on functions that scan all connected
	  clients to use clif_foreachclient instead of manually scanning it. Fixes
	  data being sent to invalid recipients which in turn could crash the server.
	  This involved a lot of rewrites around the duel-related functions and
	  night/day time.
	- Updated monsterignore to make you inmune to offensive attacks. Added
	  @battleignore alias to reflect this change.
	- Merged clif_specialeffect directly receiving the recipient type. 
	- Merged fix for @storeall saying it failed when the storage is already
	  open.
	- Merged a bunch of defines and constants from map.h, mmo.h and itemdb.h
	- merged Emergency call config setting which lets you determine how the
	  skill behaves. (battle/skill.conf)
	- Merged update of summons_inherit_effects into summons_trigger_autospells.
	  (battle/monster.conf)
	- merged config settings max_heal_lv, no_skill_delay, max_heal
	  (battle/skill.conf)
	- merged fakename commands invoking a name-update instead of pc_setpos.
	- merged the addeff structure which lets you specify the bonus3 versions,
	  as well as specifying target both (check doc/item_bonuses)
	- Merged support for specifying negative autospell rates to cancel said
	  type of bonus.
	- Merged TK ranker unlimited combo-time being extended when you use a
	  proper skill.
	- Merged cleaned up code for pc_setoption
	- Merged some mob ai cleanups from trunk.
	- Merged mobs with player sprites having an act/walk delay when looting.
	- Merged fix where pet armor doesn't shows when just equipped/unequipped.
	* Merged a char-sql fix which was preventing characters to be saved on the
	  char-server after a char-map reconnect. [Skotlex]
2006/07/17
	* Some sign quest map flag updates [MasterOfMuppets]
	* atcommand_follow is now more verbose. [Adam]
2006/07/16
	* Updated mob_db.sql to current mob_db.txt data. [Skotlex]
2006/07/15
	* Small change in conf/battle/player.conf to say that 199 is max aspd allowed
	  (Haplo says that there are many reports of having over 200 is giving errors) [Evera]
2006/07/12
	* Merged some of atcommand.c. Reenabled @changesex, fixed @reset, updated
	  the clean implementation of @refine which takes into account MAX_REFINE
	  constant. Also fixes @mapinfo incorrectly displaying the save point of maps
	  whose return point is the player's save point. [Skotlex]
	* Resurrection will now silently fail when used on non-undead + not-dead
	  characters. [Skotlex]
	* Fixed the IP value being apparently incorrectly casted before inserting
	  into the loginlog table on "connect success" events. [Skotlex]
	* Merged the chrif_save fix when quitting with the charsave_method: 1
	  setting. [Skotlex]
2006/07/11
	* Merged the clif_parse fix which checks for the correct session-type
	  before sending packets (fix is not complete as it also requires changes to
	  other files, but for now this will have to do until it's been tested more
	  on trunk) [Skotlex]
	* Merged the player disconnect code update which guarantees character data
	  saving before removing the player from memory. [Skotlex]
	* I know this hasn't been in trunk for long enough to know it works
	  perfectly, but the current stable situation with lag-induced dupes is bad
	  enough to justify the risk of bugs on this update...
	
	* Fixed GTB card only working while you had a status-change active.
	  [Skotlex]
	* Merged the mob-position snap-fix from trunk (ie: Now it sends a fixpos
	  packet when a mob triggers a skill while walking to properly cancel the
	  walking animation client-side) [Skotlex]
2006/07/10
	* Fixed @follow stopping the moment you are warped. [Skotlex]
	* Fixed pc_additem messing with the equip field of the passed item data.
	  Fixes the famous "equip stuff on your arrow slot" bug. [Skotlex]
	* Should have fixed bonus skills not showing up inmediately on log-in.
	  [Skotlex]
2006/07/08
	* Fixed the char table having party/guild_id as smallint when they need int
	  there. Thanks to hermematon for pointing it out (use svn_ugprade7581.sql)
	  [Skotlex]
	* Fixed a crash on warpwaitingpc when the chat-room is empty. [Skotlex]
	* Fixed mobinfo displaying exp as signed ints rather than unsigned.
	  [Skotlex]
2006/07/07
	* Some merges in clif.c. Merged the fix for displaying pet egg/armor
	  correctly and the less-bandwidth consuming weather packets (who's flaw is
	  no inmediate removal of the effect when weather ends) [Skotlex]
	* itemdb_exists will now return NULL for item_id 0. Should fix
	  @mobinfo/@iteminfo at times returning the unknown item for every seek.
	  [Skotlex]
	* Fixed the Sage weapon endow skills never failing. [Skotlex]
	* Merged character servers not setting everyone offline as soon as they
	  reconnect to the login server as that breaks char-sql character saving of
	  characters already online. [Skotlex]
	* Added a temporary band-aid to prevent executing the script of non-arrows
	  when they are equipped on the arrow-slot (until the actual cause of why
	  pc_unequipitem is not working correctly is discovered/fixed) [Skotlex]
2006/07/06
	* Merged the save_settings config (map_athena.conf). Now you can specify
	  whether both characters should be saved on
	  vending/trade/storage-closing/etc. The default is "yes" to all cases to
	  prevent dupes due to crashes, but if the uber-saving is slowing the
	  char-server to a crawl, you may want to turn some off. [Skotlex]
	* Merged mapflags loadevent and nochat. The first is required on maps where
	  you want the maploadevent script to trigger, the later disables chat-room
	  creations. [Skotlex]
	* merged cancelling of Warmth on warp. [Skotlex]
	* Merged fix which was causing storages to be saved twice on logout.
	  [Skotlex]
	* Merged fix of pets consuming loot on logout rather than giving it to
	  their masters. [Skotlex]
	* Merged making you stop walking when opening vending. [Skotlex]
	* Merged character states baselvlup_event, job_lvlup_event, loadmap_event
	  [Skotlex]
	* Merged warnings when doing a element-based bonus with an invalid element.
	  [Skotlex]
	* Merged improved storage saving, where the storage is not removed from
	  memory until the save-ack is received from the char-server. Storages in
	  said waiting state will be resent for saving in case char-map connection is
	  lost & restored. [Skotlex]
2006/07/04
	* Merged use of flag nocast&16 to specify non-cloneable skills. Flag 2 (pvp
	  restricted) now does what 16 did previously (not usable on pk-mode maps)
	  [Skotlex]
	* Merged some of the cleanups in the logic when assigning skills to clones.
	  [Skotlex]
	* Added a check when joining a chat to make sure the target object is of
	  type BL_CHAT. [Skotlex]
	* Merged the refine_db reading fix when MAX_REFINE was bumped up from 10
	  (it wasn't reading refine chances of levels 12+). [Skotlex]
	* Added Claymore/Blastmine's multi-hit property when triggered with many
	  mobs within the splash range. [Skotlex]
	* Merged INF2_ALLOW_ENEMY (4096) inf2 value, which allows a skill to be
	  used on enemies even when the "party/guild only" inf2 values are set.
	  [Skotlex]
2006/07/03
	* Cleared up the bAutoSpellWhenHit description in doc/item_bonus.txt
	  [Skotlex]
	* Fixed Phantasmic Arrow and Magical Bullet not being correctly tagged as a
	  ranged arrow-type attack. [Skotlex]
	* Updated help.txt and help2.txt, thanks to Inuyasha for providing the
	  updated files. [Skotlex]
	* Testing commit requested by LittleWolf. [Euph]
	* Merged the timer intervals to check for IP change updates. Use the
	  login_athena "ip_sync_interval" setting if you run a server with dynamic
	  ips. [Skotlex]
	* Merged the loginlog table using an unsigned long value to store the ip
	  rather than varchar (speed up purposes). Also some cleanups of the login
	  servers. Update table with upgrade_svn7455.sql [Skotlex]
	* Merged moving of the IG_ enum to map.h, fixing of the item group bonus
	  not taking effects for groups greater than 7. [Skotlex]
	* Merged state "rewarp" to enable correct warping of players while they are
	  between-maps. [Skotlex]
	* Merged max number of tries in map_searchfreecell to be xs*ys when the
	  area is the whole map (capped to 500 tries). Also merged no_spawn_on_player
	  fix when specifying the max value (100) [Skotlex]
	* Merged crash fix when reading afm maps. [Skotlex]
	* Updated PACKET_VER to 7 [Skotlex]
2006/06/30
	* Fixed a typo in msg_athena.conf, "This item cannot be drop" -> "This item cannot be dropped" [MasterOfMuppets]
	* Merged bNoWeaponDamage/bNoMagicDamage bonuses receiving an argument with
	  a 1-100 value (rather than always being 100% block). [Skotlex]
	* Merged replacement of config setting gtb_pvp_only to gtb_sc_immunity
	  (item.conf) [Skotlex]
2006/06/29
	* Merged checking range on trade-accept. [Skotlex]
	* Made the map server send list of characters online to the char-server on
	  reconnection regardless of "kick_on_disconnect" setting, as otherwise, a
	  temporary disconnection would make the char-server tag all characters
	  offline and refuse to save them afterwards. [Skotlex]
2006/06/28
	* Added a check in script command "set_option" so that invoking
	  "set_option(0)" removes Cart/Peco/Falcon, as expected by scripts. [Skotlex]
	* Merged char-sql using a single instance of char_dat rather than a
	  pointless array. [Skotlex]
	* Merged support for the character-side fame-list. [Skotlex]
	* Merged a fix for multi-map servers where characters don't get saved after
	  changing map servers. [Skotlex]
	* Changed the mob drop rate adjust function to receive a signed int
	  argument. Probably will fix those drops with 0% becoming 100% [Skotlex]
	* Merged request atcommand (default lv is 20) [Skotlex]
2006/06/27
	* Map server will now resent the whole list of online characters to
	  char-server on reconnect when the kick_on_disconnect setting is active.
	  [Skotlex]
	* Fixed changing the pet's name causing the char server to disconnect the
	  map server. [Skotlex]
	* Merged most of itemdb.c, added LottoBox random item group. [Skotlex]
	* Merged the updated tools/stackdump script. [Skotlex]
	* Reenabled auto-cast skills not triggering if the skill's nk is "no
	  damage". [Skotlex]
2006/06/26
	* Put pay_arche.gat in the "no experience lost" mapflag file. [MasterOfMuppets]
	* Changed skill_setmapcell to use skill splash rather than range. [Skotlex]
	* Cleaned up a bit skill_moonlit, now it knocks back the correct amount of
	  cells. [Skotlex]
	* Fixed @mi displaying always 0 instead of the mob's class. [Skotlex]
	* Merged doing name-check using "allowed letters" char-server setting when
	  renaming pets. [Skotlex]
	* Merged Memorize halving casting time regardless of skill type. [Skotlex]
	* Merged can-act delay not resetting on warp. [Skotlex]
	* merged that fix that should correct pet egg displays. [Skotlex]
	* Merged pets respecting the skill canact delay. [Skotlex]
	* Merged various cleanups from pet.c [Skotlex]
	* Fixed Reject Sword's trigger rate. [Skotlex]
2006/06/23
	* Updated mob_db.sql and item_db.sql to latest. [Skotlex]
	* Fixed slaves_inherit_mode not working. [Skotlex]
	* Allowed itemdb_exists to return the dummy item. Enables "invalid" items
	  to be sold, traded, dropped, etc. [Skotlex]
	* Applied some ASC_BREAKER corrections (int damage after attribute fix,
	  skill being a right-hand-only skill) [Skotlex]
	* Merged handling of the PACKET_VER 7 packets (but left PACKET_VER at 6 for
	  now) [Skotlex]
	* Breaker is now an entirely physical weapon attack with additional
	  int-based damage (added after reductions and before elemental modifier)
	  [Skotlex]
	* Applied the corrections that should enable attacks to be absorbed due to
	  elemental modifiers. [Skotlex]
	* Energy Drain / Mental Breaker now always hit. [Skotlex]
	* Fogwall won't affect the caster in any way. [Skotlex]
	* move_enable state skills will cancel the can't walk delay when used from
	  a combo skill. [Skotlex]
	* Fixed Invulnerable Siegfried using the Elemental Resist value for Status
	  Resistance (val2 instead of val3) [Skotlex]
	* Merged luk reducing success chance of status effects on a
	  (max-current)*luk/300 rate. Relevant battle config settings
	  (pc/mob_luk_sc_def) merged (see these settings for an explanation of how
	  luk affects sc chance reductions). [Skotlex]
2006/06/22
	* Fixed blind's resistance using vit/3 rather than luk/3, thanks to Beetle
	  for pointing it out. [Skotlex]
	* Merged sending of packets to self when the target is 'area' and the source
	  is not on the current map (which means he normally would miss said packet)
	  Fixes stuff like status-change icons staying there forever if the status
	  ended while changing maps. [Skotlex]
	* Made the third argument of strncasecmp a size_t to shut up the compiler
	  warnings. [Skotlex]
2006/06/21
	* Fixed Eternal Chaos having no effect. [Skotlex]
	* Merged the crashfix when accessing the grfio module after it's been
	  halted on a @reloaditemdb. [Skotlex]
	* Merged guild member experience being an unsigned int, doubles the max
	  possible taxed exp value per guild member. [Skotlex]
	* Merged moving guild_exp_rate setting from map server to char server (now
	  the setting is in char_athena.conf) [Skotlex]
	* Merged removal of pc/mob/pet_attack_attr_none and exchanged it for
	  attack_attr_none [Skotlex]
2006/06/20
	* Merged some OPTION related cleanups. Wedding/Xmas palette ignore setting
	  should be working correctly on relog now. [Skotlex]
2006/06/19
	* Added Ayothaya to nopenalty and nopvp mapflags. [Evera]
	* Merged the other_mapserver_count variable which makes each map-server
	  keep count of how many other mapservers are connected, and skip sending
	  inter-server packets when there's no other map servers connected. [Skotlex]
	* Merged the unification of the storage/guild storage/cart packets for
	  better performance when sending these packets. [Skotlex]
	* Merged enabling disable of stances always, blocking of kick skills when a
	  Soul Linker. [Skotlex]
	* Merged dummy hp values send for the HP bar when someone has over 32K max
	  Hp so that the client-side HP bar will display correctly. [Skotlex]
	* Merged clif_parse_RemoveOption removal of only cart/peco/falcon.
	  [Skotlex]
	* Added missing Arunafeltz maps with information from NLZ [Evera]
2006/06/17
	* Mapflag changes according to the eye of hellion quest [MasterOfMuppets]
2006/06/16
	* Merged char_name letters restriction applying to parties/guilds in
	  char-txt (somehow forgot to merge this from before) [Skotlex]
2006/06/15
	* Added indexes for loginlog and ipbanlist as they did not have any. [Euph]
	* Merged save character update on char-sql which speeds up character
	  validation prior to saving. [Skotlex]
	* Merged fix which was preventing male accounts from moving from one map
	  server to another. [Skotlex]
	* Merged fix to delete corresponding registry values when deleting a
	  character. [Skotlex]
	* Fixed trade_traderequest which wasn't updated correctly after the @noask
	  update. [Skotlex]
	* Merged cleanup of clif_disp_onlyself. [Skotlex]
	* Merged updated @noask implementation which reports back when you've
	  rejected someone's request. [Skotlex]
2006/06/14
	* Merged path.c, max blow-count is now 25. [Skotlex]
	* Fixed main.sql adding a key on char_id rather than account_id for the
	  char table. [Skotlex]
	* Merged battle config option mob_npc_warp (the mob ai to make mobs walk to
	  npc warps still needs more work) [Skotlex]
	* Merged sending clif_fixpos packets when an object reaches target
	  destination and before attacking (could fix a bunch of position lag issues)
	  [Skotlex]
	* Merged terminating Marionette on warping. [Skotlex]
	* Merged ending Reverse Orcish state on logout. [Skotlex]
	* Merged allowing all skills during Longing of Freedom except
	  Encore/Dances/Duets. [Skotlex]
	* Merged the base status that reduce the duration/effecet of status changes
	  from trunk. However the luk/3 factor hasn't been quite decided as of yet.
	  [Skotlex]
	* Merged fix on Moonlit Petals SP consumption. [Skotlex]
	* Merged Marionette and Devotion checking absolute range and to ignore
	  obstacles. [Skotlex]
	* Merged status check on SightBlaster to prevent hitting hidden/trick-dead
	  players. [Skotlex]
2006/06/13
	* Updated mob_db.sql and item_db.sql to latest. [Skotlex]
	* Added account_id index to char table. Thanks to Buuyo for reporting it.
	  Sql users apply upgrade_svn7147.sql NOW. [Skotlex]
	* Merged pc_takeitem. Fixes "can't get item" messages showing up when they
	  shouldn't (or twice when they should) [Skotlex]
2006/06/12
	* Fixed clif_cart_equiplist using MAX_INVENTORY instead of MAX_CART, which
	  leads to crashes when someone customizes their server so that both do not
	  match. [Skotlex]
	* Merged pc_gainexp/pc_calcexp receiving the source, so that the exp bonus
	  cards will apply only to the exp received by the card's owner. [Skotlex]
	* Removed useless server_tick variable from players. [Skotlex]
	* Merged pvp ranking packet not being sent to other players when originator
	  is in gm-hidden mode. [Skotlex]
	* Merged clean-up in clif_parse_LoadEndAck which only sends the required
	  data packets rather than everything on map-change. [Skotlex]
	* Merged clean-up of clif_parse_TakeItem so that a item-nak reply will
	  always be sent when the item fails to be picked up. [Skotlex]
	* Merged setting pvp mapflag removing gvg flags and viceversa. Makes a
	  gvg-map unable to be both pvp and gvg at a time. Helps against "gvg-only"
	  skills not being usable anywhere on pk_mode servers. [Skotlex]
2006/06/11
	* Merged Frost Nova/Frost Diver's freezing chance (it was being reduced by
	  int/luk even before actual resistances from freeze). [Skotlex]
2006/06/09
	* Fixed MoM's typo [Vicious]
	* Changed the interval between water balls back to 125 [MasterOfMuppets]
	* Fixed a typo in char_sql/char.c, thanks to Euph [MasterOfMuppets]
2006/06/07
	* Merged a fix when checking if you can use Asura Strike in the middle of a
	  combo. [Skotlex]
	* Made SC_STUN's duration be decreased only by vit% (until the whole SC
	  issue is resolved in trunk for merging) [Skotlex]
	* Fixed the mob state not being set to Berserk/Angry correctly after the
	  mob reaches the target's location. [Skotlex]
	* Merged most of login_sql/login.c, which includes new login packet 0x277
	  [Skotlex]
	* Removed char_nick2id from char-sql as it's no longer needed. [Skotlex]
	* Merged applying char-name letters option to party/guild names. [Skotlex]
	* Merged fix to iteminfo to display item name id and weight correctly.
	  [Skotlex]
	* Merged mob_ai looting being prioritized over picking an enemy when a mob
	  is both looter and aggressive. [Skotlex]
	* Added a mob_setdelayspawn call when capturing a mob, should take care of
	  the mob not respawning again after tamed. [Skotlex]
2006/06/05
	* Fixed firewall counter going down by 2 each hit rather than 1. [Skotlex]
	* Merged fix for Brandish Spear lv 11+ [Skotlex]
	* Merged 2HQ giving +2*(lv-10)% aspd bonus when a level greater than 10 is
	  used [Skotlex]
	* Added $ (guild chat) to forbidden command_symbol list.
	* Merged auto-closing the guild storage when said member leaves the guild.
	  [Skotlex]
	* Corrected mob level being set to 0 on death and before Soul Drain takes
	  effect. [Skotlex]
2006/06/03
	* Fixed @mi/@mobinfo not showing the name collumns correcly [shadow]

2006/06/03
	* Solved the bug that made firewalls only castable a few times until [MasterOfMuppets]
	  relogging. Thanks to Euph for the fix.
	* Updated Tunnel Drive to decrease walking speed as it should, [MasterOfMuppets]
	  thanks to Euph for the fix.
2006/06/02
	* Fixed a bug in unit_can_reach_bl which breaks path seeking when the
	  target is near obstacles. [Skotlex]
	* Updated offensive use of Sanctuary to function like on the official servers [MasterOfMuppets]
	* Changed the interval between waterballs from 150 to 250 milliseconds [MasterOfMuppets]
	* Removed the walk delay from firewall and changed its knockback [MasterOfMuppets]
	  to 1 tile to make it act more like in the official servers.
2006/06/01
	* Merged @noask. [LuzZza]
	* Updated item_db.sql/mob_db.sql to current. [Skotlex]
	* Merged cleanup of pc_additem [Skotlex]
	* Merged config setting min_chat_delay (client.conf) [Skotlex]
	* Merged being able to (un)equip stuff while storage is open. [Skotlex]
	* Merged Freeze/Petrify giving you -50% def and +25% mdef [Skotlex]
	* Merged NPC_CALLSLAVE recalling them in a 5x5 area around the master.
	  [Skotlex]
2006/05/31
	* Merged the corrected save/load friendlist code for char-txt [Skotlex]
2006/05/29
	* Merged removal of "flag" variable in battle_delay_damage [Skotlex]
	* Merged the pk_mode damage modifier variables (misc.conf). [Skotlex]
	* Merged icepick/investigate damage modifiers using final vit_def/armor_def
	  values rather than base ones. [Skotlex]
	* Merged fusioning config settings "player_defense_type",
	  "monster_defense_type", "pet_defense_type" to "weapon_defense_type"
	  (battle.conf) [Skotlex]
2006/05/28
	* Merged the correction to MSS_DEAD state skills (dead-state mob skills
	  work now). [Skotlex]
	* Changed undeads to always sustain all damage when walking through firewalls [MasterOfMuppets]
	* Fixed unable to store n items into storage unless n was the total amount
	  of items you had. [Skotlex]
2006/05/26
	* Fixed KAIZEL not ending on mobs when they die (letting them revive
	  "infinite" times) [Skotlex]
	* Merged not sending a fixpos packet when you are hit while walking
	  (this is how Aegis handles it) [Skotlex]
2006/05/25
	* Merged the cleanup of storage.c [Skotlex]
	* Merged enabling moving items from cart/storage to inventory during
	  trades. [Skotlex]
	* Added NoVending mapflag. You may disable vending in the streets [Lupus]
	* Increased capacity for Account Variables to 64 [Skotlex]
	* Corrected Login Server taking it's first argument as both login config
	  and lan config. [Skotlex]
2006/05/24
	* Fix to the slave AI problem. [erKURITA], by [Skotlex], reported by Niktout.
	* Merged the fix to Snap desyncing the char's position on the client.
	  [Skotlex]
	* Merged the fix which enabled summoned monsters from using a summon skill
	  on spawn when they shouldn't. [Skotlex]
	* Merged Aggressive bit only being reset when there are no targets in the
	  mob's range of view. [Skotlex]
	* Merged mob_spawn_once using 0,0 for a random spot on the whole map, and
	  -1,-1 for a random spot around the player who invoked the script. [Skotlex]
	* Updated item_db to use -1,-1 for the relevant summoning items. [Skotlex]
	* Merged Move Enable checking for unit_can_move only when begin casting.
	  [Skotlex]
	* Merged Soul Drain fix working on non-magic attacks. [Skotlex]
	* Corrected SL KA* spells not working on other Soul Linkers. [Skotlex]
	* Merged the disguise negative id cleanups in clif.c  [Skotlex]
2006/05/23
	* Corrected Waterball's hit-count when used by mobs and lv1 not consuming
	  the single Deluge tile it should. [Skotlex]
	* Merged Vayu's Pkmode bonus fix (where the drop/exp bonus is applied when
	  the mob is of less level than yourself as well as the mob being over 20
	  levels than you) [Skotlex]
2006/05/22
	* Fixed config "wedding_modifydisplay: yes". [Skotlex]
	* Merged mobs using idle skills when they can't move. [Skotlex]
	* Merged mob skill usage picking up a random skill from the list instead of
	  always checking from first to last. [Skotlex]
	* Merged a small fix in pet.c which was making them always invoke the pet
	  random walk routine. [Skotlex]
2006/05/20
	* jA1983 script.c buildin_menu fix. Thanks to End_of_exam. [Vicious]
	* SC_SPEARSQUICKEN -> SC_SPEARQUICKEN normalized enum name [Lupus]
2006/05/18
	* Merged Body Relocation's fix pos packet using the caster's position
	  rather than target tile. [Skotlex]
	* Merged SC_Combo end clearing out last skill used when it's the same as
	  the combo. Fixes TK ranking combo oddities. [Skotlex]
	* Merged NPC_AGIUP increasing movement speed by 50% [Skotlex]
	* Merged split of script event kill into kill_mob_event_name and
	  kill_pc_event_name. [Skotlex]
	* Merged the npc-script-event cache for quick execution of common
	  npc-events (login, logout, kill, level up, etc). [Skotlex]
	- When they are executed nothing will be printed to console now, to see
	  summary of loaded npcs/events, turn the etc_log on. Draw back of the cache
	  is: Npcs loaded after startup are not cached, and if you unload an npc with
	  a related event (eg: the logout event npc) the server will crash! However,
	  @reloadscriptdb will properly reload all cached events.
	* Merged map_searchfreecell not picking the center tile as target. Fixes
	  slaves walking directly on top of the master, as well as skill conditions
	  "around" picking the tile underneath the target. [Skotlex]
	* Merged hide_woe_damage using div rather than 1 as damage passed. Fixes
	  multi-hitting skills displaying MISS. [Skotlex]
	* Merged fix that makes provoked mobs leave their current target for the
	  new one. [Skotlex]
	* Fixed mob_max_skilllvl being capped to 11! [Skotlex]
	* Merged the cleaning up of trade.c, trading code/logic should be
	  cleaner/faster now. [Skotlex]
2006/05/16
	* Updated mob_db.sql to latest. [Skotlex]
	* Updated item_db.sql to latest. Changed use of -- for #, and numeric
	  fields are no longer quoted. [Skotlex]
	* Removed calles for AtCommand_Monster and replaced them with AtCommand_Spawn
	  for Skots	[Reddozen]
	* Blood Drain now always hits. [Skotlex]
	* Firepillar's damage above level 10 is 200%Matk [Skotlex]
	* Merged the pvp check settings (so that no cast 2 will not trigger in
	  pk-mode servers) [Skotlex]
	* Fixed Soul Drain not displaying gained SP [Skotlex]
	* Merged not being able to knockback traps in GVG [Skotlex]
	* KA skills will now work on other soul linkers [Skotlex]
	* SKE skills only stun caster when used on players. [Skotlex]
	* Fixed Mob skill delay time for ground-based skills [Skotlex]
	* Merged immobile mobs using their attack skill rather than a
	  longrange-attacked one when unlocking a distant target. [Skotlex]
	* Merged the skill_unit_db from trunk (Warmth skill data was missing from
	  it) [Skotlex]
2006/05/15
	* Fixed Option_Wedding in const.txt (0x1000 won't work, it has to be 4096)
	  [Skotlex]
	* Added the missing case SC_BLADESTOP on the main switch of
	  status_change_start. May fix it. [Skotlex]
	* Some npc.c merges: npc_click will not work on npcs with negative classes
	  (not on a map), area npcs will make you stop walking on the spot when
	  they trigger. Merged the cleaned up implementation of npc_selllist [Skotlex]
2006/05/12
	* Updated mob_db.sql/item_db.sql to latest. [Skotlex]
	* Added upgrade_svn6568.sql which upgrades mob_db2 to the new format.
	  Thanks to Ancyker for the file. [Skotlex]
	* Large merge from trunk: [Skotlex]
	- Updated item_db/item_db.sql with the ones from trunk.
	- Merged the format of mob_db/mob_db.sql from trunk (UPDATE THIS OR YOUR
	  MOB DROPS WILL BREAK)
	- Merged the infinite endure implementation that uses val4 as flag and does
	  not gives mdef.
	- Merged the TK/SG/SL skill updates as reported by AuronX (check his thread
	  on development).
	- Merged the cleanups and corrections to Fog of Wall.
	- Merged the cleaned up implementation of BladeStop.
	- Merged battle config settings view_range_rate, chase_range_rate,
	  override_mob_names, the MVP normal drops config rates (monster.conf and
	  drops.conf)
	- Merged NPC_* effect skills having a chance of 50+10lv% chance of
	  inflicting.
	- Merged the Kaahi rewrite which uses timers for a proper behaviour.
	- Merged SC_COMBO status being ended in skill_check_condition, all combo
	  skills delaying your attackabletime by adelay.
	- Merged implementation of NPC_POWERUP and NPC_AGIUP giving increased
	  hit/flee.
	- Merged function map_foreachinshootrange for the correct behaviour of
	  skill_wall_check.
	- Removed the obsoleted drop log and "new sql skill db".
	- Merged execution of the onequip scripts on logon.
	- Merged cleaned up implementation of Blessing so that it won't deduct
	  stats on undead players.
	- Merged Defender's speed penalty change of 35-5*lv%.
	- Removed bonuses bDisguise and bInfiniteEndure.
	- Merged fix on unequip item not ending the elemental enchant unless the
	  item to be removed is a weapon.
	- Merged all fields in view_data changed to unsigned.
	- Merged the check changes in regards to wedding/xmas suit restrictions.
	- Merged mob name searches not matching mobs with no exp. 
	- Merged cleaned up mob_randomwalk function.
	- Moved option defines from map.h to status.h
	- Merged additional option to setoption, added script commands
	  setbattleflag, getbattleflag.
2006/05/11
	* Absorb spirits now absorbs 10 SP per sphere as per the description.
	  [Skotlex]
	* Merged the implementation of Asura in hopes it'll fix the skill not
	  working when used on Blade-Stop/Combo. [Skotlex]
2006/05/09
	* Added missing icon for Joint Beat [Skotlex]
	* Added a fix on pc_skill which fixes overlapping when you get the same
	  granted skill more than once from script skill bonuses. [Skotlex]
	* Merged being mobbed reducing armor defense again. [Skotlex]
	* Merged two lines of code which were missing from yesterday's merge
	(reason why normal attacks were not consuming arrows). [Skotlex]
	* Merged implementation of Extremity Fist. [Skotlex]
2006/05/08
	* Trunk merges: [Skotlex]
	- Merged structure of group units to store whether a ground-skill should
	  consume ammo, consumed no gems (into the abyss) or was magic-power
	  enhanced.
	- Can't class-change clones.
	- Moved soul-drain to skill_counter_additional_effect
	- Enhanced behaviour of battle_consume_ammo which only consumes ammo once
	  per skill cast at the end of the skill.
	- Moved Wedding recall skill invocation that invokes skill_castend_pos from
	  skill_castend_id to enable land-limit checks and the like to apply to
	  them.
	- Cleaned up rewritten code for Strip functions.
	- Rewritten code for HP Conversion.
	- Fixed Warp Portal not working if invoked through an item.
	- Sanctuary won't damage undead if they are not the caster's enemy.
	- Merged some packet fixes in clif.c 
	- Changed the hide woe damage from -1 to 1 as -1 is reported to display as
	  miss in some clients.
	- SG Knowledge will only trigger on logon, not mapchange.
	- Added the timer that delays walkto packets when the character is
	  currently on the can't walk delay.
	- Sitting/standing won't remove idle, attacking does.
2006/05/05
	* Meh, forgot to update msg_athena to include the @commands related
	  entries. [Skotlex]
	* Fixed a bug in @commands, most likely the reason some people were still
	  getting crashes. [Skotlex]
	* Merged the skill_db from trunk. Most noticable are TK kicks doing 3 hits
	  now. [Skotlex]
	* Changed the default item use interval to 100ms [Skotlex]
	* Merged config option hide_woe_damage (client.conf) [Skotlex]
	* Merged @commands [Skotlex]
	* Added the pet-related info to the spawn packet 0x7c. [Skotlex]
2006/05/04
	* Fixed a possible infinite loop in skill_clear_unit_group [Skotlex]
	* Added one grace range in the mob_loot search function which should fix
	  mob looting sometimes not working when the loot is within the mob's view
	  range. [Skotlex]
	* Merged the TK level up bonus (Agi Up and Bless lv10) [Skotlex]
	* Merged the cleanup of the pc_steal_item function (impossible to steal 0.01
	  drops unless your steal rate is above 100%) [Skotlex]
	* Merged some cleaning in the calculation of the skill-tree in regards to
	  Spirit skills. [Skotlex]
2006/05/03
	* Merged the action request code cleanup (enables you to sit/stand while on
	  chats, shops, etc) [Skotlex]
	* Merged checking for state.trading rather than trader_id on some functions
	  such as shop buying/selling (makes such requests not fail before accepting
	  a trade request) [Skotlex]
	* Merged checking for identify/!identify rather than 0/1. [Skotlex]
	* Merged the cleanup of whispering parsing which prevents crashes when
	  logging them. [Skotlex]
2006/05/02
	* Changed extremity fist's state to move_enabled, the explosion spirits
	  check is now hardcoded. Should fix EF [Skotlex]
2006/05/01
	* Merged the main.sql file from trunk. [Skotlex]
	* Fixed pc_disguise not allowing you to "redisguise". [Skotlex]
	* Fixed alive_count not being reset on skill unitsetting, which leads to
	  some groups not being cleared once all their units expire. [Skotlex]
	* Merged battle config skill_default_delay (skill.conf) [Skotlex]
	* Merged walk-delay not being increased for skills with move_enabled set.
	  [Skotlex]
	* Fixed AL_WARP displaying "Unknown Area" selections when you don't have
	  all memo points used up. [Skotlex]
2006/04/30
	* Fixed a logic error that was likely the cause of pet loot drops not
	  working. [Skotlex]
	* Merged Arrow Shower's Arrow consumption fix. [Skotlex]
	* Fixed and enabled STEAL skill [Lupus]
2006/04/29
	* Changed the HT_DETECTING method from invoking clif_changetraplook to
	  clif_skill_setunit since in the first the client ignores the fact that it
	  is now a trap (rendering skills like Remove Trap useless). [Skotlex]
	* Merged script command skillpointcount as I've already tested it. [Skotlex]
	* Updated STEAL skill (WIP), added a battle config option: [Lupus]
	  'skill_steal_max_tries' to set max number of stealing tries.
	  It could help to fix stealing exploit on mobs with few drops
2006/04/28
	* Merged the skill attack changes from trunk that should help with mob
	  position lag with ranged spells. [Skotlex]
	* Merged the case insensitive version of strstr. Item and mob searching
	  should now be case insensitive. [Skotlex]
2006/04/27
	* skill_castend_id and skill_castend_pos will trigger unit_stop_walking
	  with flag 1 (fix pos) rather than none. Should fix some skills making you
	  appear moving while doing them. [Skotlex]
	* Added unlocking ud.target on mob_unlocktarget, fixes mobs chasing you
	  around while cloaked. [Skotlex]
	* Applied some changes in unit.c to make mobs pick chase paths as they
	  should. [Skotlex]
	* Merged clone's skill system. All skills have a default of 5% rate
	  modified by the mob_skill_rate setting. [Skotlex]
	* Merged a fix on the pet ai to correct their strange behaviour when
	  chasing back to master. [Skotlex]
	* Removed clif_guild_send_onlineinfo(sd) call in LoadEndAck [Skotlex]
	* Fixed skill_check_condition (the merge went wrong and the checking to see
	  if you had enough Hp/Sp/Spiritballs/etc was totally skipped!) [Skotlex]
	* Merged the fixes to changebase from trunk. [Skotlex]
	* Updated the vc project files, thanks to Joshuaali [Skotlex]
	* Baselevelup will now do a stat reset and then lower stats when lowering
	  levels (and you don't have enough stats to get the deduction from)
	  [Skotlex]
	* Corrected the hit value of the TK kicks (from single hit "6" to multi-hit
	  "8") [Skotlex]
	* Reverted function guild_send_memberinfoshort to previous implementation.
	  [Skotlex]
	* Removed the max-hp overflow assumption from status_calc-pc. [Skotlex]
	* Fixed base-level up @ command giving stat points instead of taking them
	  away when leveling down. [Skotlex
	* Some small change in pc_heal which would let you have negative SP if you
	  were killed on the same pc_heal invocation. [Skotlex]
2006/04/26
	* Forgot to merge the mob_skill_db.txt and const.txt files from trunk.
	  [Skotlex]
	* Mass merge from trunk. Everything that has been on trunk since a long
	  time ago and most of the recent stuff that is known to already work has
	  been merged. [Skotlex]
	- SQL users: Update the item_db (sql-files/item_db.sql was updated, too) to
	  latest, apply upgrade_svn6299.sql to correct character classes.
	- All users: Update the db/* files, notice that some battle flags changed
	  names and others were added (read the list below).
	- List of updates:
	- Merged the unit_data (involves improved rewritten mob/pet ai), view_data
	  (involves improved gm-hide and disguise implementations) and mob spawn data
	  (memory consumption optimization) related changes
	- Merged combo-skill support (skills with inf2 set to NO_TARGET_SELF and
	  inf INF_SELF_SKILL are automatically considered combo skills, like Monk's
	  Chain Combo).
	- Merged the new random item group implementation.
	- Added SG_MIRACLE implementation
	- Moved SG_FUSION penalty to skill_calc_weapon_attack
	- positive div skills multiples damage, negative div values do not.
	- Counter_additional_effect now triggers together with additional_effect
	- Battle_damage now receives the walk delay as well
	- Item name length increased to 50
	- skill_point/status_point/option changed to unsigned short. Several range
	  checks related to these were applied as well.
	- Added sql logging of deleted chars
	- Can't change into mounted-classes (it's just view data)
	- @warp #warp will no longer cause 'warp to non-walkable' warnings.
	- Removed coordinates support for @monster (was unused)
	- Support for disabling mapflags by using "off", removed mapflag nopvp.
	- Added mapflag restricted and zone support.
	- Item-search related @ commands can return multiple results.
	- #itemlist will correctly display forged items and pet eggs.
	- Equip/Unequip script columns added to item_db.
	- Use of ers for guild exp cache, pet loot, ground skills, timer skills.
	- Can't invite/leave guilds inside castles.
	- escape_sql script command.
	- getpartymember can return char names, char id or account id.
	- Soundeffect being able to receive a flag to determine area of effect
	- Added battle_drain function to handle all draining logic. Merged updated
	  drain system with support per race.
	- Moved consumption of ammo from skill_checkcondition to
	  battle_consume_ammo (invoked from battle_calc_weapon_attack)
	- Various battle flags unified to type 4 (defined per BL_*):
	  skillrange_by_distance, auto_counter_type, skill_log, skill_reiteration,
	  skill_nofootset, attack_direction_change, land_skill_limit
	- Added battle flags: traps_setting, slaves_inherit_mode,
	  sg_miracle_skill_ratio, debuff_on_logout, sg_miracle_skill_duration
	- Being hit while in counter no longer causes criticals on you.
	- Cleaned up implementation of traps.
	- Armor defense is not reduced by the number of targets as vit is.
	- NPC_INVISIBLE causes infinite cloaking.
	- Moved mapflag checks from skill_checkcondition to skillnotok so they may
	  block autospells
	- Auto-spells increase your can't act delay.
	- Cleaned up implementation of timer skills.
	- Cleaned up implementation of Asura, Abracadabra, Running, Cast Breaker,
	  Barrier, Keeping, Meteor
	- gm_skill_unconditional now overrides skill_partner_check requirements
	- Correction of Dance/Songs so that the effect won't wear off while inside
	  the dance if you walk out and in again.
	- Corrected Angelus equation
	- Use of sd->state.trading to determine when a trade is ongoing (after it
	  has been accepted and before it's completed). Restores walking before a trade
	  is accepted.
	- Mob skill condition any won't trigger on dead, added condition
	  anytarget.
	- Clif_night_timer which fixes "glowing" if you first logon during
	  nighttime.
	- Flag 2 for skill_castnodex to prevent status changes from reducing
	  cast/delay.
2006/04/24
	* Corrected mob_spawn_delay/boss_spawn_delay/plant_spawn_delay settings
	  (they were named rate rather than delay in monster.conf) [Skotlex]
	* Fixed skill_delayfix not altering delay at all after you reached 150.
	  [Skotlex]
2006/04/21
	* Updates from trunk's char server. [Skotlex]
	- added inter_athena option gm_read_method
	- subnet_athena update which does not requires subnet ip to be specified in
	  the config.
	- Ignore of packet 0x65 when connection is already established.
	* Merged reading of the extended job_db1.txt and size_fix.txt files which
	  account for the new weapon types. [Skotlex]
	* Multiple fixes of places that use 16 instead of MAX_WEAPON_TYPE  [Skotlex]
	* Advanced book only improves Book-weapon damage now. [Skotlex]
	* Merged calc-weapon-type from trunk (fixes dual-wield checks conflicting
	  with gun types) [Skotlex]
2006/04/20
	* Raised the buffer size in clif_MainChatMessage to 200 to prevent @main
	  chat from causing problems. [Skotlex]
	* Fixed atk_rate bonus (Turtle General Card, The Sign) not working on
	  weapon types above and equal to katars (katars and NJ/GS weapons) [Skotlex]
2006/04/19
	* Merges from trunk... [Skotlex]
	- skill_castfix/skill_castfix_sc and skill_castdelay function updates
	- battle configs item_drop_add_min/item_drop_add_max/item_drop_adddrop
	- Read of ammo-type support in skill_require_db as well as
	  skill_check_condition update
	- Assumptio not having an area of effect anymore.
	- Avoid memorizing the same map for more than one location.
	- vs_traps_bct_all being a type 4 switch rather than yes/no
	- Wedding recall skills failing on nomemo maps.
	- Prevent TK Rankers from using the same skill in sucession.
	- Usage of a single linked list ers for mob drops.
2006/04/18
	* Changed the memory manager fatal errors when allocating memory to print
	  out the size request as well as the file and line where they originated.
	  [Skotlex]
	* Applied jA's patch to fix a bug in the scripting engine in regards to
	  priority of operators. Thanks to End of Exam for the information. [Skotlex]
	* Added support for mapflag nocommand in setmapflag/removemapflag [Skotlex]
	* Added support for type 8 (day of the year) in gettime [Skotlex]
	* Converted the format of the battle conf files to windows format [Playtester]
2006/04/16
	* Removed the piece of code that made each Magnus tile disapear after it
	  has hit once. [Skotlex]
	* Merged the grfio module from trunk. [Skotlex]
	* Merged water-level reading from trunk. [Skotlex]
	* Fixed ping interval being in minutes rather than hours. [Skotlex]
2006/04/14
	* Fixed a wrong assumption on the pet-ai logic, making their mob-chase
	  behaviour be completely broken. [Skotlex]
	* Cleaned up some guild functions. [LuzZza]
	- Now guild leaving/explusion packets sends correctly.
	- Fix to prevent creation alliance/opposition with same guilds.
	* Fixed duel in pk-mode. [LuzZza]
	* Updated sql-files/mob_db.sql to current. [Skotlex]
	* Fixed being able to do all the stuff you shouldn't be able to during the
	  petrifying state. [Skotlex]
	* Merged the update that makes looters give preference to the nearest item.
	  [Skotlex]
2006/04/13
	* Merged the equip_jobs update from trunk. [Skotlex]
	- Sql users can either rewrite their current item_db with the updated
	  sql-files/item_db.sql file, or apply upgrade_svn6055.sql to update their
	  existing tables.
	* Fixed SQL compilation. [Skotlex]
	- Note that GM reading is now performed by the Login-Server (as it should
	  be, at the account level)
	* Fixed the compiling error introduced on the last update... [Skotlex]
	* Added an Info message when pinging the SQL servers, Merged the ping sql
	  server settings (see inter_athena.conf) [Skotlex]
	* Merged upgrade of atcommand/charcommand script commands to be able to run
	  with no player attached. [Skotlex]
	* Some other minor cleanups. [Skotlex]
2006/04/11
	* Removed the piece of code that "guesses" that job classes between 24 and
	  68 are advanced classes from mob_avail reading since they conflict with
	  NJ/GS. Use the correct class numbers from now on! [Skotlex]
	* Modified battle_check_range to do a path-check on distances less than 2
	  (rather than 3) to avoid being able to hit through walls. [Skotlex]
	* Fixed looted items always dropping with qty one. [Skotlex]
	* Changed default of skill_wall_check to yes. [Skotlex]
2006/04/09
	* Fixed @npcmove not sending the correct packets to make the moving refresh
	  client-side. [Skotlex]
	* Fixed mobs with aggressive + looter mode never looting. [Skotlex]
	* Changed default delay for weapon-based skills to adelay. [Skotlex]
	* Mob_ai update. The attacked checks will trigger even if the mob can't
	  move. Being attacked while the mob can't move no longer will trigger
	  rude-attacked skills. [Skotlex]
	* Merged monster_ai&32 setting. [Skotlex]
	* Moved status ending when hit from pc_damage/mob_damage to battle_damage.
	  [Skotlex]
	* Merged atcommand @whodrops [Skotlex]
	* Merged the fix to command @movenpc [Skotlex]
	* Merged devotion ending when you are at 25% or less life. [Skotlex]
2006/04/06
	* Corrected the Soul Drain formula, thanks to Haplo for pointing it out.
	  [Skotlex]
	* Changed the random warping of mobs with no players from mob_spawn to
	  mob_warp, which prevents MSC_SPAWN from being retriggered for already
	  spawned mobs. [Skotlex]
2006/04/05
	* Addded missing aldeg_cas01 to NOWARP mapflags, thanks to Justin84 [Lupus]
		- And we set lhz_dun03 nowarpto mapflag by default till check it on eRO/kRO
	* Merged most of pet.c from trunk (Mob ai rewrites, several functions
	  cleaned up) [Skotlex]
	- UNTESTED yet. Update with caution.
	* Some changes to close-confine, status start will fail when the source is
	  not found or it doesn't has sc-data. [Skotlex]
	* Added support for the 2006/04/04a Sakexe packet version. [Zephiris]
2006/04/03
	* Fixed script command mapwarp. [Skotlex]
	* Fixed (?) Auto-Counter. [Skotlex]
	* Cleaned up (fixed?) a possible overflow in pc_isUseitem, thanks to
	  foobar. [Skotlex]
2006/04/02
	* Added a missing memset on ers_alloc'ing mob loot which was making data
	  from looted items fill in normal drop info (in other words, you could get
	  normal loots that were named after players, for example) [Skotlex]
	* Merged the fix of ankle-snare's lasting time. [Skotlex]
	* Merged the npc_reload implementation which doesn't causes crashes for
	  @reloadscript [Skotlex]
	* Merged breaking exp-even share when a party-member leaves the party.
	  [Skotlex]
2006/04/01
	* Merged the fixes to the mob_ai routines. Prevents casting rude-attacked
	  skills in situations that shouldn't be considered as so. Fixed mobs failing
	  to chase after enemies when range-attacked out of their view_range. [Skotlex]
	* Merged the ers usage for mob drops. [Skotlex]
2006/03/30
	* Merged the battle_calc_gvg_damage function which takes care of
	  gvg-related damage reductions. [Skotlex]
	* the auth function in login.c won't jstrescapecpy passwords that were
	  encrypted. [Skotlex]
	* Set the minimum pet hungry delay to 10 [Skotlex]
	* Added the Steel Body icon to auto-berserk. [Skotlex]
	* Now you can't cast auto-counter while the previous one is active.
	  [Skotlex]
	* Added the land-limit check to the wedding warp skills. [Skotlex]
2006/03/29
	* Merged most of the mob ai logic from trunk. [Skotlex]
	* Fixed tick direct modifications increasing duration instead of decreasing
	  it. [Skotlex]
	* Merged most of skill_cast_db.txt from trunk [Skotlex]
	* Merged some fixes from status.c [Skotlex]
2006/03/28
	* Likely fixed the wedding recall skills not working. [Skotlex]
2006/03/27
	* Merges from trunk: [Skotlex]
	- Dual wielding shows both damages on the status window.
	- Corrected implementation of the recall wedding skills.
	- skill_unit_db now specifies per-level ranges.
	- function battle_calc_return_damage for return damage calculations.
	- Ganbantein removes traps
	- Corrected implementation of arrow shower and how it knocks back.
	- Waterball working correctly with Magic Power.
	- Skill animation packets for Magnum, Grandcross
2006/03/26
	* Merged item-skills not being blocked by status changes. [Skotlex]
2006/03/25
	*  Fixed jstrescapecpy crashing when you pass a null string to parse. [Skotlex]
2006/03/24
	* Merged the necessary functions to support changing into Ninja/Gunslinger.
	  Note that no skills have been merged yet, so they are there just to look
	  at them. [Skotlex]
2006/03/23
	* Updated mob_db.sql and item_db.sql to current txt versions. [Skotlex]
	* Fixed Devotion not properly being cleared on death in some  cases.
	  [Skotlex]
	* Fixed Shield-Reflect not being correctly ended when devotion does.
	  [Skotlex]
	* Merged some differences in skill_db.txt from Trunk. Most noticeable
	  changes are: Devotion not working on guild-mates, Magic Crasher being
	  considered a weapon-type attack, Gravitation being 'earth elemental' so
	  that it will hit hidden chars. [Skotlex]
	* Fixed Potion Pitcher sometimes crashing the server. [Skotlex]
	* Fixed a compile warning by adjusting the acid demonstration formula.
	  [Skotlex]
2006/03/22
	* Merged magic attacks that ignore target's element will now also ignore
	  element-based cards. [Skotlex]
	* Merged mapflags nocommand, nodrop, notrade [Skotlex]
	* @me output now uses msg_athena 270 for format. [Skotlex]
	* Clone commands now use msg_Athena entries for displaying output. [Skotlex]
	* Merged cleanup of pc_dropitem [Skotlex]
	* Merged disconnecting unknown packets when the command is above 30000
	  [Skotlex]
	* jRO's Acid Demonstration formula by Redozzen [Vicious]
	* Overflow fix in the login-txt server. [Skotlex]
2006/03/21
	* Updated @rura/@warp. Now you can use both "@warp mapname x y" and
	  "@warp mapname,x,y". [LuzZza]
	* Added at-command @tonpc <NPC_name> (warp to NPC). [LuzZza]
	* Fixed @where at-command. [LuzZza]
	* Fixed SC_SWOO's opt3 value. Small monsters should display correctly now.
	  [Skotlex]
	* mutearea now takes negative intervals as well. [Skotlex]
2006/03/20
	* Small fix to prevent killer/killable states from allowing you to target
	  yourself. [Skotlex]
	* Fixed handling of guild skills by pc_blockskill_start, moved it to
	  skill.c [Skotlex]
	* Fixed autoguard icon showing with stun. [Skotlex]
	* Fixed acid demonstration breaking shield instead of armor. [Skotlex]
	* Fixed Slim Pitcher crashing server ocassionally. [Skotlex]
	* Added sc_start(SC_ENDURE) on infinite endure bonus. [Skotlex]
	* Fixed Berserk Pitcher consuming required items twice. [Skotlex]
>>>>>>> .r5703
2006/03/18
	* Added 'GetMonsterInfo(MobID,Idx)' script function. [Lupus]
	  You can get monsters name,level,race, etc by its Id. Check npc\sample\getmonsterinfo.txt
2006/03/17
	* Fixed the mob_skill_db by commenting out lines with targeted skills
	  being cast during an idle state.  (Thanks to LittleWolf) [Zephiris]
	* Removed a block of code from skill_check_condition that actually belongs
	  to status_check_skilluse. Should fix stun/silence blocking skills
	  regardless of settings. [Skotlex]
	* Added delay of 10sec before Gospel starts buffing characters. [Skotlex]
2006/03/15
	* Merged Trunk's cleaned up implementation of warpparty. [Skotlex]
	* Fixed Tarot Card of Fate using time instead of time2 which is the one
	  that actually holds the effect duration. [Skotlex]
	* Fixed mob random walk interval being set to up to 6K seconds in some
	  instances. [Skotlex]
	* Fixed active guild skill usage. [Skotlex]
	* Likely fixed Gravitation not hitting except for the last hit. [Skotlex]
	* Removed the hardcoded duration of 30 seconds for sleep. [Skotlex]
	* Fixed rangecheck for pet skill usage of INF_SELF_SKILL [Skotlex]
	* Removed inall/exall from atcommand.conf since those two do not exist!
	  (pointed out by Ancyker) [Skotlex]
	* Added check to prevent sc_data being sent to be saved twice on logout.
	  [Skotlex]
	* Merged handling of status_change_end before cancelling a
	  status_change_start for being already inflicted. Fixes stuff like blessing
	  not removing curse when you already had a higher level bless active.
	  [Skotlex]
	* Fixed twilight pharmacy dropping 1 item to the ground instead of the qty
	  produced. Thanks to k3dt [Skotlex]
	* Fixed Plagiarism not working unless you had some sc active. [Skotlex]
2006/03/14
	* Fixed a possible crash in Venom Splasher if the countdown is too high.
	  [Skotlex]
	* Fixed incorrect range check in autospell when hit triggers. [Skotlex]
	* Fixed skill_additional_effect triggering every time you were being hit
	  even if no damage was returned. [Skotlex]
	* Merged in updated list of what dispel clears. [Skotlex]
	* Merged Land Protector dispelling only Magical skills. [Skotlex]
	* Merged the item_db.c file from trunk to see if that fixes random item
	  givers [Skotlex]
2006/03/13
	* Corrected char-server parameters so that the subnet config file is the
	  third parameter, not the second (which was conflicting with
	  inter_athena.conf's argument), thanks to foobar. [Skotlex]
	* PR_BENEDICTIO now ignores mdef [Skotlex]
	* Autospells won't trigger on maps where they aren't allowed now. [Skotlex]
	* Merged Storm Gust knocking back in random directions. [Skotlex]
	* Fixed chatlog's x/y column capacity in sql-files/logs.sql [Skotlex]
2006/03/12
	* no_spawn_on_player won't work on mobs with no respawn delays now. [Skotlex]
2006/03/10
	* Readded LAN support update. I think it's stable now. [LuzZza]
	- Format of subnet_athena.conf file line:
	  subnet: SUBNET_IP/SUBNET_MASK:CHAR_IP:MAP_IP
	- Example:
	  subnet: 10.6.1.0/255.255.255.0:10.6.1.103:10.6.1.103
	* Fixed a memory overwrite crash on pc_readdb, thanks to foobar for the
	  fix. [Skotlex]
	* Fixed only the first TK stance triggering when you have multiple of them
	  active. [Skotlex]
	* Default of skill_attack_enable changed to yes. [Skotlex]
	* Some mob_ai updates, such as making mobs chase you if you hit them from
	  beyond their field of view. [Skotlex]
	* Merged fix of mob_avail reading which was messing up some npc ids by
	  thinking the id given was meant for upper classes. [Skotlex]
2006/03/09
	* Fixed the dancer/bard soul-linked skills toggling on/off with each call
	  to pc_calc_status. [Skotlex]
	* Fixed a bug in the pc_skillreset function which allowed TK rankers to
	  accumulate skill points. [Skotlex]
	* Fixed pc_damage_sp not properly substracting SP. [Skotlex]
	* Added bleeding/deadly poison to effects whose rate is reduced by vit.
	  [Skotlex]
	* Fixed stun's duration not getting reduced by vit + luk/3 [Skotlex]
2006/03/08
	* Fixed item disappearing from the floor when you attempted to pick it up
	  and there was no room in your inventory. [Skotlex]
2006/03/07
	* Updated sql-files/ mob_db.sql and item_db.sql to current txt dbs. [Skotlex]
	* Fixed castnodex values being read into nocast values causing skills that
	  shouldn't have cast reduced by dex becoming unusable on normal maps and who
	  knows what else. [Skotlex]
	* Fixed skill_nocast_db not being read at all. [Skotlex]
	- Fixed the soul linker skill tree. (Thanks to muad_dib) [Zephiris]
	* Merged some char server updates: [Skotlex]
	- Correctly Storing/reading of exp as unsigned longs (TXT)
	- Use of the fame-list size configs (char_athena.conf)
	* Fixed a mysterious "return 0" that somehow leaked into
	 status_change_start, blocking all player status changes. [Skotlex]
2006/03/06
	* Huge merge from trunk. Most of the stuff that has been in trunk for a
	  while now and hasn't produced any reports has been merged: [Skotlex]
	- Status change structure and functions update
	- Skill-splash update. skill_db has a new column to specify splash range
	  for skills (eg: Hammerfall).
	- Merged Venom Splasher's behaviour and damage.
	- New function to handle skill breaking, which causes the strip effect on
	  mobs instead.
	- Range-based defense cards work on spells now
	- Mob ai updates
	- Party/guild mini-dot update when entering a map.
	- Party loot distribution now works with autoloot as well
	- Use of event &8 for special_ai spawned mobs.
	- Improved auto-spell system that takes into account card id to avoid spell
	  stacking.
	- skill_cast_db has now a column to specify afterskill walk_delay
	- Gm_skill_unconditional is now a no/min-gm level setting.
	- Correct implementation of the Warm skills.
	- Update on the way walk-delays stack. Damage-induced walk delays are not
	  overridden, but skill walk delays can increase your current one.
	- Menu based skills use their own variables to allow "precasting"
	- Lots of code cleanup around various functions.
	- New battle_config options:
	- pk_level_range: Specify valid level ranges to engage in pk (pk-mode
	  servers) (misc.conf)
	- allow_es_magic_player: Enables use of ES magic on players. (skill.conf)
	- pc_status_def_rate, mob_status_def_rate: Adjusts stats required before
	  hitting inmunity. (battle.conf)
	- pc_max_status_def, mob_max_status_def: Adjust max sc defense that you can
	  acquire via stats. (battle.conf)
	- clear_skills_on_death: removes all ground-based skills when the caster
	  dies. (skill.conf)
	* Fixed npc_event doing a map-check when the npc is not on any map.
	  [Skotlex]
2006/03/05
	* Fixed animation of Redemptio [Skotlex]
	* Fixed pc_stopwalking making your sprite appear standing if invoked while
	  sitting. [Skotlex]
	* Reverted back LAN support update commit. [LuzZza]
	* Fixed easter.txt [Lance]
2006/03/04
	* Synced login/char servers to trunk (except fame-list configs and
	  gm-reading configs) [Skotlex]
2006/03/03
	* Added upgrade_svn5456.sql, it converts the manner and karma columns to
	  signed. Apply this if your tables have the field as unsigned (which would
	  explain mute always disappearing after relogging) [Skotlex]
	* Fixed npc whispering crashing when message's length is 1. [Skotlex]
	* Fixed character deletion working on SQL without an email address (Thanks to Valaris) [Zephiris]
	* Trickdead is now cancelled on logout. [Skotlex]
	* strcharinfo won't crash now if a player is not attached. [Skotlex]
2006/03/02
	* Gravitation now only blocks caster from using skills, should have fixed
	  it from not doing any damage when skill_caster_check is set as well.
	  [Skotlex]
2006/03/01
	* Added the 2 sec skill delay before recasting Magnum Break [Skotlex]
2006/02/28
	* Updates from trunk: [LuzZza]
	- Fixed message codes in duel functions.
	- Small fix in log_refine, incorrect compare expression.
	- Fix to prevent using main chat when it disabled in atcommand_athena.
2006/02/23
	* Merged the path updates from jA that should reduce cpu load on
	  complicated path seeks (such as around corners or with walls in the
	  middle) [Skotlex]
	* Merged mob skill conditions myhpinrate/friendhpinrate [Skotlex]
	* Merged not deleting lure when used on a non-mob. [Skotlex]
	* Merged mob-placed traps not changing target to all in pvp [Skotlex]
	* Moved the battle config options of gtb and ghostring to item.conf
	  [Skotlex]
	* Some merges from trunk: [Skotlex]
	- Fix that prevents slaves from targetting a non-enemy.
	- Marionette bonus being capped to the battle-config max parameter instead
	  of 99.
	- Separated the hp/sp server rates from those acquired by cards.
	- Update on how Gangster's paradise works.
	- Update on slave randomizing (if using summon lv 3, and the skill
	  specifies 5 mobs, it will not summon those 0->2, but a random range up to
	  3->5)
2006/02/22
	* Updated the char-SQL server to trunk. This means new
	  party/char/pet/guild ids are  handled by the SQL server rather than by the
	  char server. [Skotlex]
	- Apply the upgrade_svn5376.sql file if your guild/party tables do not have
	  their id set as an auto-incremental column.
	* pc_setpos will now cancel vending. [Skotlex]
	* Fixed kamib/kamic atcommands not checking for case. [Skotlex]
	* Enabled hiding while cloaking. [Skotlex]
	* Merged the memory leak fix mostly caused by strcharinfo. [Skotlex]
2006/02/21
	* Updates from trunk: [Komurka]
	- increased MAX_MOBSKILL 32 -> 40
	- changed MAX_RANDITEM from 2000 to 10000 to fit new databases
	- added new file - item_cookie_bag.txt
2006/02/20
	* Hiding ends Close Confine now. [Skotlex]
2006/02/19
	* Added atcommand @exp [Skotlex]
	* Added error reporting when add_timer_interval receives a negative/0
	  interval value. [Skotlex]
	* Modified the way firewall_hits_on_undead works, to loop and invoke
	  multiple skill_attacks based on the value. This is as close to the Aegis
	  implementation as eA can get... [Skotlex]
	* Merged the battle config switches skill_caster_check & status_cast_cancel
	  (check battle/skill.conf) [Skotlex]
	* Changed the default of skill_delay_attack_enable to no. [Skotlex]
	* Added initializing the item can use tick (which was blocking item usage
	  in some situations) [Skotlex]
	* Added the missing break in AM_TWILIGHT2/3 which was making the skill
	  unusable. [Skotlex]
2006/02/18
	* Updates from trunk: [Skotlex]
	- Merged in map_moveblock handling the status change endings as well as moving the dance areas.
	- Merged the CELL_NOSTACK mod updates.
	- Merged the cleaner implementation of the mob no spawn on player code.
	- Merged the cleaner implementation of double casting.
2006/02/17
	* Fixed possible crash on pet egg select. [Skotlex]
2006/02/16
	* Removed the check that prevented mobs from walking into a basilica.
	  [Skotlex]
2006/02/15
	* Fixed crash in chrif_load_scdata warning message. [Skotlex]
	* Fixed pets displaying "strangely" when they did not have their pet armor
	  [Skotlex]
	* Fixed @lvup commmand raising levels when you specify a negative value
	  [Skotlex]
2006/02/14
	* Added the missing "Holy Cross" damage display to Gospel. [Skotlex]
	* Merges from trunk: [Skotlex]
	- Slaves no longer random move.
	- Slaves now give exp/loot according to their mob_db entry.
	- Mob db reading now skips items with no item ID (sets their % to 0)
	- Fixed storage/guild storage not closing properly when being changed of
	  map.
	- Removed the pc_clean_skilltree call in pc_setpos which removes
	  plagiarized skills unneededly.
	- Added letting the max specified level be above what the exp tables
	  provide to enable leveling to said levels through script/gm-commands/etc.
	- Added the experience check for all jobs after reading the exp tables.
	- Merged the implementation of the NPC_BREAK* skill as ranged attacks that
	  break stuff as an additional effect.
	- Merged the damage display for Warm skills, and Meteor Assault, to not
	  have the character do an attack animation for every target.
	- Merged the cleaned up implementation of the skill timer skill functions.
	- Merged the implementation of repair weapon which uses ID rather than a
	  direct pointer to target which could cause crashes.
	- Added Grandcross to skills that aren't affected by weapon properties of 
	  defense ignore/icepick.
	- Land Protector blocks Hammerfall.
	- Added the dummy item support to prevent creating items that do not exist
	  in the DB.
	- Updated High Jump/Jump Kick can-move requirement.
	- Fixed Redemptio not setting SP to 1.
	- Commented the declaration of types puchar/pchar in my_global.h to enable
	  it to compile for WinNT systems.
	- Merged the CELL_NOSTACK mod path seek updates.
2006/02/13
	* Merged the item non-stacking on the ground fix from trunk. [Skotlex]
2006/02/12
	* Fixed the map server not reading the max_exp_gain_rate setting. [Skotlex]
2006/02/10
	* Fixed Sonic Blow lvl 1~9's damage [Vicious]
	* Changed the default MAX_LEVEL supported by the map server to 1000. [Skotlex]
	* Fixed compilation error of pc.c (missing limits.h include) [Skotlex]
2006/02/09
	* Fixed "set baselevel, X" sending one to a different level than the one
	  requested. [Skotlex]
	* Merged the slave update to not let them random walk and keep them 2 tiles
	  from the master. [Skotlex]
	* Merged the mob_respawn routine for Kaizel and NPC_RESPAWN skills.
	  [Skotlex]
	* Merged the mob exp overflow check updates from trunk. [Skotlex]
	* Merged the party even share overflow check updates from trunk. [Skotlex]
	* Merged in the new behaviour of multi_level_up: no (in Aegis the remaining
	  exp after leveling up is capped to the total exp of the previous level
	  minus one) [Skotlex]
	* Merged in battle athena config option max_exp_gain_rate to specify max
	  earned exp per kill. See conf/battle/exp.txt [Skotlex]
	* Merged the warning when the exp table has a value beyond UINT_MAX.
	  [Skotlex]
	* Added range checking to mob skill loading of permillage and delay.
	  [Skotlex]
	* Fixed pc_gainexp not working for next level exp requirements above
	  INT_MAX. [Skotlex]
	* Fixed the display of @showexp not working right for exp values above
	  INT_MAX. [Skotlex]
	* Implemented bonus2 bSPVanishRate for Dark Priest Card [Komurka]

2006/02/08
	* Fixed the death penalty underflow bug... [Skotlex]
	* Updated battle delay damages to use the entry reusage system. [Skotlex]
	* Fixes to exp2.txt on the novice job exp. Thanks to rollopop. [Skotlex]
2006/02/07
	* Modified battle_check_distance, mobs should no longer find a diagonal
	  spot on which they lock onto their target, yet fail to attack from. [Skotlex]
	* Removed the max level configs from battle/exp.txt since db/exp.txt
	  handles them now. [Skotlex]
	* Fixed the char server changing the last/save position in certain
	  situations. [Skotlex]
	* Fixed SG_STAR_ANGER not getting it's damage bonus at all. [Skotlex]
	* Merged the new exp table format from trunk. [Skotlex]
	- If you need a custom exp table, try replacing db/exp.txt with exp2.txt
	- exp2.txt is a custom exp table that goes up to level 1000 with the
	  following charactistics:
	- It uses a inverse exponential growth rate to mimic the official exp rate
	  increase as close as possible.
	- It overrides the exp level of the last 5~10 official exp values for a
	  smoother curve.
	- It's adjusted so that the Lv1000 exp requirement for Advanced Base/2nd
	  Job is close to the unsigned int limit without going above it/ 

2006/02/06
	* Fixed trickdead so that the player packets do have the dead state set. [Skotlex]
	* Venom Splasher always hits (but splash damage targets can still avoid it)
	  [Skotlex]
	* Using autoloot with no arguments now toggles it between @autoloot 0 and
	  @autoloot 100% [Skotlex]
	* Falcon Assault now takes Blitz Beat lv5 as base damage. [Skotlex]
	* Corrected Waterball so that higher levels can do insane amount of hits.
	  [Skotlex]
	* Coma no longer sends SP to 1. [Skotlex]
	* Dark elemental characters are now inmune to Curse. [Skotlex]
	* Increased HT_DETECTING seek range to 7x7 [Skotlex]
2006/02/05
	* Fixed and documented script command "callshop". [Skotlex]
	* Updated sql-files/mob_db.sql to latest. [Skotlex]
	* Updated sql-files/item_db.sql to latest. [Skotlex]
2006/02/04
	* Skotlex's Falcon Assault fix. [Vicious]
2006/02/03
	* After a guild master change, the new gm has his guild skills blocked for
	  5 minutes. [Skotlex]
	* Bosses now ignore Loki's weil [Skotlex]
	* Fixed txt-converter compilation errors [Komurka]
2006/02/02
	* Fixed the map server complaining about the default user/password when the
	  password change was done in the import file. [Skotlex]
2006/02/01
	* The map and char servers will now complain if using the default
	  user/password. [Skotlex]
	* Trick Dead makes you stop walking now. [Skotlex]
	* Soul Burn is not affected by Lex Aeterna, and neither by target's cards. [Skotlex]
	* Freeze and Stone take preference over Benedictio. [Skotlex]
	* Fixed areamonster when the passed class is negative. [Skotlex]
	* Removed the clear screen when launching the server. [Skotlex]
	* Fixed a pair of small bugs in Comfort of the Stars and Poison React.
	  [Skotlex]
2006/01/31
	* Hopefully fixed being unable to open the guild storage. [Skotlex]
	* PF_SOULBURN no longer ignores mdef. [Skotlex]
	* HW_GRAVITATION should now invoke auto spells. [Skotlex]
	* Added autospell triggering to returned damage from normal attacks.
	  [Skotlex]
	* Fixed being able to Encore skills you no longer have in your tree.
	  [Skotlex]
	* Added no HP regen while Bleeding, -25% ATK and ASPD penalties as well.
	  [Skotlex]
	* Added "onspawn" mob skill condition. [Skotlex]
2006/01/30
	* Autoloot now uses the item's base drop chance rather than final drop rate
	  to determine if it should autoloot the item or not. [Skotlex]
	* Fixed super novices getting +10 to all stats temporarily whentheir death
	  count isn't zero. [Skotlex]
	* Fixed Kahai displaying HP-SP as the total healed instead of HP [Skotlex]
	* Parsing the Storage/Guild Storage from the char server will now fail if
	  the storage has been modified and not saved yet. [Skotlex]
	* Being hit now cancels confuse. [Skotlex]
	* Added back the bleeding icon. [Skotlex]
	* Fixed Combo Finish Soul Linked Effect being a 11x11 splash area instead of
	  5x5 [Skotlex]
2006/01/29
	* Added support for more account states like "Unavailable due to hacking/bug
	  investigation" etc, thanks to NeoSaro [DracoRPG]
2006/01/28
	* Added the night mapflag to the new maps. Removed some indor maps. [Poki#3]
	* Added DISGUISE MobID; UNDISGUISE; script commands [Lupus]
	- Made them for Eastern Year of the Fire Dog Event.(to be uploaded today)
2006/01/27
	* Added support for mob_avail.txt replacement for NPC classes. [Skotlex]
	* Added "sense_type" config to conf/battle/skill.conf to select which defense
	  is displayed on the sense screen. Defaults to displaying def+def2. [Skotlex]
	* Modified traps so that once they trigger they set themselves as "Into the
	  Abyss" casted traps, so that if you remove them, you won't earn the item.
	  [Skotlex]
	* Fixed Basilica (small bug introduced yesterday) [Skotlex]
	* Hopefully cleaned out the warnings when compiling the char-SQL server.
	  [Skotlex]
	* Updated the makefile for the plugins to take into account the ers.o file.
	  [Skotlex]
2006/01/26
	* Updated VC project files, thanks to D-Kalck. [Skotlex]
	* Rare drop announces will now be done based on the mvp_sd (character who
	  did most damage) instead of sd (character that delivered final blow)
	  [Skotlex]
	* Fixed TK Doridori bonuses to double your regen instead of giving 30Hp/3Sp
	  [Skotlex]
	* Fixed Sense displaying def2/mdef2 when it should display def+def2 / mdef
	  + mdef2. [Skotlex]
	* Fixed Super Novices losing their skill tree (showing up just basic skill)
	  under certain circumstances. [Skotlex]
	* Cleanup and optimization of the movement routines. [Skotlex]
	* Added experimental feature "Cell Stack Limit". When enabled (see
	  src/map/map.h) it should limit the amount of characters that can be placed
	  on the same cell. That's assuming it works (experimental and untested as of
	  yet) [Skotlex]
	* Hopefully fixed Benedicto checking on the west/east tiles instead of the
	  left/right tiles of the caster. [Skotlex]
	* Fixed mobs being unable to move on tick loopback (which happens every ~51
	  days) [Skotlex]
2006/01/25
	* Reverted last change, when you log again it still shows the fake
	  icon. [Foruken]
	* Temporary fix to fake mute status when using pk_mode and
	  !muting_player [Foruken]
	* Probably fixed the max base/job battle config options actually enabling
	  characters to reach one more level than the max specified. [Skotlex]
	* Fixed BSS Sacramenti not hitting demon type enemies. [Skotlex]
	* Now poisoned monsters will show HP updates as their health goes down
	  (let's see if this finally convinces people that poison works u.u)
	  [Skotlex]
	* Splitted up battle_athena.conf into multiple configuration files.
	  battle_athena.conf only contains import lines now, and all the
	  configuration options are located in conf/battle/* [Skotlex]
	* Updated the db version with the new one by FlavioJS [Skotlex]
	* Improved the error reporting when failing to load a mob skill due to
	  insufficient fields. [Skotlex]
	* Changed map_getallusers to use the db interface getall (hope it doesn't
	  breaks horribly) [Skotlex]
	* Added an attack delay to TK kicks to prevent the top10 rankers from
	  attacking normally during the skill animation. [Skotlex]
	* Updated script.c to display the file not found error using braces as
	  delimiters to help when npc filenames include spaces and the respective file
	  is not found due to them) [Skotlex]
	* Changed TK_RUN to a misc attack type which should enable you to halt the
	  skill quickly after starting it. Updated SC_SPURT to be triggered when you
	  stop running if you stopped running one sec or less after you started.
	  Corrected the icon of SPURT to be that yellow Running Man. The previous
	  footsteps effect was assigned to CHASEWALK. [Skotlex]
	* fixed battle config item_auto_get setting autoloot to just 0.01% drops
	  rather than 100%. [Skotlex]
	* Added Sharp Shooting check to skill_attack to prevent hitting hidden
	  characters. [Skotlex]
2006/01/24
	* Some cleaning up of battle_calc_damage, Assumptio should now also reduce
	  damage of all types of attack, not just weapon-based ones. [Skotlex]
	* Incremented SL_MONK combo SP cost reduction to 25% [Skotlex]
	* Updated Full Adrenaline Rush to work on all weapons except bows. [Skotlex]
	* Updated the script engine to report the src of an error when there's a
	  problem with one of the script functions. For example, if there's a "player
	  not attached error", it will also print which NPC caused it. [Skotlex]
	* Added RFIFOSKIP(fd,RFIFOREST(fd)) to the end of the login server's parse functions.
	  This is good for clearing out packets of one byte. [Valaris]
	* Fixed noteleport mapflag affecting Warp Portal. [Skotlex]
	* Fixed map server crashing when parsing an incomplete mob-skill line. [Skotlex]
	* @autoloot 100 will now pickup items that have drop rates ABOVE 100. [Skotlex]
2006/01/23
	* Added battle config "no_spawn_on_player", see battle_athena.conf for
	  details. [Skotlex]
	* Fixed bows doing less damage on criticals when having high dex. [Skotlex]
	* Moved the enemy_critical adjustment to status_get_critical. [Skotlex]
	* Fixed @chardisguise to use the same id checks as @disguise. [Skotlex]
	* Fixed SightBlaster 'hitting' dead characters. [Skotlex]
	* Basilica check in status_checkskilluse expanded to help mobs release
	  their target as soon as they walk into a basilica. [Skotlex]
	* When a player stops walking their to_x and to_y is updated to their
	  present position. This MAY fix warp portal not warping players that were
	  already there waiting to be warped. [Skotlex]
2006/01/22
	* typo fixes (fell -> feel) [Komurka]
	- mob_db_mode_list.txt updated
	- removed some unneeded comments (//komurka)
	* Some changes of @main. Now you can send main-chat messages by sending whisper
	  to nick "Main" (or any other, it can be set in inter_athena.conf). [LuzZza]
2006/01/21
	* Changed gm_can_drop_lv battle conf switch to gm_cant_drop_min_lv and gm_cant_drop_max_lv [Komurka]
	* SL_SWOO (Esu) will only lasts 1/5 of normal time when used on a Boss-type monster [Komurka]
	 -SL_SKE (Esk) won't work on a Boss-type monster anymore (if you KNOW that it should work on them
	  write about it on forum; either way don't bother guessing ... SL can solo ANY boss with this skill ~.~)
2006/01/20
	* Fixed the login-TXT login Log. [Skotlex]
	* Small update to sql-files/item_db.sql to fix speed potions (a complete
	  update will be done when possible...) [Skotlex]
	* Fixed clone script command's duration being in ms rather than seconds.
	  [Skotlex]
	* Taekwon Ready Stances combo time is now 2000 - 4*agi -2*dex ms instead of
	  a flat 2 secs (same reduction that Monk combos get) [Skotlex]
	* Cleaned up code of SG_HATE, may fix the skill seemingly not working.
	  [Skotlex]
	* Likely fixed Even-Share parties not breaking up when a character with
	  too high/low level rejoins in char-TXT servers. [Skotlex]
2006/01/19
	* Added config option atc_slave_clone_limit to limit the amount of
	  @slaveclone's a player can have. [Skotlex]
	* The clone commands now fail when used on someone of higher GM level than
	  the caster. [Skotlex]
	* Increased the size of the clif_disp_onlyself packet by one to see if it
	  fixes the mysterious cropping of the last character in the message.
	  [Skotlex]
	* Now when use_statpoint_table is set to yes, it will be used to determine
	  the stat points you earn on level up. [Skotlex]
	* Small fixes as pointed out by FlavioJs in the login TXT server to prevent
	  crashes in Win32 compiles. [Skotlex]
	* Merged Marquis's implementation of Enjoyable Rest's earth scroll bonus.
	  [Skotlex]
	* Fixed players being able to send custom crafted mute requests that would
	  go through regardless of their gm level and mute others. [Skotlex]
	* Updated mapflags [Lupus]
	* Modified the client_connect function in socket.c to allow different parse_functions to be called
	  based on the listening socket.  After a make_listen_bind returns a listen fd, set that fd's
	  func_parse member to whatever parse function to be used.  If this value is not manually set
	  it will just use the default_func_parse function.  This only affects server listening sockets
	  in which the func_parse member isn't even used. [Valaris]
	* gvg_traps_target_all now also affects traps in pvp maps. [Skotlex]
	* All reflected damage has now a chance to auto-cast spells. [Skotlex]
	* Fixed Casting ground spells from within basilica. [Skotlex]
	
2006/01/17
	* Updated the map server code to use some of the new db functions. [Skotlex]
	* Fixed ground skills checking the wrong target-type on movement, hence
	  making them mostly useless (this is what the Warp Portal report was about)
	  [Skotlex]
	* Some code updates to implement the new db interface. [Skotlex]
	- SQL compilation not tested, so if it breaks someone report to fix it :X
	* Added @clouds2 and clouds2 mapflag using effect 516. [Valaris]
	* Fixed some weather effects not working or not functioning correctly. [Valaris]
	* Cleanups and organization to maps_athena.txt and map_index.txt, thanks to
	  Poki for the cleanup work. [Skotlex]
	* Some cleanup of the SG_FEEL code [Skotlex]
	* Fixed debug mode compiling in VC7.1. Added optimizations to VC7.1 release mode.
	  Defaulted VC7.1 SLN to debug mode. [Lance]
	* Temperory solved the freeing freed pointer error upon map-server shutdown. [Lance]

2006/01/16
	* Fixed clif_disp_onlyself packet length, thanks to Orn. [Skotlex]
	* Imported Freya's autoloot system which enables one to specify the maximum
	  drop-rate to loot. [Skotlex]
	* Refix of the mapreg SQL saving fix of a while ago... [Skotlex]
	* Playtester custom eamobs spawn updates: coal Mines, umbala fields, and
	  minor changes to Sphinx and Geffen Dungeon. [Skotlex]
	* Incremented a bit clone skill usage rate, their rate/delays are now affected
	  by the battle_config options mob_skill_rate and mob_skill_delay [Skotlex]
	* Optimized use of BL_* constants by making them stackable (meant for
	  map_foreach* calls). Should improve performance by avoiding
	  battle_check_target calls on a bunch of invalid targets such as
	  items/skills/npcs on skills and other misc places. [Skotlex] 
	* Fixed mob skills that should trigger on status on "any bad". [Skotlex]
	* TK classes no longer are inmune to the strip-effects of Jump Kick [Skotlex]
	* Fixed SQL mapreg saving. [Skotlex]
	* Reverted Ice Wall Behaviour (you can snipe/cast through it again) [Skotlex]
	* Fixed possible crash in skill_check_condition on consume-delayed items [Skotlex]
	* Skills whose range is increased by Vulture Eyes now get the range
	  increased by 10 for non players (assumes VE level 10). [Skotlex]
	* Added cardfixes of near_attack_def_rate and long_attack_def_rate to misc
	  attack calculations. [Skotlex]
	* Fixed Spirit of Wizard not working in a couple of instances. [Skotlex]
	* Advanced Book now gives 1%*skill level success chance to create element
	  convert potion [Skotlex]
	* Changed the FEEL skill implementation to store/use map indexes instead of
	  map names.[Skotlex]
	* Fixed compilation of plugins. [Skotlex]
	* Applied flaviojs's new db interface and fixed compatibility problems with Visual Studio. [Lance]

2006/01/15
	* Fixed poison damaging player even when under 25% hp. [Skotlex]
	* Fixed permanent character variables in Char-TXT [Skotlex]
	* Fixed previous change for stable. Whoops my 5am work again. [Kayla]
	* Fixed the trade exploit allowing for a user to send packets while in a trade.
	  For instance the bank NPC becoming a zeny dupe. Kudos to clown. [Kayla]
	* Added script source error reporting to set and getarrayelement, should
	  print NPC name and location (map, coordinates) on the console when there's
	  an error with these two commands. [Skotlex]
	* Removed treasure chests spawning upon agitbreak, leading to exploits. [Lance]

2006/01/14
	* Removed the 5% success penalty for trying to make a convertor for which
	  you don't have the relevant enchant skills. [Skotlex]
	* Fixed compilation of Login Converter. [Valaris]
	* Fixed bSPGainRace and bExpAddRace with RC_NonBoss and RC_Boss. [Valaris]
	* Lex Divina now shows the animation even when used on someone you can't
	  (non-muted, non-enemy player) [Skotlex]
	* Quick hack to make Shield Reflect trigger auto-spells (only this kind of
	  return damage does it? Because other reflect cards like Orc Lord behave
	  exactly the same way...) [Skotlex]
	* Fixed grf loading to attempt to load from all grf files specified in
	  grf-files.txt (looking for them in the same order specified in the file,
	  returns the first match found) instead of only looking up on the last
	  specified grf... [Skotlex]
	* Fixed compilation of plugins. [Skotlex]
	* Added error reporting to the db when a null key/data is attempted to be
	  inserted and the db is configured to not allow them. [Skotlex]
2006/01/13
	* Fixed labels located at the beginning of a script not being counted at
	  all. [Skotlex]
	* Applied blackhole89's patch to enable dynamic menus. [Skotlex]
	- Script reference doc updated accordingly.
	* Ranking Taekwons with lv 90+ no longer get Quest/Wedding skills for free.[Skotlex]
	* Readjusted Scream And Frost Joke so now the effect goes off no matter
	  where the caster went, but the effect will happen only around the area
	  where the skill was done regardless of where the caster is (which is how it
	  should work from a logical stand point) [Skotlex]
	* Scream and Frost Joke now take effect 2secs after casting, and caster
	  must remain in same map for it to take effect. [Skotlex]
	* Flying Side Kick can't be used by Soul Linkers now. [Skotlex]
	* npc_reload should now correctly remove mobs and npcs that aren't placed
	  in any map (such as mobs that were killed and are waiting for respawn) [Skotlex]
2006/01/12
	* Fixed Ice-Wall range problem. [LuzZza]
	* Corrected the guild_db_final function in int_guild.c of SQL char-server to
	  compile and function with the new db code. [Valaris]
	* Fixed some advanced skills being able to be copied even when restricted [Vicious]
	* Fixed a possible crash-source related to item-picking packets. [Skotlex]
	* Now Top 10 ranking Taekwons with base level 90+ get their whole
	  skill-tree maxed out (but only as bonus-skills, they aren't saved on the
	  dbs) [Skotlex]
	* Some cleaning of the char_name_letters implementation. Characters don't
	  need a space between them, in fact, placing a space in that config makes
	  the space count towards allowed/disallowed characters. [Skotlex]
	* Some modifications to the db code to make the code portable. It may
	  compile on windows now. (note I can't test SQL compiles yet so report any
	  problems ASAP) [Skotlex]
	* Fixed Venom Knife consuming two daggers. [Skotlex]
	* Inverted the packet order in many skills which cause status effects. The
	  client expects the status-change packet to arrive before the skill packet
	  in order for opt3-related changes to make effect on the character. [Skotlex]
2006/01/11
	* Added @main command into atcommand_athena.conf. [LuzZza]
	* Tuxedo and Wedding Dress no longer get a 'forced' gender check regardless
	  of config ignore_items_gender setting. [Skotlex]
	* Added support for 'invisible' shops. These are shops that are loaded but
	  not placed on any map, so you can't click on them. [Skotlex]
	- Example: -<t>shop<t>Invisible Dealer<t>-,1750:-1,1751:-1,1752:-1,etc...
	- Make sure they have a unique name if you want to reference to it with...
	* Added script command 'callshop' for invoking shops from within a script.	[Skotlex]
	- Usage: callshop "Shop Name", flag;
	- Distance to shop is still checked, so it's best to use 'invisible' shops.
	- flag determines shop selection: 1: Show buy list, 2: show sell list.
	  Anything else: show the buy/sell/cancel menu.
	- Function returns 1 if successful, 0 otherwise, but it is recommended that
	  the script should be closed right away to prevent problems.
	- Documentation to the scripts_command.txt reference file not yet added
	  because this command is as of yet untested and may need further refining.
	* Newly created SQL guilds won't save the member-list right away (this
	  seems to be the reason why sometimes when creating new guilds, the
	  guild-master keeps guild_id == 0 in the tables) [Skotlex]
	* Fixed char/int_storage.c reporting lines with too many items when in
	  reality said items had the exact max amount allowed. [Skotlex]
	* Moved the status_change_clear code below the exp penalty so that the
	  SC_BABY effect will work. [Skotlex]
	* Fixed the map_index never finding the last map specified in the
	  map_index file. [Skotlex]
	* Fixed an overflowed pointer in char/inter.c, and an already free'd pointer
	  error in map/guild.c [Skotlex]
	* Added battle option party_item_share_type, now you can choose between
	  round-robin (previous implementation) and random (default) [Skotlex]
	* Fixed compilation of the plugins (due to the db change) [Skotlex]
	* Fixed a few issues with the map server (notably npc_command_sub was
	  broken) [Skotlex]
	* Added proper escaping of the motd string before inserting it on the rag
	  server info SQL table. [Skotlex]
2006/01/10
	* Updated the map-server to conform to the new db interface. Removed
	  DB_DELAY_FINAL_CHANGES and related code from db.* as now eA fully complies
	  to the new interface. [Skotlex]
	* Crafting Arrows, Weapon, Forging/Upgrading now all fail if you have an
	  npc going on to prevent your inventory from being modified while selling.
	  [Skotlex]
	* Updated the char-SQL server to etc etc etc new db etc etc etc. [Skotlex]
	* Cleaned up the description of size_fix.txt [Skotlex]
	* Updated the char-TXT server to be blah blah blah new db blah blah. [Skotlex]
	* Updated both login servers to be fully compliant with the new db
	  interface. [Skotlex]
	* Moved skill damage bonuses from cards to the 'second layer' which means
	  they are applied on top of previous damage bonuses rather than just adding
	  to them. [Skotlex]
	* Some more updates to the db code as specified by FlavioJS [Skotlex]
	* Fixed the memory leak of npc_unload_ev. [Skotlex]
2006/01/09
	* Some more updates regarding the new db system. [Skotlex]
	- Note that there's currently a leak regarding npc_events (ev_db), but this one is
	  not a serious problem (unless you use a lot of npc_reloads) and will be
	  fixed as the db gets improved.
	* Moved the Kaupe code to battle_calc_weapon_attack where it will dogde all
	  weapon-based attacks that can be dodged (giving the illusion of infinite
	  flee for skill's duration). [Skotlex]
	* Moved Sonic Acceleration and Soul Linked SB damage bonus to the second
	  layer of skill modifiers. [Skotlex]
	* Enchant Deadly Poison and True Sight damage bonuses are now applied after
	  skill modifiers rather than added with them (damage % stack type). [Skotlex]
	* Modified Ice-Wall to work using cell types defines instead of directly
	  modifying the gat terrain information. Main reason for this is to enable
	  pc_setpos to place players on top of an ice-wall, because otherwise it
	  was forcing players to warp-around even in maps with noteleport set which
	  is prone to exploits. [Skotlex]
	* Fixed SG_FUSION (SG_FUSION <-> SC_FUSION #_#) [Komurka]
	* Now sense elemental values are again uncapped (so enemy with -25% resist
	  will show 230% instead of 0%), as requested :P [Skotlex]
	* Replaced the db subsystem for FlavioJS's implementation and initial work
	  on updating the eA code to use it as intended. [Skotlex]
	* Fixed Char-TXT server saving last/save maps with spaces on the left. [Skotlex]
	* Fixed Char-SQL server saving new character's maps with spaces on the left. [Skotlex]
	* Fixed Charsave method 1 saving memo maps with spaces on the left. [Skotlex]
	* Changed the order of packets sent for Assumptio (may fix the visual not
	  showing up?) [Skotlex]
2006/01/08
	* Fixed the guild SQL cache removing guilds from memory when said guilds
	  had no data to save (but were not yet marked for removal) [Skotlex]
	* Added a cap to limit Star Gladiator's job level to that of the normal
	  classes (instead of 2nd classes) [Skotlex]
	* Fixed TXT char server parsing only the first character permanent variable
	  received from the map server and ignoring the rest. [Skotlex]
	* Fixed @users crashing the server. [Skotlex]
	* Added Arrow Repel to the list of skills whose range is increased by Vulture Eye. [Skotlex]
	* Fixed the item pick-up rule for party options being working backwards. [Skotlex]
	* Fixed progress info in TK_MISSION [Komurka]
	* Fixed an aproximation error when calculating distances which causes stuff
	  like mobs thinking they are within attack range when they actually aren't
	  [Skotlex]
	* Char-server will now be notified after a character logs out when using
	  charsave_method:1 [Skotlex]
	* Added check to update pet's position on pc_movepos (stuff like High Jump)
	  when the master moves too far away or to a position the pet can't reach.
	  [Skotlex]
	* Fixed char-save method 1 saving map names with padding spaces to the
	  left. [Skotlex]
	* Now sense elemental values are capped to 0 as lower bound (so for an
	  enemy with -25% resist, it'll show 0% instead of 230%) [Skotlex]
	* Updated sql-files/ mob_db.sql and item_db.sql to current TXT data.[Skotlex]
2006/01/07
	* If player is dead, and is spawned (such as @refresh), death packet is sent. [Valaris]
	* Cleaned pc_attack_timer so that the attack timer will auto-readjust when
	  it triggers during the can't act tick instead of cancelling the attack
	  sequence. [Skotlex]
	* Fixed compilation of the TXT-converter. [Skotlex]
	* walkto x,y request packets are now ignored if you are sitting. [Skotlex]
	* Fixed a typo that was making the party item-pickup style shared not
	  taking effect for the item_first_get_time regardless of setting. [Skotlex]
	* Applied Playtester's custom mob spawns to the eamobs/ set. [Skotlex]
	- These custom mob spawns are an experiment to balance out mob spawns and
	  put some sense into them (no crap like too strong AND too weak mobs on the
	  same floor, increasing mob difficulty the deeper into the dungeon you go,
	  etc), without moving mobs too far from where players are used to see them neither.
	- To enable them, modify scripts_main to use scripts_eamonsters rather than scripts_monsters.
	- Currently, the modified dungeons are: Glast Heim, Geffen Tower, Clock
	  Tower, Sphinx, Pyramids, Byalan. 
	* Added check to make sure guildspy and partyspy variables have value. [Valaris]
	* Separated the permanent variables from the character status structure. [Skotlex]
	* permanent variables are now loaded on their own packets as needed to
	  reduce the bandwidth wasted between servers. [Skotlex]
	* Permanent account variables are now saved when the script is finished
	  instead of each time they were modified.  [Skotlex]
	* OnInit scripts and related code now executes after all perm variables are
	  received (so now account variables are accessible during it) [Skotlex]
	* Fixed typo in pc.c causing crashes in Line 769. [Lance]
	* Corrected VC7.1 prject files to include mapindex.c and mapindex.h [Lance]
	* Corrected Wrath of the Star formula (added missing STR in equation) [Komurka]
	  - Added movement speed bonus to SG_FUSION (same as PecoPeco gives)
	  - You can now 'turn off' SG_FUSION
	* updated NoIcewall maplags, thanks to Sir Loon [Lupus]
	* soundeffectall modified to rely on dependancies depending on situation. [Lance]
	* Modified getd to return 'pointer' (will be 'dereferenced' automatically) instead of value, 
	  making it very flexible when paired with getelementofarray() [Lance]
2006/01/06
	* Corrected main.sql having incorrect syntax [Foruken]
	* Cleaned up some maps in maps_athena.txt and added a bunch of cloned maps
	  to map_index.txt [Skotlex]
	* Refine bonus is no longer increased by the number of hits from the skill
	  except for TSS [Skotlex]
	* Dispelled Berserk won't drop HP back to 100 now. [Skotlex]
	* Mobs that use NPC_SUICIDE won't give neither exp or loot now. [Skotlex]
	* Summoned mobs that cannot move will be removed from the map when the
	  master is gone to another map AND the mob's map is a gvg ground. [Skotlex]
	* Fog of Wall effects now work in both directions (outside -> inside,
	  inside->outside) [Skotlex]
	* Fixed the sql guild loading always returning a blank guild when the
	  guild_id does not exists! [Skotlex]
2006/01/05
	* Some changes to the guild SQL code to report whenever a guild's id is not
	  matching the one it was stored with in the db, which in turn free's the
	  guild and doesn't saves it to perhaps prevent data corruption. [Skotlex]
	* Corrected the fifo-buffer readjusting code to set a reserve-buffer size
	  of 1/8th of the inter-server link (32K) for said links. [Skotlex]
	* The mapif_send* and charif_send* functions (char/login servers) will now
	  adjust the buffer size when there isn't enough space to write data to them
	  rather than abort sending the data. [Skotlex]
	* Increased inter-server socket buffer size to 256*1024. Should fix problems
	  with 0x3004. [Kayla]
	* Increased inter-server socket buffer size to 192*1024. Should fix problems
	  with 0x2b01. [Kayla]
2006/01/04
	* Fixed buildin_monster not working for random classes (dead branch, etc). [Skotlex]
	* Reverted inter-server socket buffer size to 131072 bytes. [Valaris]
	* Removed reduction of socket buffer sizes after WFIFOSET if the max size 
	  is >= FIFOSIZE_SERVERLINK.  This should reduce inter-server buffer overflows. [Valaris]
	* Script command 'monster' will now fail when trying to spawn a mob-class
	  that is not in the mob_db (warning will be printed on the console) [Skotlex]
	* Fixed a crash when spawning a mob who's class is not in the mob_db. [Skotlex]
	* Some cleanups and improvements to the character saving algorithm meant to
	  make it harder to have dupe exploits during char-map connection lag
	  moments. [Skotlex]
	* Doubled the inter-server link buffer size. [Skotlex]
	* Fixed status_get_adelay messing up the mob's aspd :X [Skotlex]
	* Changed skill_delayfix to use the amotion value as default delay for
	  weapon skills with no delay instead of attack delay (adelay is actually
	  twice your aspd, amotion is the same as aspd) [Skotlex]
	* Added upgrade_svn4783.sql, which corrects the structure of the mapreg
	  table to use varchars as it should. [Skotlex]
	* Fixed Meteor Assault. [Skotlex]
	* Fixed (I hope) the double free'd pointer issue in the login servers. [Skotlex]
2006/01/03
	* Fixed the warp unloading code. [Skotlex]
	* Updated Jump Side Kick to also clear Berserk Pitcher.  [Skotlex]
	* Preserve now protects against the stripping effects of Side Kick. Taekwon
	  Classes (TK/SL/SG) are also inmune to it.  [Skotlex]
	* Hopefully fixed the guild information not being sent in some situations
	  when people are added/removed from a guild. [Skotlex]
	* Some cleaning up and bug fixes to the guild module of the char-sql
	  server. Let's see if it fixes anything up... [Skotlex]
	* Added battle option show_party_share_picker. When enabled tells the
	  picker of the item who received the item when in a party with 'Party Share'
	  loot style. [Skotlex]
	* Added the nullpo_retv line required for win32 compiles... [Skotlex]
	* Added some cleanup code to properly remove all warp related information
	  on npc_unload (untested as of yet!) [Skotlex]
2006/01/02
	* Completed (almost) packet 0x1e9 which gives the party info. Now you can
	  see the party's item options when opening the alt+p menu. [Skotlex]
	* Fixed regen only working when overweight. [Valaris]
	* Added body size to clones. [Valaris]
	* Corrected TK_JUMPKICK to remove Soul Linker spirit buffs and related
	  effects (except Berserk-Pitched effect) [Skotlex]
	* Corrected TK_RUN to give +10 dmg bonus to kick skills when not wearing a
	  weapon. [Skotlex]
	* Added Kaina's Enjoyable Rest bonus and Max SP bonus. [Skotlex]
	* Fixed Stone Curse consuming gems while Soul Linked. [Skotlex]
	* Fixed party-change-map packet incorrectly checking if the even share rule
	  was broken (party share should now correctly break on map-change, or when a
	  player has it's level reset) [Skotlex]
	* Corrected the Jump Kick base-level damage bonus when combo-used. [Skotlex]
	* Added the running damage bonus to the TK kicks. [Skotlex]
	* Made the TK kicks end the Soul Linked status on targets. [Skotlex]
	* Corrected Spirit of Wizard to nullify any bounced back spells. [Skotlex]
	* Cleaned up the natural/skill HP/SP regen routines. [Skotlex]
	* Fixed Turn Kick not knocking back nearby enemies. [Skotlex]
	* Added the damage bonus to Flying Side Kick when used from a combo.
	  However I am waiting for the actual equation (currently just does +300%
	  dmg) [Skotlex] 
	* Fixed Counter Kick for ranking Taekwons. [Skotlex] 
	* Added walk slowdown and aspd penalty to Eska. [Skotlex] 
	* Fixed status_get_size which seemed severly broken. [Skotlex] 
	* Fixed Kahai to only display actual amount of HP healed. [Skotlex] 
	* Now when a script's map is not found (or not loaded on the map server)
	  the script engine will skip the whole script instead of just the first
	  line. [Skotlex]
	* Fixed Soul-Linked Dancers not receiving the Bard songs. [Skotlex]
	* Updated Joshuaali's VC-8 project files. [Skotlex]
2006/01/01
	* Some improvements to the login server (txt/sql) to prevent memory 'leaks'
	  from accounts that logged in but where never properly set as logged out.
	  [Skotlex]
	* Fixed mapindex not working for last map loaded in map_index.txt [Skotlex]
	* Added support for packet 0x1e9, party_main_info. Packet is still
	  incomplete and the client is ignoring it currently... [Skotlex]
	* Changing party options now does not alters item party options. [Skotlex]
	* Corrected Kahai healing even when there's not enough SP to do so. [Skotlex]
2005/12/31
	* Fixed the additional effects on normal attacks of Enchant Poison, Enchant
	  Deadly Poison and Kahai not taking effect except when the attacker was a
	  player. [Skotlex]
	* Resurrection now fails on gvg maps (when reviving) [Skotlex]
	* Kaite now works on player-casted spells regardless of level... [Skotlex]
	* Fixed Kahii healing 0 rather than 200*skilllv... [Skotlex]
	* Mobs will now go after the loot as soon as they spot it rather than on
	  their next random-walk time. [Skotlex]
	* Set the 56th byte in packets 7b and 1da. It deals with acceleration in directions.
	  It's just like the final byte in packet 0x87.  Server-side update of this still needs to be figured out. [Valaris]
	* Fixed Kaziel not starting Kyrie Elison upon resurrection. [Skotlex]
	* Fixed Kahai's healing display. [Skotlex]
	* Fixed Kaite bouncing back always one spell. [Skotlex]
	* Fixed and tested @waterlevel. It requires the grfs to be present as the
	  map layout height information is stored there but not in the map data kept
	  in memory. [Skotlex]
2005/12/30
	* Disabled certain packets from taking effect during trades to prevent
	  possible exploits (such as picking and dropping items, buying selling from
	  npcs, etc) [Skotlex]
	* Now you can't move items to/from your inventory to the cart/storage
	  during a trade (this is to prevent possible item dup exploits) [Skotlex]
	* Emergency Recall now only works from within woe grounds... [Skotlex]
	* Removed returns from non-null lines in MOTD. Replaced returns in null lines with a space. [Valaris]
	* Fixed a bug where MOTD wasn't displaying blank returned lines. [Valaris]
	* Updated mapindex so that name lookups ignore extensions, and the loaded
	  maps are always terminated in .gat. Id lookups will always return a string
	  terminated in gat. Purpose? It enables specifying mapnames without the .gat
	  extension, so you can have npcs in prontera, no need for the .gat. And the
	  returned string always has a .gat for needed when it is passed to the
	  client. Now you can safely get rid of the .gat extension in all mapnames. [Skotlex]
	* Fixed the txt-converters so they compile cleanly again. [Skotlex]
	* Added mapflag script support for no loot, no exp, no return, no warp to,
	  nightmare drops (see db/const.txt for names) [Skotlex]
	* Removed an extra } in int_party.c that caused compile errors. [Valaris]
	* Fixed a crash when warp portals passed from passive to active. [Skotlex]
	* Added a missing label (M_0) that was causing people to freeze when viewing the city list from "Miss Yoon" [Zephiris]
2005/12/29
	* Newly created char-SQL guilds will be saved inmediately rather than at
	  their next turn in the cache (may fix those guild disappearing errors)
	  [Skotlex]
	* Implemented a map-index which maps map-names to a unique number, this
	  reduces memory required to store maps as well as the size of related
	  packets between the char/map server. Maps and their indexes are stored in
	  db/map_index.txt, and the index of a map should NEVER change (see file for
	  more details). The index is translated to/from map-names for saving, so
	  save-structures are not required to be modified. [Skotlex]
	- PD: The new mapindex also found a bunch of broken map names in various
	  NPCs, someone will have to go fix them up.
	* Updated the party member structure to hold the char_id. For end users,
	  the most noticable change is that now you can have more than one
	  character from the same account belong to the same party. [Skotlex]
	- TXT users will have to wipe the party files, SQL users use the respective
	  upgrade file (upgrade_svn4726.sql) to generate the new party column.
	* Updated the char-sql server to hold parties in memories until they are no
	  longer needed (like the guild-cache), also optimized the save routine to
	  avoid needless SQL calls. [Skotlex]
	** WARNING: Because of the previous optimizations, a lot of code was changed around
	  the map/char servers, the char-sql's party system got pretty much a
	  rewrite, so some problems are to be expected. Some basic testing with
	  parties over here showed no problems, hence the work is getting commited
	  as it is because it isn't getting any better without further testing. 
	* Set value of the last byte in packet 0x87 (walkok) to 0x88 (10001000).
	  This is a default value in Aegis, and has something to do with animation speed in certain directions.
	  This byte is going to need to be fully analyzed since it does change in Aegis, just that I have
	  been unable to figure out what the conditions are. [Valaris]
	* Mob skills are not even read now if mob skills are disabled in
	  battle_athena. [Skotlex]
2005/12/28
	* Fixed xmas and wedding palette ignore options.  It will also no longer send the dye packet if @dye is used. [Valaris]
	* Some code cleanup meant to fix possible memory leaks regarding
	  parse_script() [Skotlex]
	* Small fix to party-share item pickup which should fix the current item
	  dup exploit. [Skotlex]
	* Merged Reddozen's implementation of Kahai. [Skotlex]
	* Implemented Kaite (it simply changes the target of spell to the caster,
	  so the caster's status changes and defense are the ones considered)
	  [Skotlex]
	* Removed Guilds Glory from guild skill tree, can be enabled with require_glory_guild
	  battle conf switch [Komurka]
	* Cleaned up the implementation of Poison and Deadly Poison. Corrected a bug
	  on Deadly Poison that was KO'ing human players when it triggers under
	  certain circumstances. [Skotlex]
	* Added guild_skill_tree.txt [Komurka]
	- corrected guild skill tree
	* Battle Orders, Regeneration, Restore and Emergency Recall now share their
	  5 minute delay. [Skotlex]]
	* Implemented SC_INTRAVISION [DracoRPG]
	* Reorganized a bit DEF/MDEF calculation code [DracoRPG]
	* Added a small licence notice at the top of every Athena source/header file, I've tried
	  to put it only where it should have been but I'm not a pro ^^ [DracoRPG]
2005/12/27
	* The 50% Weight Icon will now show up at whatever % was specified in
	  natural_heal_weight_rate [Skotlex]
	* Fixed char-txt server crashing if trying to read storage lines with more
	  items than the max (excess items will simply not be read and a warning
	  printed) [Skotlex]
	* Added silent_console config option to the servers to filter out the
	  console output (login_athena, char_athena, map_athena config files). Makes
	  it possible to hide unwanted messages by category, so for example you can
	  remove all info messages, or all warning+notice messages, etc. [Skotlex]
	* Removed unused battle switches enable_upper_class and unit_movement_type. [Skotlex]
	* Reenabled battle switches pet_defense_type, mob_defense_type and
	  mob_remove_damaged. [Skotlex]
	* Applied Irmin's patch to add support for SQL codepages. [Skotlex]
	* Fixed friend list saving if using a custom char table name (SQL version). [Valaris]
	* Added check for mute in main chat [Foruken]
	* Likely fixed lose Hp/Sp script commands when used on accesories. [Skotlex]
	* Added 2 new script commands: getfatherid, getmotherid [Lupus]
	* Fixed compatibility problems with stricter compilers. [Lance]
	* Added joshuali's new VC8 project files and SQL database upgrade script. [Lance]
	* Fixed juicer script typo, eliminating unlimited juicing capability with zero zeny. [Lance]
2005/12/26
	* Added check for free'd guild pointer beforing freeing in guild_save in int_guild.c. [Valaris]
	* Added @kamic command. Now you can send colored GM-messages.
	  Syntax: @kamic <color> <message>. Color is 3-bytes hexadecimal number RRGGBB. [LuzZza]
	* Implemented main chat (global chat channel). Usage: @main <on|off>, @main <message>. [LuzZza]
	* Chasewalk players can now be hit in the same way a Cloaked player could.
	  [Skotlex]
	* Added option mob_npc_event_type, read battle_athena.conf for details.
	  [Skotlex]
2005/12/24
	* Fixed @go, thanks to Persian [Vicious]
	* Updated @go command for new cities, done by Harbin [Vicious]
	* Added root user check and warning to non-Windows compiles. [Valaris]
	* Added a check to remove characters that would normally be left unremoved
	  during shutdown because they just happened to be between maps. [Skotlex]
	* Fixed the production code always giving 1 item instead of the value they
	  should (50/100/200 for Twilight Pharmacy skills) [Skotlex]
	* Corrected easy path searching algorithm failing for some cases (which
	  incidentally seemed to be the reason skill_wall_check was broken) [Skotlex]
	* Fixed compile for TXT map-server. [Valaris]
	* Fixed stone curse's defense being checked versus int rather than mdef. [Skotlex]
	* Fixed firewall treating everyone as undead/fire-element. [Skotlex]
	* Added SQL read of cast_db. [Valaris]
	* Added SQL read of skill_require_db. [Valaris]
	* Added SQL read of skill_db. [Valaris]
	* Added setting use_new_sql_db to inter_athena.conf for development.
	  Do not enable this setting, it will be merged into use_sql_db once all work is finished. [Valaris]
	* Added some work towards sqlizing the rest of the databases. [Valaris]
	* Changed @help2 to #help to display char commands. Cut @help in half
	  @help2 has the other half. [Kayla]
2005/12/23
	* Missed a change in txt login.c for bind_up. [Valaris]
	* Cleanup organization of clif.c and script.c.
	  Please don't put extra functions beyond inits, try and organize a little. [Valaris]
	* Removed login_ip option from login_athena.conf as it is not used. [Valaris]
	* Fixed bind_ip option in login servers. [Valaris]
	* Fixed a bunch of terrible typos in chrif.c [Skotlex]
	* Fixed a terrible typo in the handling of broadcast messages which was
	  causing the map server to send garbage packets to the char server.
	  [Skotlex]
	* Added resistance (int + luk/3) to Stone Curse's equation [Skotlex]
	* Updated sql-files/item_db.sql to current txt version. [Skotlex]
	* Fog of Wall update... Blindess won't affect bosses, blindness ends as
	  soon as you step out (players only) [Skotlex]
	* Implemented the Strip equipment effects on mobs. [Skotlex]
	* Now when Berserk ends, the char's HP goes to 100. [Skotlex]
	* LK's Concentration now gives +50 hit rather than +50% [Skotlex]
	* Inverted the handling of Individual/Shared item pickup rule for parties.
	  [Skotlex]
	* Fixed the item ruling for parties not being correctly read from the save
	  files. [Skotlex]
	* Now Star Gladiator uses 2nd Adv.Class Job EXP table (13th column) [Lupus]
	- In future there could be added the 14th EXP column, specially for Star Gladiator
2005/12/22
	* Begin work on packet optimization .. not done yet [MouseJstr]
	* Finished work on @help/@help2. @help will no longer show # commands. @help2 shows 
	  them instead. [Kayla]
	* Fixed compile warnings in atcommand.c and map.c. Fixed compile error in script.c. [Valaris]
	* wedding_modifydisplay's default is now no (that's how it is on official)
	  [Skotlex]
	* Some cleaning to skill_attack, also added target checking for splash
	  attacks/groundbased skills [Skotlex]
	* Mobs will now stop walking if their target no longer exists (picked up
	  items, for instance) [Skotlex]
	* Modified firewall to cause no damage delay when hitting undead
	  characters. It may fix undead mobs warping when walking through the
	  firewall. [Skotlex]
	* Added script command "clone" for cloning of players. See
	  doc/script_commands.txt for further information. [Skotlex]
	* Added @waterlevel debug command to read/change the current's map
	  water-level (command untested) [Skotlex]
	* Enabled names for forged weapon/created Potions by default [Lupus]
	- Old issues have beed solved long time ago, now items by TOP10 BS/ALCH	gain their TOP10 bonuses
2005/12/21
	* Now left_cardfix_to_right won't take effect when there's no weapon equipped
	  on the right hand. [Skotlex]
	* Updated slave AI to support player masters as well (that is, you could
	  have a non aggressive slave, and it will target any mobs the master
	  targets) [Skotlex]
	* Added battle option skill_wall_check, when enabled, all ground skills
	  will do a check for each cell to guarantee a straight path between the
	  cells and the target tile. Should prevent AOE skills from hitting through
	  walls. Due to the possible performance penalty this setting brings, it
	  defaults to no currently. [Skotlex]
	* Default skill delay for skills with no delay is now the normal attack
	  delay. [Skotlex] 
	* Extremity Fist/Charge Attack will fail if the player can't move to the
	  target. [Skotlex]
	* Prepare kick skills now only fail for Soul Linkers. [Skotlex]
	* Merged in Marquis007's work on SL_SKA/SL_SWOO [Skotlex]
	* All skills except Shield Boomerang get the weapon's refine bonus now.
	  [Skotlex]
	* Taekwon Ready Stances will now fail if you are a Second Job of the
	  Taekwon Tree (SL, SG) [Skotlex]
	* Another fix to item picking for party-share. Hopefully it works alright
	  now (at least I believe it should be dupe-proof now) [Skotlex]
2005/12/20
	* Updated water heights for some maps, thanks to [Lupus]
	- removed p_track02.gat from the maps list. Thanks to Justin84
	* Fixed produce_db items always failing... [Skotlex]
	* Hopefully fixed picking up items on a party-share type of party. [Skotlex]
	* Txt map servers will now send the whole list of online characters at
	  UPDATE_INTERVAL (10 secs) rather than CHECK_INTERVAL (1 hour) so that the
	  online.html file will be correctly updated. [Skotlex]
	* Fixed char_sql and char crash because of buffer overrun. [Lance]
	* Added a flag to tag non-weapon based skills so that they don't get the
	  following bonuses: Star crumb damage, Mastery bonuses, Weapon Refine damage
	  upgrades. Currently applies only to shield skills. [Skotlex]
	* Removed use of castle_id for guilds in char-sql server (use corresponding
	  upgrade_svn* file). TXT servers haven't been touched yet because that
	  would mess up the guild save files. [Skotlex]
	* Online list of characters will be sync'ed every 10 secs for TXT servers.
	  [Skotlex]
	* Merged in Reddozen's work to get Twilight Pharmacy working. [Skotlex]
	- Create Deadly Poison Bottle and Holy Water are now both handled by the
	  item producing code.
2005/12/19
	* Fixed char servers not parsing correctly the online count packet (/who
	  should work fine now) [Skotlex]
	* Fixed the Dodge walking speed bonus to Assassin. [Skotlex]
	* Added the new Garden City Hugel and Kiehl maps. [Valaris]
	* Corrected Kaupe/Kaizel so that you can cast it on self/family when
	  not-linked, and anyone when linked. [Skotlex]
	* Fixed the mob damage log not getting the ID of the attacker registered...
	  [Skotlex]
	* Added a new timer which updates only the count of characters on the
	  current map server to the char server. Update interval is 10 secs.
	  [Skotlex]
	* Updated status_clear_debuffs to clear many other types of ailments
	  (Gospel should be clearing up most negative status changes now) [Skotlex]
	* Fixed exp calc type 0 (dmg/total dmg) being calculated as 0 always. [Skotlex]
	* Implemented the item pickup style for parties. [Skotlex]
	- Party share distributes items in round-robin fashion among players who
	  are in the same map.
	- Pick-up Style shared is needed for anyone to be able to pick up the item
	  bypassing the timers set for first/second/third sd. [Skotlex]
	* Optimized map server's online-listing update timers. [Skotlex]
	* Some updates to the online db in the char/char_sql servers, should help
	  fix some memory leaks due to chars left tagged as 'online' even though
	  that's incorrect. [Skotlex]
	* Added buildin_warpchar script function. Useful for warp one player from
	  another player npc-session. Sytax: warpchar "map.gat",x,y,Char_ID; [LuzZza]
	* Now opening storage will fial if the guild storage is open and viceversa.
	  [Skotlex]
	* Total damage a mob receives is now stored on it's own variable. Damage
	  log implementation clean-up. [Skotlex]
2005/12/18
	* Fixed Close Confine not affecting the caster. [Skotlex]
	* Fixed all skills except Extremity Fist not getting the weapon size
	  modifiers [Skotlex]
	* Fixed Warp Portal checking for noteleport instead of nowarp mapflag
	  (again?) [Skotlex]
	* Fixed baseJob working as baseClass (I hope it works fine now) [Skotlex]
	* Fixed Doridori bonus for Super Novices [Skotlex]
	* Updated new MOTD code so that it can compile on VC. [Valaris]
	* Fixed clone's dyes changing when they attack. [Valaris]
	* Declared pc_read_motd(void) in pc.h for the motd reload command. [Valaris]
	* Added @reloadmotd for reloading the motd.txt into memory. [Valaris]
	* motd.txt will now load into memory at startup instead of being read everytime a player logs in. [Valaris]
	  - motd.txt can now have lines commented with "//" .
	  - MOTD_LINE_SIZE is defined in pc.c, change this to increase maximum amount of lines allowed in motd.txt.
	  - Default motd line maximum is 128.
	* Added a new script function 'setitemscript ItemID,"{ end; }"' [Lupus]
	- Very useful for events that give TEMP item bonuses for short time period 8) A Custom New Year Event NPC's coming soon.
2005/12/17
        * Updated the svn eol-style properties to make merging between
          linux and windows easier when we use more complex branching
          system  [4544: MouseJstr]
2005/12/16
	* left_cardfix_to_right now also moves the ignore race/element defense
	  bonuses (Ice Pick, Weed Killer, etc) [Skotlex]
	* Some fixes to the job_name functions (rearranging inside msg_athena.txt
	  as well) [Skotlex]
	* Left card to right fix will now also apply to defense piercing effects
	  (Ice Pick) [Skotlex]
	* Fixed char-converter being broken for a type mismatch [Foruken]
2005/12/15
	* Fixed clone skills again. This time ground-based skills are working, and
	  support skills have a re-cast delay of half the skill's actual effect. [Skotlex]
	* Fixed clone commands sometimes spawning the clone on a non-walkable tile
	  (which in turn sends the clone to a random map location) [Skotlex]
	* Added debug information to the guild cache. Total number of guilds in the
	  db will be printed now (as long as the save log is active) [Skotlex]
	* Updated SG_HATE to pick the specific class (Select a Monk, and the bonus
	  is against monks only, not Champions/Acolytes/Baby Monks) [Skotlex]
	* Removed hardcoded table names in login_sql/login.c [Foruken]
	* Some cleaning regarding the job tree skill-raising restrictions code.
	  [Skotlex]
	* Optimized/cleaned up the job_name function, job names are now acquired
	  from msg_athena.txt. [Skotlex]
	* Fixed race defense bonus against Boss/Nonboss checking versus the target
	  instead of the attacker (should fix Alice Card) [Skotlex]
	* Some cleaning in clif.c [Skotlex]
2005/12/14
	* Fixed 'dead_branch_active' option. [Skotlex]
	* Optimized use of weather effects, or should I say, no use.
	  Also re-added clif_clearweather to some of the weather effects, when they are turned off. 
	  Why those were removed are beyond me.. [Valaris]
	* Temporarily changed the walk speed during Charge Attack and Extremity
	  Fist to simulate a faster 'zoom' to the target (somewhat untested yet)
	  [Skotlex]
	* Corrected SL_HIGH so that the total of each stat is always 50...
	  [Skotlex]
	* Optimized graffiti display packets (what was I thinking?) [Valaris]
	* Corrected a statement in guild.c (== to =) in nulling out the guild cache. [Valaris]
	* Implemented a mini cache for guilds/parties in the map server. Looking up
	  the same guild/party twice or more should result in instant seek times
	  until a different one is looked up. [Skotlex]
	* Fixed saving account variables [Komurka]
	* Fixed SL_KAIZEL not starting the proper effect. [Skotlex]
	* Merged Reddozen's work of SL_KAUPE [Skotlex]
	* Updated checkweight() script command to return false when the player has
	  inventory full. [Skotlex]
	* Soullink check for SG_FUSION [Komurka]
2005/12/13
	* Fixed @slaveclone not attacking enemies. [Skotlex]
	* Some more cleaning to the clone skills, proper support for Heal,
	  Resurrection, Double Attack, Triple Blows. [Skotlex]
	* Updates/fixes/corrections to battle check target so that mobs with
	  special AI can fight mobs without it even if the mob doesn't has a human
	  master. Also updated it so that mobs with no special AI are all friends by
	  default. [Skotlex]
	* Clone skill fixes, support/self skills are now triggering (never
	  triggered before), adjusted some of the skill usage rates. [Skotlex]
	* Dyes will now work correctly on cloned or mob_avail class monsters.
	  save_clothcolor must be enable in battle_athena.conf. [Valaris]
	* Added carts, falcons and pecos to clone and mob_avail class monster spawns. [Valaris]
	* Likely fixed the @spawn names issue. [Skotlex]
	* Fixed @*clone commands not resolving properly the target char. [Skotlex]
	* Implemented the SL_ROGUE bonus to potions. They heal +100% more rather
	  than 50% (potions from ranking Alchemists, that is) [Skotlex]
	* Merged in Reddozen's work with SL_KAIZEL [Skotlex]
	* Added the check to prevent KA skills from being usable until you are Soul
	  Linked. [Skotlex]
	* Enabled clif_parse_Taekwon (Why was taekwon parsed as clif_parse_Alchemist?) [Vicious]
	* Moved the base attack code into it's own function to properly implement
	  the magnum break's elemental damage bonus (watch out for bugs as the code
	  was proof-read, but that usually doesn't says quite enough when it comes to
	  code). [Skotlex]
	* Merged in Reddozen's work for SL_WIZARD [Skotlex]
	* Updated clone command to allow attaching the clone to the invoking player
	  as a slave. @clone creates a friendly clone that attacks mobs. @slaveclone
	  makes a clone that follows the creator (it's a slave), @evilclone is the
	  stock clone as a mob). Also fixed min/max damage of clones. [Skotlex]
	* Added one extra tile of range to melee mobs in mob_attack, should fix
	  mobs not attacking when they are range+1 tile from you, yet they refuse to
	  move in that final tile. [Skotlex]
	* Corrected mob ai not moving closer to player if there's a distance of 2
	  or less between them (which would do no good if the mob's range is just 1) [Skotlex]
	* Fixed SG_FRIEND - should work now [Komurka]
	* Realtered global_reg value size to 256. [Lance]
	* Adjusted pointers location for packets for new global_reg value (it's wrong + I adjusted the size) to 256 + 32 = 288 [Lance]
	* Improved variable scope for scripts to accept all string variables. [Lance]
	* Altered map, char and login server to correctly use global_reg [Lance]
	* do_sendrecv merges from Freya [Lance]
	 = Requires recheck on packets again to see if I missed any pointer alterations =
	* Improved @evilclone to accept character IDs [Lance]
	* Corrected partywarp/guildwarp to correctly take into account nowarp/nowarpto mapflags. [Skotlex]
	* Added a few custom scripts due to high demand. [Lance]
	* Added monster museum. Adapted from Prometheus. [Lance]
	* Corrected OnTouch to use exname instead of name to prevent conflicts. [Lance]
2005/12/12
	* added manner_system battle conf variable (now you can have PK server without manner system - which is unfinished ;/) [Komurka]
	- some corrections in SI_ data (night uses soullink effect)
	- changed global_reg value from int to char
	  added two new functions (pc_readglobalreg_str and pc_setglobalreg_str)
	  SG_FEEL now saves maps to global_reg
	  I've 'marked' all changes that SHOULD be checked with '//komurka'
	- SG_FUSION hp penalty changed from 2% to 0.5%
	- SG_SUN_COMFORT now increase VIT DEF
	- implemented SG_FRIEND skill - this is the last SG skill - now it's a good time for bug reports :]
	* Updated the max number of ingredients of produce_db to 12. [Skotelx]
	* Updated clone code to also copy the skills from the source player. [Skotlex]
	* Added Reddozen's implementation of SL_SKE and SL_MONK (sp recovery, Combo
	  Finisher splash damage, SP regen while in Fury) [Skotlex]
	* Some reorganization of the Star Gladiator map-based skills. [Skotlex]
	* Fixed @spawn/@monster atcommands 'freezing' server when used. [Skotlex]
	* Fixed ground-based skills having their range-check messed up... [Skotlex]
	* Corrected melee-ranged mobs failing the range check even if they were
	  standing next to you. [Skotlex]
	* Added all duel-commands messages into msg_athena.conf. Commented out
	  code of drawing PVP-circle in duel because it not hiding when player use hide. [LuzZza]
	* Removed @monster2, merged the code of atcommand_spawn/atcommand_monster
	  as suggested by Flaviojs. [Skotlex]
	* Removed some unused entries in msg_athena.txt [Skotlex]
	* When there are unused stack sections (invoked functions and ignored
	   return values) the unused stack section is free'd. This is still notified
	   when the etc_log is active. [Skotlex]
	* Removed the TURBO code from socket.c as requested by MouseJstr. [Skotlex]
	- It was actually slower than the normal code.
	* Updated warp portal and script commands partywarp/guildwarp to take into
	  consideration mapflag nowarp as restriction rather than noteleport.
	  [Skotlex]
	* Applied dontBR's update to his configure script [Kayla]
	* Changed the bonus on Sonic blow.(It was giving 1500% instead of 1600%) [Vicious]
	* Updated gettimetick() to use flag 2 and return System's tick, thanks to
	  Kyoki [Skotlex]
	* Removed the mismatch stack error message caused by scripts where the
	  returning value of a function was ignored. [Skotlex]
	* Corrected the Spirit of Assassin damage bonus of Sonic Blows. [Skotlex]
	* Corrected BSS check versus undead, checking for partners on the Priest's
	  exact left and right, and sending partner's SP to negative. [Skotlex]
	* Another Paladin's Gospel effect ends when you cast it (should fix Gospel
	  in Gospel bugs). Also, now Gospel only blocks usage of items of type 0
	  (healing). [Skotlex]
	* Corrected berserk Pitcher displaying 0 heal. [Skotlex]
	* Added Close Confine's flee bonus. [Skotlex]
	* Corrected Slow Poison. Can be used when not poisoned, will not "pause"
	  poison's timer. [Skotlex]
	* Implemented SG_FUSION skill [Komurka]
	  Don't ask me why in newer exe U see flying ... Santa ... -.-
	* Updated the distance() function definition with one which uses a much
	  better approximation [Skotlex]
	* Updated sql-files/ mob_db.sql & item_db.sql to latest. [Skotlex]
	* Added @autotrade/@at and @away/@aw messages into msg_athena.conf (you can customize them) [Lupus]
	* Updated default hardcoded GMlevel values of some @ATCommands according atcommand_athena.conf [Lupus]
		and removed doubles of some commands, thanks to Rideword
2005/12/11
	* Corrected guild deletion in SQL (both from /breakguild and guild master character deletion). [Valaris]
	* Added @evilclone commands.  Syntax is @evilclone <playername>, [Valaris]
	  It will spawn an aggresive clone of the given player.
	  By default it will use mob id ranges 9001-10000, this range is #defined in mob.h.
	* Fixed VS compile error in mob_clone_spawn. [Valaris]
2005/12/10
	* Added core player cloning code. Just need to create some commands. [Valaris]
	* Redid the @help2 (char commands). [Kayla]
	* Added jobname retrieving script function getJobName. [Lance]
2005/12/09
	* Changed default GM level for @setbattleflag to 99. [Valaris]
	* Implemented the SL_SUPERNOVICE bonus to wear all heagears/various weapons
	  at high base levels. [Skotlex]
	* Implemented SL_ROGUE bonuses: can't be dispelled, Chase Walk's str bonus
	  lasts 10x longer. [Skotlex]
	* OneHand Quicken now dispels aspd potion effects. [Skotlex]
	* Updated SL_STIN/SL_STUN to do miserable damage if the target's size is
	  'incorrect'. [Skotlex]
	* Updated @disguise so the max npc id you can use is 1000 (1001 is already
	  the first mob, Scorpion) [Skotlex]
	* Fixed a possible infinite loop in pc_calc_skilltree when receiving
	  additional skills when Soul Linked. [Skotlex]
	* Added the Taekwon bonus that gives you triple Max HP/SP when you are a
	  top 10 ranker and have base level 90+ [Skotlex]
	* Added support for skill_db pl == -2. These skills don't take the element
	  of the weapon, but will take the element of any enchantment elemental
	  change (so the element used is neutral unless you are enchanted with
	  Fire/Wind/etc) [Skotlex]
	* Coded in SL_STIN, SL_STUN and SL_SMA. [Skotlex]
	* Should have fixed the crash with raw_time in char/char.c [Skotlex]
	* Pressure can now be cast-break. [Skotlex]
	* Likely fixed the client crash when hating a class rather than mob. [Skotlex]
	* Removed @help2, note to self: do not commit at 4 am. Will redo later. [Kayla]
	* Added @help2. @help did not fit in the screen. @help2 currently contains
	  just the char (#) commands. [Kayla]
	* MAPREGSQL disabled (experimental) in VC7. To enable, define MAPREGSQL in preprocessor. [Lance]

2005/12/08
	* Changed default value of start_zeny to 0 to prevent packet exploits.
	  Also is 0z on offical servers. [Kayla]
	* Fixed bug with objects (npcs, monsters, players, etc) not appearing when using @refresh. [Valaris]
	* Updated effects for food production thx to Poki#3 [Komurka]
	* SG_STAR_BLESS now gives 20%*skill lvl additional exp [Komurka]
	* Modified clif_blown to use the clif_slide packet instead of clif_fixpos,
	  as Komurka tested it and it appears to be handled better by current
	  clients. [Skotlex]
	* Added two new battle_athena.conf options:
	  duel_allow_teleport (def: no) and duel_autoleave_when_die (def: yes) [LuzZza]
	* Small fix in allskill [Komurka]
	* Updated Gloria Domini to bypass battle_calc_damage (misc damage
	  reductions) [Skotlex]
	* Fixed a typo in pid.c, thanks to akusarujin [celest]
	* Exploit fix in SG_FEEL [Komurka]
	* Updated TK_MISSION to pick a random mob in the same way a dead branch
	  does. [Skotlex]
	* Corrected SG_DEVIL giving the ASPD bonus below level 50. Only works at
	  max level... [Skotlex]
	* Some cleaning to pc_calc_skilltree. Also updated it so that if you don't
	  use player_skillfree, you can't have ANY skill if you don't have NV_BASIC at
	  9 (only exception are quest skills). [Skotlex]
	* Implemented HT_POWER/Beast Strafing.  [Skotlex]
	- The damage equation is unknown.. for now it's the same as Double Strafe
	  except the skill modifier is +10%*str
	- Currently the Combo is triggered 100% of Double Strafes done on beast
	  monsters.
	* Added Reddozen's work for Hunter's Beast bane spirit bonus. [Skotlex]
	* Corrected the drop delay for mobs when killed by magic to be 500ms (will
	  only work if killed by a player) [Skotlex]
	* Updated SG skills (kRO Patch - 11/29/05) [Komurka]
	* Enabled a few maps needed for the new novice training grounds, sorry I forgot to [MasterOfMuppets]
	* Removed duplicate maps in maps_athena.conf. Thanks for the report Dr. Evil [Kayla]
2005/12/07
	* Pressure will always pull-off now after it has began casting. [Skotlex]
	* Implemented Close Confine. [Skotlex]
	* Change all 0x20e packets (18->26; 22->30) [Komurka]
	  Also added job_name(mob_id) in clif_hate_mob 
	  (but it crashes client when U try to use SG_HATE skill on player ><)
	* Fixed compile error in status.c. Check your work skot <3 [Kayla & MoM]
	* Updated socket.c by adding a lots error reporting for functions that
	  previously were assumed to not fail. May help figure out what's going on
	  with the win32 builds... [Skotlex]
	* Reviewed and cleaned up a bit the latest SG additions from Komurka. [Skotlex]
	- My skill desc says that SG_DEVIL does not makes you blind until you reach
	  max job level, so I implemented that. Report if this is incorrect. 
	- SG_*_WARM skills should be working from what I read there.
	* Modified a bit the TK_MISSION packet, GUESSING where the progress of the
	  current mission should go within said packet... [Skotlex]
	* Implemented TK_MISSION. [Skotlex]
	* Added more SG skills (Comfort, Warmth, Demon, Knowledge) [Komurka]
	All of them should be checked by someone ^^;;
	- SG_xx_WARM for now only shows cool red effect :> There is more code but for now it doesn't work
	* Added new Geffen Field maps [Harbin]
	* Disabled Atcommand Nuke (It was commented, not disabled) [Harbin]
	* Added skip_teleport_lv1_menu option to Battle_Athena. Allows players to cast Teleport level 1 without menu. [Harbin]
	* Merged in Reddozen's current Soul Linker work. [Skotlex]
	- Berserk Pitcher should be working now.
	- Bard/Dancer walk bonus when dancing/singing while soul-linked.
	- Partial work on Twilight Pharmacy.
	- proper skill effect
	* Fixed One Hand quicken doing nothing. [Skotlex]
	* skill_get_name now returns "UNKNOWN_SKILL" instead of null (should fix
	  some crashes when using it on skills with no defined name) [Skotlex]
	* When weapon_delay_attack is enabled, items should drop inmediately after
	  mobs are killed rather than 500ms afterwards. [Skotlex]
	* Added Exception Handling plugin to be used for native Win32 builds [celest]
	  - crashes will be logged in <server type>.stackdump along with file name and line numbers
	  - To activate, enable 'exchndl' in plugin_athena.conf

	  Public Service Message - Crash reports can be VERY VERY helpful, so please enable the
		plugins if you can ('exchndl' for Win32, 'sig' for cygwin and linux) and send in any
		reports you might get! We all want eA to be stable, ne? ^^

	* Some compile error fixes for MinGW, FreeBSD and plugins [celest]
	* Updated Makefile to set platform defines for FreeBSD [celest]
	* Updated Makefile to auto-detect MinGW and include src/mysql [celest]
	* Debug logging flag for logging output messages (only works well with native Win32) :D (Not enabled by default) [Lance]
	* joshuali's new vcproj with debug mode correctly set up. [Lance]
	* Fixed compile errors for Valaris's commit on date.h [Lance]
	* Added updated vcproj for native VC8 win32 for date.h/c support. [Lance]
	* Removed extra returns in date.h. [Lance]
	* Probably fixed warnings in unzip.c [Lance]
2005/12/06
	* Updated item 12132 for the Xmas suit effect in item_db.sql. [Valaris]
	* Implemented Xmas Suit: [Valaris]
		-Added status change state SC_XMAS, and added it to const.txt.
		-Cannot attack or use skills while in the Xmas state.
		-Will save if you logout.
		-"sc_start SC_XMAS,600000,0" added to item 12132 (using item will give you xmas suit for 10 minutes).
		-Added xmas_ignorepalette option to battle_athena.conf.
	* Fixed script error in Garm's Claw item causing an error. [Valaris]
	* Added a missing ; to Skotlex's Previous SG skill editions that caused compile errors. [Valaris]
	* Added JOB_GUNSLINGER(24), JOB_NINJA(25), and JOB_XMAS(26) to map.h enum list and const.txt. [Valaris]
	* Added SC_SCRESIST to const.txt. [Valaris]
	* Applied Komurka's Star Gladiator patch. [Skotlex]
	- The following skills are now working: SG_FEEL, SG_HATE, SG_SUN_ANGER,
	  SG_MOON_ANGER, SG_STAR_ANGER, SG_SUN_BLESS, SG_MOON_BLESS, SG_STAR_BLESS
	- The designated maps cannot be stored currently (cannot save character
	  string variables) and is pending on a script update to enable saving of
	  said type of variables.
	* Added @away command. [LuzZza]
	* Mostly fixed intravision making everyone see hidden/cloacked characters.
	  (the actual option value to see just the player's shadow is currently
	  unknown) [Skotlex]
	* Updated Gospel [Skotlex]
	- It should clear all buffs/debuffs now.
	- Party-mates within range cannot use items.
	* Implemented the SL_BARDDANCER bonus that enables the caster to be buffed
	  by their own song/dance/encore. [Skotlex]
	* Completed Sight Thrasher (the option value is still missing, though.
	  Temporarily uses the one of Sight) [Skotlex]
	* Corrected possible exp exploits in jA's exp calc method. [Skotlex]
	* Corrected Spirit Skills showing up in all class trees. [Skotlex]
	* Invoking @reloadscript now also invokes the OnInit event after loading. [Skotlex]
	* Expanded Item Groups list from 20 to 32 item groups [Lupus]
	* Fixed healing experience bug. Now only healing another players gives experience. [Harbin]
2005/12/05
	* Hopefully fixed gm_all_skill.... [Skotlex]
	* Modified a bit the player attack code to give an extra range cell when
	  the target is moving. [Skotlex]
	* Added skip_teleport_lv1_menu battle_athena option. It give a possibility to
	  disable (skip) Teleport Lv1 menu, that have only two lines `Random` and `Cancel`.
	  Of course, by default this option have `no` (don't skip) value. [LuzZza]
	* Added FD_SETSIZE 4096 predefination to VC++ Project Files. Should fix 60 player limit bug with native compilations. [Harbin]
	* Fixed char crash (I hope) when checking for two parents + baby in a party
	  with more than 3 characters, but from which only 3 were online at a time. [Skotlex]
	* Merged in Reddozen's work on SL_BARDDANCER and cleaned up a bit the
	  Spirit Skills code when calculating the skill tree. [Skotlex]
	* Updated mob ai so that support/aggressive mobs can't 'see' a player until
	  there's a direct line of sight between them. [Skotlex]
	* Updated monster_ai&1 so that when not set mob-chase type is Aegis-like
	  (mobs will not change walk target tiles mid-walk) [Skotlex]
	* Added battle_athena.conf option mobs_level_up_exp_rate to set the extra
	  exp rate a leveled up monsters gives. [Valaris]
	* Added a custom X-Mas quest *Sign Your Items* [Lupus]
	* Applied Harbin's patch to fix Arrow Shower + Traps. Someone test it out.
	  [Skotlex]
	* Another fix to socket.c to enable TURBO mode to work on win32. [Skotlex]
	* Fixed the combo status not ending after using TK_TURNKICK [Skotlex]
	* Overflowed pointer fix in socket.c [Skotlex]
	* Added 'Einbech' into @go command (u have to type at least 5 letters) [Lupus]
	* More detailed error messages for missing '"'s in scripts. [Lance]
2005/12/04
	* Removed mail server switch from battle_athena.conf and added
	  full mail server configuration to inter_athena.conf. [Valaris]
	* Fixed too big VVS damage of TOP10 BS weapons [Lupus]
2005/12/03
	* Fixed up TK Sprint (TK_RUN) skill: [Valaris]
		-Disabled movement during skill use.
		-Correct moves player server-side.
		-Stops without sp use if skill is used during running.
		-Server will not save status if player logs out.
	* Some cleaning of socket.c to see if TURBO will now work on Windows, it
	  may also fix the select() problems on that platform as well. [Skotlex]
	* Fixex "gm_skill_all" crashing the server from generating huge packets (or
	  so I hope) [Skotlex]
2005/12/02
	* Gave the Spirit Status Change a custom effect for now. [Skotlex]
	* Merged in Reddozen's work for SL_HIGH (Spirit of Rebirth) [Skotlex]
	* The Bonus skills acquired from being Soul Linked should now show up in
	  the skill tree. [Skotlex]
	* Merged Reddozen's work of One-Hand Quicken and Adrenaline Rush 2. [Skotlex]
	* Fixed Axe-Kick never triggering. [Skotlex]
	* Slaves walk once again. [Skotlex]
	* enable_items now also enables equipment stuff. [Skotlex]
	* The attack motion in packets for ground-based skills is now 0 (it may
	  help somewhat with current firewall issues). [Skotlex]
	* Added char-server option "save_log", when disabled, the char server will
	  stop printing info messages whenever something is loaded/saved. [Skotlex]
	* Disabled random-walking for slaves [Skotlex]
	* Added script commands enable_items/disable_items [Skotlex]
	* Likely fixed the mob-skill target type "master" [Skotlex]
	* Added target type "master" to the mobskill_db [Skotlex]
	* Modified NPC_RUN to allow the caster to run away from the target [Skotlex]
	* Implemented SL_SAGE (Soul Linker Sage buff for auto-cast bolts) [Skotlex]
	* Updated char-sql guild saving so that instead of saving ALL guilds when
	  the time comes, the save interval is splitted on time-slots (based on guild
	  count in memory) and a guild is saved per time-slot (just like the map
	  server saves characters). [Skotlex]
	* Fixed client crashes with using baby and advanced player classes as pets. [Valaris]
	* Added missing ban_hack_trade option to battle_athena.conf. [Valaris]
	* Hopefully fixed Counter Kick. [Skotlex]
	* Uncommented and corrected the Soul Linker Monk buff (SP cost reduction
	  for monk combos) [Skotlex]
	* Added a check in skills so that skills that are used on yourself, but had
	  it's target auto-selected cannot be used on non-enemies if it's nk is
	  different from 1 (1 = No damage skill) [Skotlex]
	* Various cleanups to the char-sql server to prevent corner-case crashes
	  from queries that return no rows. [Skotlex]
	* Massive Taekwon Boy skills related code cleanup. [Skotlex]
	- Flying Side kick and Turn Kick should be fully working now, too.
	* Cleaned up and reorganized the SC_ data listing. Added sc's for food
	  related bonuses: SC_HITFood, SC_FLEEFood, SC_BAtkFood, SC_WAtkFood,
	  SC_MAtkFood. [Skotlex]
	- Some of the saved sc data will be wrong, so wipe the table/file if you
	  want to play it safe.
	* Some corrects in duel code. [LuzZza]
	* Sonic Blow and Shield Boomerang's after cast delay is now properly
	  adjusted by the Soul Link skills. [Skotlex]
	* Party even share will be now broken after a base level reset. [Skotlex]
	* Merged in Reddozen's Soul Linker current skills work. [Skotlex]
	* Added countitem2(itemID,....) script function. [Lupus]
	* Added axtoi script function that converts hex strings to integers. [Lance]
	* Fixed incorrect time (that leads to crashes) in login server. [Lance]
2005/12/01
	* Moved KN_CHARGEATK code to merge it with Extremity Fist. Skill damage
	  modifier is currently set to +15% per cell (need actual value here) [Skotlex]
	* Fixed client crash when logging in with Baby Knights and Crusaders riding Pecos. [Valaris]
	* Implemented Ki Explosion. [Skotlex]
	* Fixed client crashes with using baby and advanced player classes as monsters. [Valaris]
	  Make sure to use Item ID for weapons and shields in mob_avail.txt for player monsters and not View ID.
	  Updated Valaris and MC Cameri mobs in item_avail.txt to use Item IDs.
	* Fixed cutting Castle Name (was 14 instead of 24) [Lupus]
	* Corrected Grimtooth counting a short-range skill when it's actually
	  ranged. [Skotlex]
	* Corrected Venom Splasher's splash range, and the splash damage is now
	  divided by number of targets (sort of, skill % dmg is adjusted according
	  number of targets) [Skotlex]
	* Tarot Card of Fate won't break equipment now if equip_skill_break_rate is
	  0. [Skotlex]
	* Improvements and optimizations to the online db management in the char
	  txt/sql servers. [Skotlex]
	* Updated the guild cache (char sql) to have it load/unload characters
	  whenever they are updated in the char online_db (previously they were only
	  updated on normal char-select/char-quit when there were more cases where a
	  char is set online/offline) [Skotlex]
	* Now when the guild is not found in the cache it will be loaded from the
	  sql db first before failing. [Skotlex]
	* Fixed equip_skill_break_rate equation being messed up for Acid Demonstration. [Skotlex]
	* Fixed Aura Blade adding damage to Spiral Pierce (it shouldn't) [Skotlex]
	* Script function getnameditem now sets flag 254 (created) instead of 255 (forged) [Lupus]
	  To prevent ADDITIONAL Blacksmith FAME TOP10 bonuses, applied to signed but not forged weapons
		e.g. You have a custom quest for rare weapons. You tag items with players name (using getnameditem command).
		if a TOP10 BS get an Infiltrator.. then it used to give extra atk bonus 8)
2005/11/30
	* Updated item_db.sql to latest. [Skotlex]
	* Updated mob_db.sql to latest. [Skotlex]
	* Updated Gospel to force the removal of the ground-effect when the status
	  change ends. [Skotlex]
	* Made Snatch/Intimidate work on Guild maps (I have read around this is how
	  it is) [Skotlex]
	* Added the auction maps to maps_athena.conf [MasterOfMuppets]
	* When players are hit while moving, they should now move one last cell
	  in the same direction they were walking when interrupted. [Skotlex]
	* Walk delay won't be applied now unless the attack deals damage... [Skotlex]
	* Major reorganization of player variables and bonuses. If something broke,
	  report it up. Otherwise, struct map_session_data should look quite a bit
	  more clean now. [Skotlex]
	* Fixed duel bug when you can't cast some skills on yourself. [LuzZza]
	* Fixed (I think) pets losing the "rename flag" when you sent them back to
	  egg. [Skotlex]
	* Added a index check in the equip packet, should fix crashes from invalid
	  packets. [Skotlex]
	* Fixed a horrible bug that was making the walk delay not work for sure x.x
	  [Skotlex]
2005/11/29
	* Fixed race exp bonuses. [Skotlex]
	* Fixed ## account variable saving disconnecting the char-login servers. [Skotlex]
	* Updated the way multi-hit skills add overrefine/star crumb/spirit sphere
	  damage so that the total bonus is multiplied by the total number of this.
	  [Skotlex]
	* Fixed the config variables being "lost" on startup. [Skotlex]
	* Fixed Restore requiring Regeneration lv2 [Skotlex]
	* Fixed the spirit sphere bonus not applying to Throw Spirit Sphere. [Skotlex]
	* Rewrote and cleaned up duel code. Formed independent duel_xxx functions.
	  I suggest to place this functions in duel.c/duel.h. New features: [LuzZza]
	  - Now when you in duel, you can't attack anything out of your duel
	    (mobs, other players etc...);
	  - Now you can't take part in duel more often than it set in battle_athena.
	    Default delay is 60 minutes.
	  - New battle_athena.conf options: duel_allow_pvp - allow/disallow duel
	    on pvp-maps; duel_allow_gvg - allow/disallow duel on gvg-maps;
	    duel_time_interval - delay between using duel in minutes.
	* Updated damage formula for Spiral Pierce. [Skotlex]
	* Fixed speed change being lost when speed is increased/decreased while
	  walking with Free-cast. [Skotlex]
	* Fixed pets being renameable after turning them back into eggs. [Skotlex]
	* Reverted the guild data position in the mob/npc packets, should restore
	  the emblems in flags. [Skotlex]
	* Corrected battle_check_target Guild checks returning true for non-guild,
	  party'ed characters and viceversa. [Skotlex]
2005/11/28
	* Added dontBR's experimental configure script. It's still in alpha stage,
	  so use with caution! [Skotlex]
	* Fixed a pair of exp exploits possible with to Rich Man Kim and
	  race-add-exp card bonuses. [Skotlex]
	* Updated behaviour of skillrange_from_weapon. If set, those skills with
	  negative range use the weapon's range. If not set, then the skill range
	  used is the absolute value of the range specified in the skill_db. [Skotlex]
	* Small cleanup of the color broadcast packet using data provided by Master
	  of Muppets. It should hopefully fix the font-size on said colored messages.
	  [Skotlex]
	* Fixed the setting of the guild id and guild emblem in packets 0x7b and
	  0x78 for mobs/npcs (this is assuming the position is correct when filling
	  these same packets for players) [Skotlex]
	* Added battle_config option skillrange_from_weapon which, when set, allows
	  weapon based, target-selected, offensive skills to take the equipped
	  weapon's range instead of the range defined in the skill_db. [Skotlex]
	* WARNING/ACHTUNG! Update all your NPCs ASAP. Massive NPC fix's out. [Lupus]
	* Updated monster_ai&8 so that mobs scatter as soon as they lose their
	  target. Use this setting for an effective counter measure to Grimtooth
	  mass-mob training. [Skotlex]
	* Added pc_damage_walk_delay_rate to separate the walk delay adjustment of
	  players from that of mobs. The adjustment for players is 20% while for mobs
	  is 100%, pending further adjustments. [Skotlex]
	* Added the weapon upgrade damage bonus of Spiral Pierce [Skotlex]
	* Removed the mob_stop_walking code from mob_damage as it should be invoked
	  on battle_walkdelay (the mob walk delay issue will likely need it's own
	  config option) [Skotlex]
	* Added joshuali's new Visual Studio files. [Lance]
	* Novice Warp Portal fixes from jAthena. [Lance]
	* Final warning elimination in plugins.c (most of them are gone with warning level set to 1). [Lance]
	* Fixed typo in msg_athena.conf and 'users with autoloot turned on will not have their rare drops announced.'. Thanks to Kaseki.
	* Mob should stop walking when hit if not enduring. Thanks to Playtester. [Lance]
	* Included pcre.dll and libmysql.dll from joshuali. [Lance]
	* Eliminated Level 3 warnings. Setting compile warnings to Level 3. (Level 4 just kills eAthena XD) [Lance]
2005/11/27
	* Fixed an overflow pointer bug in the gvg eliminate timer. [Skotlex]
	* Updated the damage code if Spiral Pierce, Shield Chain and Shield
	  boomerang to be closer to official. [Skotlex]
	* Fixed a crash when setting all chars offline in the char-sql server. Also
	  fixed that delete_timer mismatch on shutdown [Skotlex]
	* Autospells now won't trigger if the range between the source and the
	  target is not satisfied. [Skotlex]
2005/11/26
	* Added bonus2 bAddSkillBlown for adding a custom knockback value to a
	  skill. Note that this knockback bonus is ADDED to whatever the default
	  knockback of the skill is. [Skotlex]
	* Fixed Soul Linker skills showing up on the tree for leveling up. [Skotlex]
	* Probably fixed the crash in inter_guild_CharOffline [Skotlex]
	* Modified the skill get range routine to correctly account for the attack
	  range and the AC_VULTURE range bonus where needed. [Skotlex]
	* Fixed alchemists Fame Points bug: It were giving 1 fame point [Lupus]
		on making 4 Condensed Potions in row, instead of 3, etc. Now tested ^_-
	* Some restructuring and cleaning up in map loading to make it easier for
	  future plans (like removing Grfio) [celest]
	  - split map loading into separate sources properly
	  - added map server will display a list of enabled map sources on startup
	  - added maps will be auto-imported into the map cache if it's loaded with
	    AFM, AF2, or any other source
	  The server looks for maps in this descending order: the map cache, AFM maps,
	  AF2 maps, and finally GAT files from the GRF (slowest); so, if you enable map
	  caching it should be a liiiittle bit faster then before ^^
2005/11/25
	* Uploaded fixes to int_guild, tested and working safely. [Kevin]
	* Added @showzeny @ command. [Skotlex]
	* Some code cleanup to make AutoBerserk work the way it was intended to
	  (skill toggles "auto-berserk" state on/off, if on, you automatically get
	  Provoked when under 25%HP) [Skotlex]
	* Fixed Auto-Berserk auto-ending after a minute. [Skotlex]
	* Added a fix to mob skills to prevent them from being checked too
	  frequently during battle (which was sort of bumping up their rate to double
	  or more from what the skill db would state) [Skotlex]
	* Added cleaning up the fifo before sending the guild information (since
	  the packet is big, the fifo should be cleared to avoid overflow problems)
	  [Skotlex]
	* Added monster_ai&8, when set monsters stop walking as soon as they lose
	  their current target [Skotlex]
	* Reflect Sword again reflects damage versus players. [Skotlex]
	* Corrections to the skill code so only Heaven's Drive may damage traps. [Skotlex]
	* Reverted the mob random walk delay after unlocking a target to 3~6 secs. [Skotlex]
	* Added pow, sqrt and distance to scripting commands. [Lance]
	* Removed players with 0 Fame Points from Blacksmith/Alchem/Taekwon TOP10 lists [Lupus]
	* Should fix night glowing bug. [Lance]
	* Added setd and getd variable retrieving and setting with dynamic names. [Lance]
	* Added petstat command as requested by Dubby. [Lance]
2005/11/24
	* Fixed a small bug in the guild search by name routine. Should fix the
	  crash on new guild creation. [Skotlex]
	* Added debug information in case the guild isn't found in the cache when
	  it should be there. This should help fix any problems the guild cache
	  might have (eg: for some function that may take effect on a guild which
	  has no members online) [Skotlex]
	* Finished cleaning up and merging the guild cache withthe guild timers
	  behaviour. It should be mostly safe to update now. [Skotlex]
	* Reverted the sql save behaviour. [Skotlex]
	- Now guilds timers and cache are both into effect, this requires a bit
	  more of cleaning to be considered done.
	* Various things I made but already forgot xD [DracoRPG]
	* Fixed and updated damage bonus for forged weapons: VVVS is +40 (was previously +50
	  for the right hand...) and "famous maker bonus" gives a no-miss +10 dmg, same as
	  2 additional Star Crumbs. [DracoRPG]
	* Added or updated several Taekwon skills [DracoRPG]
	  - Jump Kick uses clif_slide to the target's exact pos , waiting for capture/video
	  - Taekwon ranking is now supported by the fame system, but there's no way to gain
	    points atm (Taekwon Mission has no effect), infinite kick combo should be OK
	  - 4 basic kicks updated, you now stop attacking when a stance triggers, and have 2
	    seconds to hit the button before attacking again
	  - Run uses SC_SPORT to increase your STR and affect the way Break Fall works
	  - Break Fall dodges ranged magic/weapon attacks, as well as melee weapon ones
	    when SC_SPORT is active
	* Made Sword Reject / Counter Instinct reflect damage only against monsters (not
	  100% sure about it, but let's say 90%... iRO site says it, although it isn't
	  the best source ever) [DracoRPG]
	* Made Spiral Pierce use SC_STOP instead of setting canwalk_tick, some other such things
	  need to be reviewed [DracoRPG]
	* Fixed Pneuma. [Skotlex]
	* Fixed dead mobs reappearing on the map. [Skotlex]
	* Cleaned up the duel code in battle_check_target. [Skotlex]
	* Added config option summons_inherit_effects, defaults to yes, check
	  battle_athena.conf for further details. [Skotlex]
	* Updated duel [LuzZza]
	- Now "@duel <Num>" may be used for indication max players limit of duel.
	- Now "@duel <Nick>" creating duel for two players and automatically send invitation to Nick.
	* Added a new script function: getequipcardid(equipSlot,CardSlot) [Lupus]
		Returns Card ID or just a value from your EQUIPPED item
		Useful to check equipped items PROPERTY, STRONG value, Author ID, etc
		Check npc\sample\getequipcardid.txt and read script.c comment ^_-
2005/11/23
	* Fixed the crash on guild creation in new guild cache. [Kevin]
	* Implemented duel organizing commands: @duel, @invite, @accept, @reject, @leave. [LuzZza]
	* Made the walk-delay a timer, so that it triggers after the actual attack
	  motion of the src. [Skotlex]
	* Added back the combo damage delay config, now renamed to
	  multihit_delay, and set to the default of 230ms it had before. [Skotlex]
	* Added displaying file which caused an error on incorrect mob lines.
	  [Skotlex]
	* Small memory corrections to sql castle saving/loading, mostly Lance's
	  work. [Skotlex]
	* Updated the walk delay routine to not invoke stop-walking when character
	  is not walking (fixes the case in which the packet is sent while sitting,
	  which causes a 'standing' sprite even if the char is sitting). [Skotlex]
2005/11/22
	* Implemented a guild cache in char sql, saves all online guilds every 5 minutes. [Kevin]
	* More grammar fixes [Kayla]
	* Added 1-tile of range grace in skill_use_id and skill_use_pos since
	  that's how it is on Aegis servers. [Skotlex]
	* Updated the skill info packets to deliver the skill names as expected by
	  the client. [Skotlex]
	* Updated mob ai to enable changing targets while attacking ONLY if the
	  attacker is within melee range (Aegis AI). monster_ai&4 can be used to
	  override this and allow mobs to change target and pursue ranged attackers.
	  [Skotlex]
	* Updated the config comments for the ip-related settings. Thanks to
	  akusarujin for the update. [Skotlex]
	* Added rates to at_command.conf, set it's default to GM lv1 [Skotlex]
	* Removed the icon from Fire Break's fire-elemental bonus. [Skotlex]
	* Updated the walkdelay function to only be invoked if the attack did
	  damage. [Skotlex]
	* Some more fixes to the english in ShowInfo()'s [Kayla]
	* Cleaned out the SVN a bit [Kayla]
2005/11/21
	* Removed "(now unlimited loop start!)" from char-sql in an info line...wtf xD..[Kayla]
	* Mob AI update: updated the conditions used to specify if a mob can change
	  targets as per the forum provided information (by Komurka and Kyoki).
	  Mode 512 (MD_CHANGETARGET) no longer does anything. [Skotlex]
	* Mobs that assist now link nearby mobs when they attack. [Skotlex]
	* Made the damage delay be applied after knockback rather than before
	  (magical/misc instant effect attacks are still applied before the
	  knockback) [Skotlex]
	* The damage delay timer now stores the distance between source/target, if
	  this distance is increased by 2 or more, the damage delay fails and takes
	  no effect (if the '2' needs to be made higher, do point it out. It
	  shouldn't be much of a problem since you aren't supposed to be able to walk
	  from the damage delay anyway). [Skotlex]
	* Changed the way damage delay works. It is no longer applied on
	  mob_damage/pc_damage, but instead is invoked from clif_damage (or
	  clif_skill_damage), which means the "can't walk" delay is sync'ed with the
	  damage packets when they are sent. This should fix most delay-damage
	  'stun-lock' related issues. [Skotlex]
2005/11/20
	* Mobs now can't move while casting. [Skotlex]
	* Updated mob_db.txt and mob_db.sql with the most recent data from Kyoki.
	  [Skotlex]
	* Corrected the mob_db by adding the canmove/canattack bits to pretty much
	  all mobs that needed them. [Skotlex]
	* Some fixes to the confusion code. [Skotlex]
	* Crash-fix in status_change_start [Skotlex]
	* Implemented confusion as it should be (not tested yet!) [Skotlex]
	* Updated run_script to backup the current script of a player and
	  restore it if the current script ends inmediately. This should fix losing
	  the script info if status_calc_pc is invoked while running a script.
	  [Skotlex]
	* Fixed a memory leak in the guild eliminate timer. [Skotlex]
	* Removed the extra tile of range mobs have when walking. [Skotlex]
	* Added mob reloading to battleconfig reload @ command. [Skotlex]
	* Updated mob_db.sql with the new modes by Kyoki. [Skotlex]
2005/11/19
	* Made characters stop walking when inflicted by SC_STOP, may fix
	  GrimTooth's stop effect not seeming to take effect. [Skotlex]
	* Made the pk_min_level config not take effect in WoE/GvG grounds.
	  [Skotlex]
	* Fixed showing falcon when player is hide. [LuzZza]
	* Updated mob_db.sql and item_db.sql to current [Skotlex]
	* Updated the skill db step guessing code to allow for negative ranges (Now
	  spear boomerang should progressively get longer range with higher levels)
	  [Skotlex]
	* Fixed Tarot Card, the card that gets two random effects can't retrigger
	  itself, and it causes STOP instead of Stun where appropiate. [Skotlex]
	* Updated devotion to only work on damage attacks that have a source (will
	  prevent it from "blocking" COMA, which is what caused the crash). [Skotlex]
	* Fixed not always showing CRIT attacks, thanks to Irmin [Lupus]
2005/11/18
	* Updated mob_ai so aggressive mobs change target when chasing, and
	  change-target mobs do so when attacking. [Skotlex]
	* Fixed weapon forging showing success even when it fails. [Skotlex]
	* Some cleaning up of @time, may fix the weird time displays. [Skotlex]
	* Modified mob_ai so hyper-active mobs change target if they are
	  cast-sensors even if attacking (angry mode). They will also change target
	  if attacked while in angry/follow mode regardless of their change-target
	  mode. [Skotlex]
	* Moved the night-inducing code from "map loaded ack" to "spawn pc", should
	  fix characters going ultra-blue after stuff like fly-wings. [Skotlex]
	* Delayed the mob emotion when doing skills so that it gets executed AFTER
	  the skill is successfully performed. [Skotlex]
	* Implemented PR_REDEMPTIO. Is the penalty for both base and job exp?
	  That's how it is currently. And if the map has the nopenalty flag,there's
	  no exp penalty. Awaiting further input on the matter (altough, do note the
	  skill isn't tested either) [Skotlex]
	* Fixed three memory issues (char txt shutdown, npc reloading, ore
	  discovery logs) which were pointed out by End of Exam. [Skotlex]
	* Added support for hyper-active mobs (MD_CHANGECHASE = 0x400), these mobs
	  will change to the closest target while chasing/following other players.
	  Needs be added to the mob_db. [Skotlex]
	* Added support for hyper-aggressive mobs (MD_BERSERK = 0x800), these mobs
	  change their skill state to angry/follow instead of attack/chase when they
	  select/change target (except if they changed target because the new target
	  attacked them). Needs be added to the mob_db, for now all aggressive mobs
	  are considered hyper as well. [Skotlex]
	* Updated mob mode cast-sensor (MD_CASTSENSOR = 0x010), mobs that are
	  Aggressive can also change target if they are chasing/following a player
	  when someone else casts a skill on them. [Skotlex]
	* Fixed Dark Blessing. [Skotlex]
	* Changed the default battle_delay_damage value from no to yes. [Skotlex]
	* Added check to prevent reinitiating SC_GOSPEL on a character that already
	  has GOSPEL and val4 == BCT_SELF, may fix multiple Gospels being placed on
	  the ground. [Skotlex]
2005/11/17
	* Altered behaviour of NPC_EMOTION/NPC_EMOTION_ON as requested by Komurka.
	  [Skotlex]
	- val[0] (the first one) is the emotion the mob does. If val[1] is
	  different from 0, then the mob's mode is changed to THIS value. If val[2]
	  is different from zero, it'll add/remove a mode based on skill used
	  (EMOTION_ON adds mode, EMOTION removes it), both can stack [Skotlex]
	* Fixed for sure the Makefile... [Skotlex]
	* Modified Wedding effects. That is, changing base to 22 does NOT displays
	  wedding outfit anymore. To display the wedding outfits, you have to start
	  SC_WEDDING instead. Tux/Wedding dress scripts likely need being updated.
	  [Skotlex]
	* Added battle option disp_zeny, will display on console how much zeny you
	  earned (be it from selling, trading, mobs, etc, as long as you "earned"
	  zeny) [Skotlex]
	* Updated status_calc_pc to prevent infinite recursion loops. [Skotlex]
	* Applied End of Exam's suggested signedness fixes to npc.c [Skotlex]
	* Updated sting lib, to avoid SQL troubles [Lupus]
	* Fixed moonlit not properly checking for nearby walls. [Skotlex]
	* Added a recursion protection system to status_calc_pc which should avoid
	  exploits derived from recursively calling status_calc_pc which certain
	  equipment scripts could trigger. Thanks to End of Exam for pointing it out.
	  [Skotlex]
	* Applied Celest's patch which should help compiling eA under mingwin.
	  [Skotlex]
2005/11/16
	* Fixed AFM map loading (something was missing there which was gonna make
	  the map server crash for sure later on) [Skotlex]
	* Some corrections to the mob states, linked/cast-sensitive mobs engage in
	  attach/chase modes, not angry/follow (which seem reserved entirely for
	  aggressive mobs) [Skotlex]
	* Cleaned up and corrected target types MSS_AROUND->MSS_AROUND8, also added
	  and documented them in mob_skill_db.txt [Skotlex]
	* Probably corrected whispers to GMs. Thanks to Slennox for pointing it
	  out. [Skotlex]
	* Modified mob-skill states to use Aegis-based information. Modes are
	  MSS_IDLE, MSS_WALK, MSS_LOOT, MSS_DEAD, MSS_BERSERK, MSS_ANGRY, MSS_RUSH
	  and MSS_FOLLOW. Mob skill db is unaltered other than for the fact it now
	  supports "angry" and "follow" states. [Skotlex]
	* Cleanup of how knockback routines are invoked. [Skotlex]
	* Added MOB_LAZYSKILLPERC to mob.c, determines probability of a mob doing a
	  skill when there are no players nearby (but there has to be players in the
	  same map for it to trigger). Currently set to 10/1000 chance. [Skotlex]
	* battle_check_target update. Rewrote the party/guild checks, this should
	  hopefully fix any problems left with pvp/gvg and mapflags not working
	  properly. [Skotlex]
	* Fixed playerattached() returning char id instead of account id. [Skotlex]
	* Added battle option party_even_share_bonus to enable use of Valaris's evn
	  share experience bonus equation rather than the official one. [Skotlex]
	* Corrected @jump not displaying the actual coords you jumped to. Thanks to
	  kitty74x9 for noticing (and fixing) it out. [Skotlex]
2005/11/15
	* Fixed multi-hitting skills not increasing the "can-walk" delay
	  accordingly. [Skotlex]
	* Modified way to updating hp/position of party members. [LuzZza]
	* Added battle config option "aura_lv", specifies which level characters
	  have to be for the server to report their level as "max_lv" (which normally
	  is used to enable the aura). See battle_athena.conf for more details. It
	  may not work for your self, but only for other characters (this is,
	  afterall, untested yet) [Skotlex]
	* Implemented High Jump (works 100%) and Fighting Chant (untested but should work). [DracoRPG]
	* Various cleanups and typo fixes here and there. [DracoRPG]
	* Corrected the upkeep SP cost of Moonlight Petals. [Skotlex]
	* Modified Magnum Break's fire bonus to be 20% ADDITIONAL fire damage of
	  your total damage previous to the elemental modifier. [Skotlex]
	* Modified Fatal Blow's stun chance to kRO's equation (+5% stun chance per
	  bash skill level over 5) [Skotlex]
	* Corrected Sharpshooting's damage equation to +50%*skill_lv [Skotlex]
	* Updated Magnum Break's bonus from 10% to 20% fire elemental. [Skotlex]
	* Updated Arrow Shower to be a ground based skill (untested yet) [Skotlex]
	* Pretty much rewrote how Moonlight Petals work, it should be working
	  mostly right now. [Skotlex]
	* Splitted gat map information into gat and cell info. gat info is
	  permanent map data (walls, ground, etc) while cell is temp map info
	  (basilica, pneuma, etc). Modified Pneuma and Moonlight Petals to work based
	  on map cells. [Skotlex]
2005/11/14
	* New Visual Studio projects, compiling works, need zlib.dll for txt server. [Kevin]
	* Longing for Freedom can't be used during Moonlight Petals now. [Skotlex]
	* Corrected True Sight's critical bonus (from +0.1 cri per level to +1 cri
	  per level) [Skotlex]
	* Made coma a status effect. SC_COMA. Sets HP/SP to 1. Bosses/Emperium are
	  inmune to it. [Skotlex]
	* Fixed null pointer crash in battle_damage. [Skotlex]
	* Increased max account variables to 32. [Skotlex]
	* Pressure/Gloria Domini now isn't instant-cancelled by status effects, and
	  bypasses the Devotion/Sacrifice check. [Skotlex]
	* Added handling of the /pk packet, even thought it just shows an empty
	  listing for now. [Skotlex]
	* Applied zBuffer's suggested fix to prevent S. Novices from getting mental
	  Strength at 100% exp. [Skotlex]
	* Fixed Friends List not able to add more than 20 friends (current clients support up to 40) [Lupus]
	  thanks to CAHTEXNIK for pointing it out 8)
2005/11/12
	* Probably fixed the name of freshly captured pet eggs. [Skotlex]
	* Changes Win32 to not require svnversion.h, but instead tries to peek in
	  .svn\entries to check for svn version. If the file doesn't exist it'll
	  display "Unknown" though, which I guess isn't a good thing ^^; [celest]
	* Removed the option to load zlib as a plugin for Win32 since it should be
	  linked at compile time [celest]
	* Added zlib and libmysql .lib files for compiling in Visual Studio [celest]
	  Note: The project files on SVN don't have them yet, you'll need to include
		them yourself for now
	* Fixed a compile error in Visual Studio [celest]
	* Readded a missing zlib file needed by Win32, sorry ^^; [celest]
2005/11/11
	* New readme content/layout (IE warning: IE hates new readme) [Evera]
	* Imported use of the refine weapon packets from jA. [Skotlex]
	* Removed SC_MODE, now NPC_EMOTION and NPC_EMOTION_ON can change a mob's
	  mode permanently (until their death, that is), and it won't work on
	  player summoned mobs. As before, val1 is the emotion value, val2 is the
	  mode to add/remove. Val3 is now ignored (used to be duration) [Skotlex]
	  (no, no need to wipe SC data this time around either)
	* Cleaned up sql-files to use TYPE rather than ENGINE as TYPE is supported
	  by older MySQL versions and not quite deprecated yet. [Skotlex]
	* Modified the party even share exp bonus to be +10% per extra party member
	  as official sources state. [Skotlex]
	* Organized the clif_devotion packet, and added clif_marionette as per
	  jA's implementation. [Skotlex]
	* Added db_path to map_athena.conf, used to specify an alternate directory
	  to locate the db/ files. Defaults to "db", obviously. [Skotlex]
	* Removed SC_FALCON and SC_RIDING, the status icons are directly managed
	  through the change of the character's option now. The actual defines were
	  not removed to avoid shifting all the SC_ values again (no need to wipe sc
	  data) [Skotlex]
	* Added additional debug information to battle_attr_fix until the cause of
	  those errors are found and resolved. [Skotlex]
	* Fixed win32 compiles always reporting "unable to set socket to
	  non-blocking mode", together with other minor win32 fixes. [Skotlex]
2005/11/10
	* Fixed char-sql cart loading. [Skotlex]
	* Updated the function that specifies the cards to support more than four
	  slots. [Skotlex]
	- Since the packets are fixed sized the client can never receive data of
	  more than four cards, therefore if the client was compiled with MAX_SLOTS
	  above 4, a random subset of cards will be sent each time the item data is
	  sent (eg: if the item has 6 slots, it may randomly choose to send cards
	  1->4, 2->5, or 3->6).
	* Removed the OnAgitInit call when the map connects to char server. Fixes
	  double guardian spawn. [Skotlex]
	* Fixed the sql query strings that would appear "incomplete" under certain
	  *nix systems. [Skotlex]
	* Applied zBuffer's patches to correct memory leaks in the PCRE module
	  (regular expression support for npcs) and prevent server crashing when
	  scripts divide (or do mod %) by zero. [Skotlex
2005/11/09
	* Fixed Ankle Snare and Spider Web not being cleared when the trapped
	  target dies. [Skotlex]
	* Fixed the range flag being incorrectly set in BF_MISC skill attacks.
	  [Skotlex]
	* Corrected Venom Knife using Level1 always for the poisoning chance rather
	  than learned Envenom's level. [Skotlex]
	* Fixed the crash on shutdown if PCRE support was enabled. [Skotlex]
	* Fixed possible item duping while vending, thanks to End of Exam for
	  pointing it out. [Skotlex]
	* Fixed the blue aura of Night effect. Thanks to zBuffer [Skotlex]
	* Fixed mobs moving one tile when hit even if they can't move (this is what
	  broke Ankle Snare) [Skotlex]
	* Fixed night/day implementation (which broke due to the addition of SI_
	  constants). [Skotlex]
	* Cleaned up the SI_ constants to have defined only those which actually
	  display something on the client. [Skotlex]
	* Fixed a bug which caused a captured pet's name to be displayed as beloved
	  even though it was just captured. [Skotlex]
	* Added temp skill quests for all complete 2nd Class Quest Skills [Lupus]
2005/11/08
	* Updated the documentation on the announce script commands. [Skotlex]
	* Removed the global color message support as there's now a way to craft
	  custom colored announces. [Skotlex]
	* Probably fixed mapannounce. [Skotlex]
	* Implemented SI_ constants to specify the icon number for different SC_
	  changes, idea adopted from jAthena. All SC_ data was reorganized and
	  several checks are now in place. It is likely all saved sc_data is wrong
	  after this update due to the numbers changing places. It won't cause any
	  glue-boots.. but the wrong status changes will be loaded the first time
	  anyway, so it may be a good idea to wipe that file/table for this update.
	  [Skotlex]
	* Added mob boss inmunity to status changes: poison, curse, deadly poison.
	  [Skotlex]
	* Now when the mob starts casting a skill and stops walking, a packet will
	  be sent to update the mob position on the clients. [Skotlex]
	* Fixed a bug in mob_stop_walking which may fix stun-lock. [Skotlex]
	* Fixed not showing named/carded items in Vending [Lupus]
	  (when you drag'n'drop them from your cart into your shop list)
2005/11/07
	* Expanded script commands announce/mapannounce/mapareaannounce to take an
	  additional parameter to define the color. This uses the new packet 0x1c3 to
	  send the broadcast, and even though the packet is not fully understood yet,
	  it should be at the point where it can be used. [Skotlex]
	- eg: "announce "hello world", bc_map, 0xFFFF00;"
	* Cleaned up and optimized the way card data is set in packets. Should
	  correct most, if not all, pet-egg related issues. [Skotlex]
	* Removed combo_damage_delay and added damage_walk_delay_rate. Now the total
	  delay during which you can't move is a percent of the normal damage delay
	  rate adjusted by number of hits and this rate. Defaults to 50% for now. [Skotlex]
	* Removed the random damage delay value from status_get_dmotion as it is
	  not really helping the walk-stun-lock. [Skotlex]
	* Made Gravitation ignore target's cards. [Skotlex]
	* Updated readme with new layout [Evera]
	* Updated bAddMonsterDropItem bonuses to work with cards: Mimic Card, Mystcase Card
	  where bonus_item_rate = base_rate * (killed_mob_level/10) + 1
  	  So if 2nd argument is negative, then it's 'rate'
  	  Now, if you kill Porings, u'd have OBB/GIFT BOX drops with 0.01% chance
	  and if u kill Leaf Cats then u'd have them with 0.05% chance
	  Max chance is 0.1% (when u kill MVPs with level > 94) [Lupus]
2005/11/06
	* Cleaned up a bit the warp portal code. [Skotlex]
	* Added a timer to invoke the OnAgitInit event 10 seconds after the char/map
	  servers are connected. Scripts should now carefully use OnInit to load the
	  castle data, and OnAgitInit to check for castle owners, mobs, WoE, etc.
	  [Skotlex]
	* Reverted the  damage delay equation to 800 -4*agi, which is the correct
	  data from packets examined. [Skotlex]	
	* Slow motion Fix: Reverted weight packet, thanks to Momoko [Lupus]
2005/11/05
	* Fixes on sending to client status of char (guild, position, etc). [LuzZza]
	* Updated backsliding to work as it should. [Skotlex]
	* Added back the GPL licence on the root directory (why was this removed?)
	  [Skotlex]
	* Fixed knock-back packets, thanks to Vicious for collecting the packet
	  samples. [Skotlex]
	* Fixed pretty much all ground skills not working when you "walked into
	  them" (they were fine if casted on top of you, though) [Skotlex]
	* Fixed not working ZENY LOG. You can use logging filter as well. [Lupus]
		- Only SQL logs available.
		- Logs only Vending, Trade, Shops yet
		- Don't forget to update your logs SQL DB and log_athena.conf
	* Added previously removed (by an accident) "MVP Prize item log" into pick_log [Lupus]
2005/11/04
	* Added support for new quest skills to @allskills/@skillall. Thanks again to blackhole89 for 
	  pointing that out! [Kayla]
	* Fixed various occurencies of assuming Guild Skills being >= ID 10000 
	  rather than 500<skill<1000 still after skill_chk. Thanks blackhole89! [Kayla]
	* Hopefully fixed Weapon Refine. [Skotlex]
	* Applied a change which prevents pc_setpos from working for characters
	  between maps, as doing so makes the character appear on a different
	  position on the client than the position stored in the server. [Skotlex]
	* Added friend_db option to inter_athena.conf, now friend table is
	  usable in multi server and/or custom db configs. [Foruken]
2005/11/03
	* Corrected the basilica check which should disable casting offensive
	  skills from within inside the basilica. [Skotlex]
	* Modifed status_change_end to prevent peco-peco/falcon from ending until
	  the player's 'falcon/peco option' value is removed first. [Skotlex]
	* Removed the knockback code for players and changed it for a "fix
	  position" code. The new code is not right as it makes your character
	  "teleport" to the position rather than walk really fast to it, but it fixes
	  the "Do not use bot!" messages. [Skotlex]
	  (someone has to log the actual packets used when being knocked/knocking
	  back for this to really be fixed)
	* Heaven Drive now can target traps. [Skotlex]
	  (I find it impossible to target a trap with Arrow Shower unless the
	  skill's info is set to 32 -target traps-, but when it's done so, the
	  client refuses to use the skill on enemies, and mode 33 makes the skill
	  useless. How does one makes this work?)
	* Various cleanups to the skill system. [Skotlex]
	* Update: Now your cast cancels on recieving status change such as:
	  Stun, Stone Curse, Freeze or Sleep [LuzZza]
	* Updated the code to allow the Emperium to be inflicted by Pneuma and
	  Safety Wall. [Skotlex]
	* Updated @recallall to revive any dead characters before moving them,
	  should fix that weird ghost bug. [Skotlex]
2005/11/02
	* Made Spell breaker not be able to cancel Pressure/Gloria domini [Skotlex]
	* Another fix/optimization to thenight/day system. [Skotlex]
	* Fixed possibility of freezing / stunning already frozen/stunned players
	- Now you can't freeze an already frozen one [Lupus]
	* Fixed non-GMs allowing send trade requests from far places [Lupus]
	* Fix of lowest_gm_level (inter_athena), now logins with access under
	  lowest_gm_level overides gm_can_drop_lv. [Kayla]
	* Spell Breaker now works on any skill with a cast time. [Skotlex]
	* Made Dispell not work on Meltdown and Cart Boost [Skotlex]
	* Made Meltdown not dispellable upon death. [Skotlex]
	* Probably fixed Warp Portal [Skotlex]
	* Fixed players being able to mute others even if their gm level is not
	  high enough to use @mute [Skotlex]
	* Fixed Dispell not clearing a lot of status changes it should. [Skotlex]
	* Corrected the way the Emperium skill-defense works. Damage skills other
	  than Gloria Domini, Raging Trifecta and Gravitation do no damage. Status
	  changing skills have no effect, and normal heal heals for 0. [Skotlex]
	* Some more corrections to the night/day system. [Skotlex]
	* Multiple fixes to the skill system. Should fix Warp Portal, Teleport and
	  mob skills crashing the server. [Skotlex]
	* Updated sql-files/item_db.sql with the latest. [Skotlex]
	* Some optimizations to the script config events loading/storing/saving.
	  (Somehow it fixes the warning from the memory manager on shutdown...)
	  [Skotlex]
2005/11/01
	* Updated battle_check_target to allow ground skills that affect "Everyone"
	  to affect the emperium, only the ones that target only enemies will have no
	  effect. [Skotlex]
	* Changed the default of mob_max_skilllv from 11 to 100, as many of the
	  recent mobs use higher level skills. [Skotlex]
	* Moved the check which made emperiums receive 0 damage to: [Skotlex]
	- status_check_skilluse, so that all targetted skills fail.
	- battle_check_target, so that all ground-based offensive skills fail.
	* Cleaned up a bit the skill related code. [Skotlex]
	* Updated @ commands. NO command comes at gm-level 0 by default now, that's how
	  it should be, the new default minimum is 1 for most trivial @ commands. Also added
	  a bunch of commands to conf/atcommand.conf which were missing. I STRONGLY
	  recommend everyone to at least fetch the new atcommand file as there
	  were abusable commands at level 0 (abusable in the sense they can incur
	  performance penalties if over-used by everyone) [Skotlex]
	* Fixed crash when a mob was killed while under Rich Man Kim effect by a
	  non-player, also fixes Rich Man Kim not giving the correct exp bonus.
	  [Skotlex]
	* Modified the socket subsystem to not close all connections on an "Service
	  Temporarily Unavailable" error (it is a non-fatal error which basicly means
	  "try again later").  [Skotlex]
